---
import { getCollection } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../consts";

// è·å–æœ€æ–°çš„ 3 ç¯‡åšå®¢æ–‡ç« 
const latestPosts = (await getCollection("blog"))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);

// ç²¾é€‰é¡¹ç›®
const featuredProjects = [
	{
		title: "Personal Blog & Portfolio",
		description:
			"ä½¿ç”¨ Astro æ„å»ºçš„ä¸ªäººç½‘ç«™ï¼ŒåŒ…å«åšå®¢ã€é¡¹ç›®å±•ç¤ºã€ç®€å†ç­‰åŠŸèƒ½",
		tags: ["Astro", "TypeScript", "CSS"],
		github: "https://github.com/LosFurina/LosFurina.github.io",
		demo: "/",
	},
	{
		title: "Kubernetes Cluster Setup",
		description:
			"ä½¿ç”¨ kubeadm æ­å»ºçš„ç”Ÿäº§çº§ Kubernetes é›†ç¾¤ï¼ŒåŒ…å«ç›‘æ§å’Œæ—¥å¿—",
		tags: ["Kubernetes", "Docker", "Prometheus"],
		github: "https://github.com/LosFurina",
	},
	{
		title: "CI/CD Pipeline Template",
		description: "åŸºäº GitHub Actions çš„ CI/CD æ¨¡æ¿ï¼Œæ”¯æŒå¤šè¯­è¨€é¡¹ç›®",
		tags: ["GitHub Actions", "Docker", "CI/CD"],
		github: "https://github.com/LosFurina",
	},
];

// æŠ€èƒ½åˆ—è¡¨
const skills = [
	{ icon: "â˜ï¸", name: "Cloud", items: ["AWS", "GCP", "Azure"] },
	{
		icon: "ğŸ³",
		name: "Containers",
		items: ["Docker", "Kubernetes", "Podman"],
	},
	{ icon: "ğŸ”§", name: "IaC", items: ["Terraform", "Ansible", "Pulumi"] },
	{
		icon: "ğŸ”„",
		name: "CI/CD",
		items: ["GitHub Actions", "GitLab CI", "Jenkins"],
	},
	{
		icon: "ğŸ“Š",
		name: "Monitoring",
		items: ["Prometheus", "Grafana", "Loki"],
	},
	{ icon: "ğŸ§", name: "Linux", items: ["Ubuntu", "Arch", "RHEL"] },
	{ icon: "ğŸ’»", name: "Programming", items: ["Python", "Go", "Bash"] },
	{
		icon: "ğŸŒ",
		name: "Networking",
		items: ["TCP/IP", "DNS", "Load Balancing"],
	},
];

// å¿«é€Ÿé“¾æ¥
const quickLinks = [
	{
		icon: "â°",
		title: "Now",
		description: "What I'm currently up to",
		href: "/now",
	},
	{
		icon: "ğŸ› ï¸",
		title: "Uses",
		description: "Tools & software I use",
		href: "/uses",
	},
	{
		icon: "ğŸ”–",
		title: "Bookmarks",
		description: "Useful resources",
		href: "/bookmarks",
	},
	{
		icon: "ğŸ“",
		title: "Guestbook",
		description: "Leave a message",
		href: "/guestbook",
	},
];

// æ‰“å­—æœºæ–‡å­—
const typewriterTexts = [
	"DevOps Engineer",
	"Infrastructure Enthusiast",
	"Cloud Native Developer",
	"Automation Advocate",
	"Linux Power User",
];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			/* ========== Hero Section ========== */
			.hero {
				min-height: calc(100vh - 200px);
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				text-align: center;
				padding: 4rem 2rem;
				position: relative;
				overflow: hidden;
			}

			.hero::before {
				content: "";
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background:
					radial-gradient(
						circle at 30% 40%,
						rgba(var(--accent-rgb, 68, 115, 238), 0.08) 0%,
						transparent 50%
					),
					radial-gradient(
						circle at 70% 60%,
						rgba(var(--accent-rgb, 68, 115, 238), 0.05) 0%,
						transparent 40%
					);
				z-index: -1;
				animation: float 20s ease-in-out infinite;
			}

			@keyframes float {
				0%,
				100% {
					transform: translate(0, 0) rotate(0deg);
				}
				50% {
					transform: translate(-2%, 2%) rotate(2deg);
				}
			}

			.hero-avatar {
				width: 120px;
				height: 120px;
				border-radius: 50%;
				background: linear-gradient(
					135deg,
					var(--accent),
					var(--accent-dark, var(--accent))
				);
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 3rem;
				margin-bottom: 1.5rem;
				box-shadow: 0 10px 40px
					rgba(var(--accent-rgb, 68, 115, 238), 0.3);
				animation: pulse 3s ease-in-out infinite;
			}

			@keyframes pulse {
				0%,
				100% {
					transform: scale(1);
					box-shadow: 0 10px 40px
						rgba(var(--accent-rgb, 68, 115, 238), 0.3);
				}
				50% {
					transform: scale(1.05);
					box-shadow: 0 15px 50px
						rgba(var(--accent-rgb, 68, 115, 238), 0.4);
				}
			}

			.hero-greeting {
				font-size: 1.2rem;
				color: rgb(var(--gray));
				margin-bottom: 0.5rem;
			}

			.hero-name {
				font-size: 3.5rem;
				font-weight: 700;
				margin: 0 0 0.5rem;
				background: linear-gradient(
					135deg,
					rgb(var(--gray-dark)),
					var(--accent)
				);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}

			.hero-typewriter {
				font-size: 1.5rem;
				color: var(--accent);
				height: 2rem;
				margin-bottom: 1.5rem;
			}

			.hero-typewriter .cursor {
				animation: blink 1s infinite;
			}

			@keyframes blink {
				0%,
				50% {
					opacity: 1;
				}
				51%,
				100% {
					opacity: 0;
				}
			}

			.hero-description {
				max-width: 600px;
				font-size: 1.1rem;
				color: rgb(var(--gray));
				line-height: 1.7;
				margin-bottom: 2rem;
			}

			.hero-cta {
				display: flex;
				gap: 1rem;
				flex-wrap: wrap;
				justify-content: center;
			}

			.cta-btn {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				padding: 0.8rem 1.5rem;
				font-size: 1rem;
				font-weight: 600;
				text-decoration: none;
				border-radius: 12px;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.cta-btn.primary {
				background: linear-gradient(
					135deg,
					var(--accent),
					var(--accent-dark, var(--accent))
				);
				color: white;
				box-shadow: 0 4px 20px
					rgba(var(--accent-rgb, 68, 115, 238), 0.35);
			}

			.cta-btn.primary:hover {
				transform: translateY(-3px);
				box-shadow: 0 8px 30px
					rgba(var(--accent-rgb, 68, 115, 238), 0.45);
			}

			.cta-btn.secondary {
				background: rgba(255, 255, 255, 0.6);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(var(--gray-light), 0.8);
				color: rgb(var(--gray-dark));
			}

			:global([data-theme="dark"]) .cta-btn.secondary {
				background: rgba(50, 50, 55, 0.6);
				border-color: rgba(255, 255, 255, 0.1);
			}

			.cta-btn.secondary:hover {
				transform: translateY(-3px);
				border-color: var(--accent);
				color: var(--accent);
			}

			/* ========== Section Common ========== */
			.section {
				max-width: 1200px;
				margin: 0 auto;
				padding: 4rem 2rem;
			}

			.section-header {
				text-align: center;
				margin-bottom: 2.5rem;
			}

			.section-title {
				font-size: 2rem;
				font-weight: 700;
				margin: 0 0 0.5rem;
				color: rgb(var(--gray-dark));
			}

			.section-subtitle {
				color: rgb(var(--gray));
				font-size: 1rem;
			}

			.view-all-link {
				display: inline-flex;
				align-items: center;
				gap: 0.3rem;
				color: var(--accent);
				text-decoration: none;
				font-weight: 500;
				margin-top: 2rem;
				transition: gap 0.3s ease;
			}

			.view-all-link:hover {
				gap: 0.6rem;
			}

			/* ========== Featured Projects ========== */
			.projects-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
				gap: 1.5rem;
			}

			.project-card {
				background: rgba(255, 255, 255, 0.6);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(var(--gray-light), 0.8);
				border-radius: 16px;
				padding: 1.5rem;
				transition: all 0.3s ease;
			}

			:global([data-theme="dark"]) .project-card {
				background: rgba(40, 40, 45, 0.6);
				border-color: rgba(255, 255, 255, 0.1);
			}

			.project-card:hover {
				transform: translateY(-6px);
				border-color: var(--accent);
				box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
			}

			.project-card h3 {
				font-size: 1.2rem;
				margin: 0 0 0.5rem;
				color: rgb(var(--gray-dark));
			}

			.project-card p {
				font-size: 0.9rem;
				color: rgb(var(--gray));
				margin: 0 0 1rem;
				line-height: 1.5;
			}

			.project-tags {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-bottom: 1rem;
			}

			.project-tag {
				font-size: 0.75rem;
				padding: 0.25rem 0.6rem;
				background: rgba(var(--accent-rgb, 68, 115, 238), 0.1);
				color: var(--accent);
				border-radius: 20px;
			}

			.project-links {
				display: flex;
				gap: 0.75rem;
			}

			.project-links a {
				font-size: 0.85rem;
				color: rgb(var(--gray));
				text-decoration: none;
				display: flex;
				align-items: center;
				gap: 0.3rem;
				transition: color 0.2s ease;
			}

			.project-links a:hover {
				color: var(--accent);
			}

			/* ========== Skills ========== */
			.skills-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
				gap: 1rem;
			}

			.skill-card {
				background: rgba(255, 255, 255, 0.6);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(var(--gray-light), 0.8);
				border-radius: 12px;
				padding: 1.25rem;
				text-align: center;
				transition: all 0.3s ease;
			}

			:global([data-theme="dark"]) .skill-card {
				background: rgba(40, 40, 45, 0.6);
				border-color: rgba(255, 255, 255, 0.1);
			}

			.skill-card:hover {
				transform: translateY(-4px);
				border-color: var(--accent);
			}

			.skill-icon {
				font-size: 2rem;
				margin-bottom: 0.5rem;
			}

			.skill-name {
				font-weight: 600;
				font-size: 0.95rem;
				color: rgb(var(--gray-dark));
				margin-bottom: 0.25rem;
			}

			.skill-items {
				font-size: 0.75rem;
				color: rgb(var(--gray));
				line-height: 1.4;
			}

			/* ========== Latest Posts ========== */
			.posts-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 1.5rem;
			}

			.post-card {
				background: rgba(255, 255, 255, 0.6);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(var(--gray-light), 0.8);
				border-radius: 16px;
				padding: 1.5rem;
				text-decoration: none;
				transition: all 0.3s ease;
			}

			:global([data-theme="dark"]) .post-card {
				background: rgba(40, 40, 45, 0.6);
				border-color: rgba(255, 255, 255, 0.1);
			}

			.post-card:hover {
				transform: translateY(-6px);
				border-color: var(--accent);
				box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
			}

			.post-date {
				font-size: 0.8rem;
				color: rgb(var(--gray));
				margin-bottom: 0.5rem;
			}

			.post-title {
				font-size: 1.1rem;
				font-weight: 600;
				color: rgb(var(--gray-dark));
				margin: 0 0 0.5rem;
				line-height: 1.4;
			}

			.post-description {
				font-size: 0.9rem;
				color: rgb(var(--gray));
				margin: 0;
				line-height: 1.5;
			}

			/* ========== Quick Links ========== */
			.quick-links-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 1rem;
			}

			.quick-link-card {
				display: flex;
				align-items: center;
				gap: 1rem;
				background: rgba(255, 255, 255, 0.6);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(var(--gray-light), 0.8);
				border-radius: 12px;
				padding: 1rem 1.25rem;
				text-decoration: none;
				transition: all 0.3s ease;
			}

			:global([data-theme="dark"]) .quick-link-card {
				background: rgba(40, 40, 45, 0.6);
				border-color: rgba(255, 255, 255, 0.1);
			}

			.quick-link-card:hover {
				transform: translateX(6px);
				border-color: var(--accent);
			}

			.quick-link-icon {
				font-size: 1.5rem;
			}

			.quick-link-info h4 {
				font-size: 1rem;
				font-weight: 600;
				color: rgb(var(--gray-dark));
				margin: 0 0 0.15rem;
			}

			.quick-link-info p {
				font-size: 0.8rem;
				color: rgb(var(--gray));
				margin: 0;
			}

			/* ========== Opportunity Banner ========== */
			.opportunity-banner {
				background: linear-gradient(
					135deg,
					rgba(var(--accent-rgb, 68, 115, 238), 0.1),
					rgba(var(--accent-rgb, 68, 115, 238), 0.05)
				);
				border: 1px solid rgba(var(--accent-rgb, 68, 115, 238), 0.2);
				border-radius: 16px;
				padding: 2rem;
				text-align: center;
				margin-top: 2rem;
			}

			.opportunity-badge {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				background: linear-gradient(135deg, #22c55e, #16a34a);
				color: white;
				padding: 0.4rem 1rem;
				border-radius: 20px;
				font-size: 0.85rem;
				font-weight: 600;
				margin-bottom: 1rem;
			}

			.opportunity-badge::before {
				content: "";
				width: 8px;
				height: 8px;
				background: white;
				border-radius: 50%;
				animation: blink 1.5s infinite;
			}

			.opportunity-title {
				font-size: 1.25rem;
				font-weight: 600;
				color: rgb(var(--gray-dark));
				margin: 0 0 0.5rem;
			}

			.opportunity-text {
				color: rgb(var(--gray));
				margin: 0 0 1.25rem;
			}

			.opportunity-cta {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				padding: 0.7rem 1.25rem;
				background: var(--accent);
				color: white;
				text-decoration: none;
				border-radius: 10px;
				font-weight: 500;
				transition: all 0.3s ease;
			}

			.opportunity-cta:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 20px
					rgba(var(--accent-rgb, 68, 115, 238), 0.3);
			}

			/* ========== Responsive ========== */
			@media (max-width: 768px) {
				.hero {
					padding: 3rem 1rem;
					min-height: auto;
					overflow: visible;
				}

				.hero-name {
					font-size: 2.5rem;
				}

				.hero-typewriter {
					font-size: 1.2rem;
				}

				.hero-description {
					font-size: 1rem;
					padding: 0 0.5rem;
				}

				.section {
					padding: 2.5rem 1rem;
				}

				.section-title {
					font-size: 1.5rem;
				}

				.hero-cta {
					flex-direction: column;
					width: 100%;
					max-width: 100%;
					padding: 0 1rem;
					box-sizing: border-box;
				}

				.cta-btn {
					width: 100%;
					max-width: 100%;
					justify-content: center;
					box-sizing: border-box;
				}

				.projects-grid {
					grid-template-columns: 1fr;
				}

				.skills-grid {
					grid-template-columns: repeat(2, 1fr);
				}

				.posts-grid {
					grid-template-columns: 1fr;
				}

				.quick-links-grid {
					grid-template-columns: 1fr;
				}

				.project-card,
				.post-card,
				.skill-card,
				.quick-link-card {
					box-sizing: border-box;
				}
			}

			@media (max-width: 480px) {
				.hero-name {
					font-size: 2rem;
				}

				.hero-typewriter {
					font-size: 1rem;
				}

				.hero-avatar {
					width: 100px;
					height: 100px;
					font-size: 2.5rem;
				}

				.skills-grid {
					grid-template-columns: 1fr 1fr;
					gap: 0.75rem;
				}

				.skill-card {
					padding: 1rem;
				}

				.skill-icon {
					font-size: 1.5rem;
				}

				.opportunity-banner {
					padding: 1.5rem 1rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />

		<!-- Hero Section -->
		<section class="hero">
			<div class="hero-avatar">ğŸ‘¨â€ğŸ’»</div>
			<p class="hero-greeting">Hi there, I'm</p>
			<h1 class="hero-name">Wayne Li</h1>
			<p class="hero-typewriter">
				<span id="typewriter"></span><span class="cursor">|</span>
			</p>
			<p class="hero-description">
				A passionate DevOps & Infrastructure enthusiast focused on
				building reliable, scalable systems. I love automating
				everything and exploring cloud-native technologies.
			</p>
			<div class="hero-cta">
				<a href="/resume" class="cta-btn primary"> ğŸ“„ View Resume </a>
				<a href="/projects" class="cta-btn secondary">
					ğŸš€ See Projects
				</a>
				<a href="/contact" class="cta-btn secondary"> âœ‰ï¸ Contact Me </a>
			</div>
		</section>

		<!-- Featured Projects -->
		<section class="section">
			<div class="section-header">
				<h2 class="section-title">ğŸš€ Featured Projects</h2>
				<p class="section-subtitle">
					Some of my recent work in DevOps & Infrastructure
				</p>
			</div>
			<div class="projects-grid">
				{
					featuredProjects.map((project) => (
						<article class="project-card">
							<h3>{project.title}</h3>
							<p>{project.description}</p>
							<div class="project-tags">
								{project.tags.map((tag) => (
									<span class="project-tag">{tag}</span>
								))}
							</div>
							<div class="project-links">
								{project.github && (
									<a
										href={project.github}
										target="_blank"
										rel="noopener"
									>
										ğŸ“¦ GitHub
									</a>
								)}
								{project.demo && (
									<a href={project.demo}>ğŸ”— Demo</a>
								)}
							</div>
						</article>
					))
				}
			</div>
			<div style="text-align: center;">
				<a href="/projects" class="view-all-link">
					View All Projects â†’
				</a>
			</div>
		</section>

		<!-- Skills -->
		<section
			class="section"
			style="background: rgba(var(--gray-light), 0.15);"
		>
			<div class="section-header">
				<h2 class="section-title">ğŸ› ï¸ Skills & Technologies</h2>
				<p class="section-subtitle">
					Tools and technologies I work with
				</p>
			</div>
			<div class="skills-grid">
				{
					skills.map((skill) => (
						<div class="skill-card">
							<div class="skill-icon">{skill.icon}</div>
							<div class="skill-name">{skill.name}</div>
							<div class="skill-items">
								{skill.items.join(" Â· ")}
							</div>
						</div>
					))
				}
			</div>
		</section>

		<!-- Latest Blog Posts -->
		<section class="section">
			<div class="section-header">
				<h2 class="section-title">ğŸ“ Latest Posts</h2>
				<p class="section-subtitle">
					Thoughts on DevOps, infrastructure, and more
				</p>
			</div>
			<div class="posts-grid">
				{
					latestPosts.map((post) => (
						<a href={`/blog/${post.id}/`} class="post-card">
							<p class="post-date">
								{post.data.pubDate.toLocaleDateString("en-US", {
									year: "numeric",
									month: "short",
									day: "numeric",
								})}
							</p>
							<h3 class="post-title">{post.data.title}</h3>
							<p class="post-description">
								{post.data.description}
							</p>
						</a>
					))
				}
			</div>
			<div style="text-align: center;">
				<a href="/blog" class="view-all-link"> Read All Posts â†’ </a>
			</div>
		</section>

		<!-- Quick Links -->
		<section class="section">
			<div class="section-header">
				<h2 class="section-title">ğŸ”— Explore More</h2>
				<p class="section-subtitle">Discover more about me</p>
			</div>
			<div class="quick-links-grid">
				{
					quickLinks.map((link) => (
						<a href={link.href} class="quick-link-card">
							<span class="quick-link-icon">{link.icon}</span>
							<div class="quick-link-info">
								<h4>{link.title}</h4>
								<p>{link.description}</p>
							</div>
						</a>
					))
				}
			</div>

			<!-- Opportunity Banner -->
			<div class="opportunity-banner">
				<span class="opportunity-badge">Open to Work</span>
				<h3 class="opportunity-title">
					Looking for DevOps / Infrastructure Internships
				</h3>
				<p class="opportunity-text">
					I'm currently seeking internship opportunities for Summer
					2024. Let's connect and discuss how I can contribute to your
					team!
				</p>
				<a href="/contact" class="opportunity-cta"> Get in Touch â†’ </a>
			</div>
		</section>

		<Footer />

		<script define:vars={{ typewriterTexts }}>
			// Typewriter effect
			const element = document.getElementById("typewriter");
			let textIndex = 0;
			let charIndex = 0;
			let isDeleting = false;
			let typingSpeed = 100;

			function type() {
				const currentText = typewriterTexts[textIndex];

				if (isDeleting) {
					element.textContent = currentText.substring(
						0,
						charIndex - 1,
					);
					charIndex--;
					typingSpeed = 50;
				} else {
					element.textContent = currentText.substring(
						0,
						charIndex + 1,
					);
					charIndex++;
					typingSpeed = 100;
				}

				if (!isDeleting && charIndex === currentText.length) {
					typingSpeed = 2000; // Pause at end
					isDeleting = true;
				} else if (isDeleting && charIndex === 0) {
					isDeleting = false;
					textIndex = (textIndex + 1) % typewriterTexts.length;
					typingSpeed = 500; // Pause before new text
				}

				setTimeout(type, typingSpeed);
			}

			type();
		</script>
	</body>
</html>
