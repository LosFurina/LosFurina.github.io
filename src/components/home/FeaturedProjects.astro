---
interface Project {
	title: string;
	description: string;
	tags: string[];
	linkLabel: string;
	linkHref: string;
}

interface Props {
	projects: Project[];
}

const { projects } = Astro.props;
---

<section class="home-section">
	<div class="home-container">
		<div class="home-section__header">
			<h2 class="home-section__title">精选项目 / Featured Projects</h2>
			<p class="home-section__subtitle">
				我近期更有代表性的 DevOps 与基础设施项目
			</p>
		</div>

		<div class="projects-grid">
			{projects.map((project) => (
				<article class="project-card">
					<h3>{project.title}</h3>
					<p>{project.description}</p>
					<div class="project-tags">
						{project.tags.map((tag) => (
							<span>{tag}</span>
						))}
					</div>
					<a
						class="project-link"
						href={project.linkHref}
						target="_blank"
						rel="noopener"
					>
						{project.linkLabel} →
					</a>
				</article>
			))}
		</div>
	</div>
</section>

<style>
	.projects-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
		gap: 1.25rem;
	}

	.project-card {
		border: 1px solid var(--border-soft);
		border-radius: 14px;
		padding: 1.25rem;
		background: rgba(255, 255, 255, 0.6);
		display: flex;
		flex-direction: column;
		height: 100%;
		transition: transform 0.2s ease, border-color 0.2s ease;
	}

	:global([data-theme="dark"]) .project-card {
		background: rgba(35, 30, 27, 0.65);
	}

	.project-card:hover {
		transform: translateY(-2px);
		border-color: rgba(var(--accent-rgb), 0.35);
	}

	.project-card h3 {
		margin: 0 0 0.4rem;
		font-size: 1.1rem;
	}

	.project-card p {
		margin: 0 0 0.75rem;
		color: rgb(var(--gray));
		font-size: 0.92rem;
		line-height: 1.5;
	}

	.project-tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.4rem;
		margin-bottom: 0.75rem;
	}

	.project-tags span {
		font-size: 0.75rem;
		padding: 0.2rem 0.6rem;
		border-radius: 999px;
		background: rgba(var(--accent-rgb), 0.08);
		color: var(--accent-dark);
		border: 1px solid rgba(var(--accent-rgb), 0.2);
	}

	.project-link {
		text-decoration: none;
		font-weight: 600;
		color: var(--accent);
		margin-top: auto;
	}

	.project-link:hover {
		color: var(--accent-dark);
	}
</style>
