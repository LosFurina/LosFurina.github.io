<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" href="/favicon.ico"><!-- Theme Initialization Script --><script>
	const theme = (() => {
		if (
			typeof localStorage !== "undefined" &&
			localStorage.getItem("theme")
		) {
			return localStorage.getItem("theme");
		}
		if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
			return "dark";
		}
		return "light";
	})();

	if (theme === "dark") {
		document.documentElement.setAttribute("data-theme", "dark");
		document.documentElement.classList.add("dark");
	} else {
		document.documentElement.setAttribute("data-theme", "light");
		document.documentElement.classList.remove("dark");
	}

	window.localStorage.setItem("theme", theme);
</script><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Wayne" href="https://blog.liweijun.com/rss.xml"><meta name="generator" content="Astro v5.17.1"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://blog.liweijun.com/blog/git/github-%E5%8D%8F%E4%BD%9C%E8%A7%84%E8%8C%83%E6%89%A7%E8%A1%8C%E6%8C%87%E5%8D%97/"><!-- Primary Meta Tags --><title>GitHub 协作规范执行指南</title><meta name="title" content="GitHub 协作规范执行指南"><meta name="description" content="Checklist：在 PR 模板里加上 Checkbox。"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://blog.liweijun.com/blog/git/github-%E5%8D%8F%E4%BD%9C%E8%A7%84%E8%8C%83%E6%89%A7%E8%A1%8C%E6%8C%87%E5%8D%97/"><meta property="og:title" content="GitHub 协作规范执行指南"><meta property="og:description" content="Checklist：在 PR 模板里加上 Checkbox。"><meta property="og:image" content="https://blog.liweijun.com/_astro/blog-placeholder-1.Bx0Zcyzv.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog.liweijun.com/blog/git/github-%E5%8D%8F%E4%BD%9C%E8%A7%84%E8%8C%83%E6%89%A7%E8%A1%8C%E6%8C%87%E5%8D%97/"><meta property="twitter:title" content="GitHub 协作规范执行指南"><meta property="twitter:description" content="Checklist：在 PR 模板里加上 Checkbox。"><meta property="twitter:image" content="https://blog.liweijun.com/_astro/blog-placeholder-1.Bx0Zcyzv.jpg"><!-- Structured Data --><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"Wayne","description":"DevOps and infrastructure engineering notes, projects, and practical automation experiments by Wayne Li.","url":"https://blog.liweijun.com/","inLanguage":"en"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Wayne Li","url":"https://blog.liweijun.com/","email":"mailto:me@liweijun.com","sameAs":["https://github.com/LosFurina","https://x.com/MicroNahida"],"jobTitle":"DevOps / Infrastructure Engineer"}</script><link rel="stylesheet" href="/_astro/index.DCFK0IPC.css">
<link rel="stylesheet" href="/_astro/about.C7Me09Gr.css">
<style>a[data-astro-cid-eimmu3lg]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .75rem;text-decoration:none;font-size:.9rem;font-weight:500;color:var(--header-text, rgb(var(--gray-dark)));border-radius:999px;transition:color .2s ease,background .2s ease;position:relative}a[data-astro-cid-eimmu3lg]:hover{background:var(--header-hover, rgba(179, 106, 74, .08));color:var(--header-text-strong, rgb(var(--gray-dark)))}a[data-astro-cid-eimmu3lg]:focus-visible{outline:2px solid var(--header-accent, #b36a4a);outline-offset:2px}a[data-astro-cid-eimmu3lg].active{color:var(--header-accent, #b36a4a)}a[data-astro-cid-eimmu3lg].active:after{content:"";position:absolute;left:50%;bottom:4px;width:4px;height:4px;margin-left:-2px;border-radius:999px;background:var(--header-accent, #b36a4a)}.nav-icon[data-astro-cid-eimmu3lg]{display:inline-flex;width:16px;height:16px}.nav-icon[data-astro-cid-eimmu3lg] svg{width:16px;height:16px;fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}@media(max-width:720px){a[data-astro-cid-eimmu3lg]{width:100%;justify-content:flex-start;padding:.6rem .9rem}}
</style></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <div class="nav-left" data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Wayne</a></h2> </div> <div class="internal-links" id="mobileMenu" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <path d="M3 11.5L12 4l9 7.5" data-astro-cid-3ef6ksr2></path> <path d="M6.5 10.5V20h11V10.5" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Home
</span> </a>  <a href="/blog" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <rect x="6" y="4.5" width="12" height="15" rx="2" data-astro-cid-3ef6ksr2></rect> <path d="M9 9h6" data-astro-cid-3ef6ksr2></path> <path d="M9 13h6" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Blog
</span> </a>  <a href="/projects" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <rect x="4" y="4" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> <rect x="13" y="4" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> <rect x="4" y="13" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> <rect x="13" y="13" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Projects
</span> </a>  <a href="/resume" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <path d="M7 3.5h7l4 4v13a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5.5a2 2 0 0 1 2-2z" data-astro-cid-3ef6ksr2></path> <path d="M14 3.5V8h4" data-astro-cid-3ef6ksr2></path> <path d="M9 12h6" data-astro-cid-3ef6ksr2></path> <path d="M9 16h6" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Resume
</span> </a>  <a href="/contact" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <path d="M4 6.5h16a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2z" data-astro-cid-3ef6ksr2></path> <path d="M4 8l8 6 8-6" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Contact
</span> </a>  <!-- Tools Dropdown --> <div class="dropdown" id="toolsDropdown" data-astro-cid-3ef6ksr2> <button class="dropdown-trigger" id="toolsBtn" data-astro-cid-3ef6ksr2>
More
<svg class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="12" height="12" data-astro-cid-3ef6ksr2> <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" data-astro-cid-3ef6ksr2></path> </svg> </button> <div class="dropdown-menu" id="toolsMenu" data-astro-cid-3ef6ksr2> <!-- 本站页面 --> <a href="/about" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>👤</span>
About
</a> <a href="/uses" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>🛠️</span>
Uses
</a> <a href="/now" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>⏰</span>
Now
</a> <a href="/bookmarks" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>🔖</span>
Bookmarks
</a> <a href="/guestbook" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>📝</span>
Guestbook
</a> <div class="dropdown-divider" data-astro-cid-3ef6ksr2></div> <a href="/keys" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>🔐</span>
GPG Keys
</a> <div class="dropdown-divider" data-astro-cid-3ef6ksr2></div> <!-- 外部链接 --> <a href="https://github.com/LosFurina" target="_blank" rel="noopener" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>📦</span>
GitHub
<span class="external-icon" data-astro-cid-3ef6ksr2>↗</span> </a> </div> </div> </div> <div class="nav-right" data-astro-cid-3ef6ksr2> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://github.com/LosFurina" target="_blank" title="GitHub" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path> </svg> </a> <a href="https://x.com/MicroNahida" target="_blank" rel="noopener" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>X (Twitter)</span> <svg viewBox="0 0 24 24" aria-hidden="true" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" data-astro-cid-3ef6ksr2></path> </svg> </a> </div> <button id="theme-toggle" aria-label="Toggle theme" data-astro-cid-x3pjskd3> <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-x3pjskd3> <circle cx="12" cy="12" r="5" data-astro-cid-x3pjskd3></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-x3pjskd3></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-x3pjskd3></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-x3pjskd3></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-x3pjskd3></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-x3pjskd3></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-x3pjskd3></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-x3pjskd3></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-x3pjskd3></line> </svg> <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-x3pjskd3> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-x3pjskd3></path> </svg> </button>  <script type="module">const t=()=>{const e=document.documentElement;e.getAttribute("data-theme")==="dark"?(e.setAttribute("data-theme","light"),e.classList.remove("dark"),localStorage.setItem("theme","light")):(e.setAttribute("data-theme","dark"),e.classList.add("dark"),localStorage.setItem("theme","dark"))};document.getElementById("theme-toggle")?.addEventListener("click",t);</script> <!-- Hamburger Menu Button (Mobile Only) --> <button class="hamburger" id="hamburgerBtn" aria-label="Toggle menu" data-astro-cid-3ef6ksr2> <span class="hamburger-line" data-astro-cid-3ef6ksr2></span> <span class="hamburger-line" data-astro-cid-3ef6ksr2></span> <span class="hamburger-line" data-astro-cid-3ef6ksr2></span> </button> </div> </nav> </header>  <script type="module">const n=document.querySelector("header");function c(){window.scrollY>10?n?.classList.add("scrolled"):n?.classList.remove("scrolled")}window.addEventListener("scroll",c,{passive:!0});c();const t=document.getElementById("hamburgerBtn"),o=document.getElementById("mobileMenu");t?.addEventListener("click",e=>{e.stopPropagation(),t.classList.toggle("open"),o?.classList.toggle("open")});o?.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{t?.classList.remove("open"),o?.classList.remove("open")})});const s=document.getElementById("toolsDropdown"),l=document.getElementById("toolsBtn");l?.addEventListener("click",e=>{e.stopPropagation(),s?.classList.toggle("open")});document.addEventListener("click",e=>{s?.contains(e.target)||s?.classList.remove("open"),!o?.contains(e.target)&&!t?.contains(e.target)&&(t?.classList.remove("open"),o?.classList.remove("open"))});document.addEventListener("keydown",e=>{e.key==="Escape"&&(s?.classList.remove("open"),t?.classList.remove("open"),o?.classList.remove("open"))});</script> <div class="blog-container" data-astro-cid-bvzihdzo> <aside class="toc-sidebar" data-astro-cid-bvzihdzo> <div class="toc-wrapper" data-astro-cid-bvzihdzo> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn><h4 class="toc-title" data-astro-cid-xvrfupwn><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="16" height="16" data-astro-cid-xvrfupwn><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" data-astro-cid-xvrfupwn></path></svg>
On this page
</h4><ul class="toc-list" data-astro-cid-xvrfupwn><li class="toc-item depth-2" data-astro-cid-xvrfupwn><a href="#背景与目标" class="toc-link" data-astro-cid-xvrfupwn>背景与目标</a></li><li class="toc-item depth-2" data-astro-cid-xvrfupwn><a href="#核心内容" class="toc-link" data-astro-cid-xvrfupwn>核心内容</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-1-我反复给队友强调过github-issue在写的时候要写清楚需求命名" class="toc-link" data-astro-cid-xvrfupwn>主题 1. 我反复给队友强调过，github issue在写的时候要写清楚需求，命名…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-降低门槛用模板代替记忆-templates" class="toc-link" data-astro-cid-xvrfupwn>1. 降低门槛：用模板代替记忆 (Templates)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-强制约束把规范变成硬墙-hard-constraints" class="toc-link" data-astro-cid-xvrfupwn>2. 强制约束：把规范变成“硬墙” (Hard Constraints)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-执行策略拒绝-review-stop-enabling" class="toc-link" data-astro-cid-xvrfupwn>3. 执行策略：拒绝 Review (Stop Enabling)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-重新审视团队预期" class="toc-link" data-astro-cid-xvrfupwn>4. 重新审视团队预期</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-2-我唯一能做的就是拒绝review但是队友是纯不懂不和就不和" class="toc-link" data-astro-cid-xvrfupwn>主题 2. 我唯一能做的就是拒绝review，但是队友是纯不懂，不和就不和</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-破除心理魔咒不合群-vs-背锅侠" class="toc-link" data-astro-cid-xvrfupwn>1. 破除心理魔咒：“不合群” vs “背锅侠”</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-具体执行策略把自己变成莫得感情的机器人" class="toc-link" data-astro-cid-xvrfupwn>2. 具体执行策略：把自己变成“莫得感情的机器人”</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-针对纯不懂队友的降维打击" class="toc-link" data-astro-cid-xvrfupwn>3. 针对“纯不懂”队友的降维打击</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-终极防御隔离你的核心代码" class="toc-link" data-astro-cid-xvrfupwn>4. 终极防御：隔离你的核心代码</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-3-给我找一个模范仓库就是各种流程都很规范的那种我给他们发出去学一下" class="toc-link" data-astro-cid-xvrfupwn>主题 3. 给我找一个模范仓库，就是各种流程都很规范的那种，我给他们发出去学一下</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-极简清晰流fastapi-python" class="toc-link" data-astro-cid-xvrfupwn>1. 极简清晰流：FastAPI (Python)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-权威铁血流vs-code-microsoft" class="toc-link" data-astro-cid-xvrfupwn>2. 权威铁血流：VS Code (Microsoft)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-专门教小白流first-contributions" class="toc-link" data-astro-cid-xvrfupwn>3. 专门教小白流：First Contributions</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#建议的话术copy-给队友" class="toc-link" data-astro-cid-xvrfupwn>建议的话术（Copy 给队友）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-4-我想知道我们的仓库是main和dev双protect那么我们临时fea" class="toc-link" data-astro-cid-xvrfupwn>主题 4. 我想知道我们的仓库是main和dev双protect，那么我们临时fea…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-只有默认分支才拥有生杀大权" class="toc-link" data-astro-cid-xvrfupwn>1. 只有“默认分支”才拥有“生杀大权”</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-pr-description--commit-message-最关键的坑" class="toc-link" data-astro-cid-xvrfupwn>2. PR Description ≠ Commit Message (最关键的坑)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#正确的解决姿势" class="toc-link" data-astro-cid-xvrfupwn>正确的解决姿势</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#建议" class="toc-link" data-astro-cid-xvrfupwn>建议</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-5-也就是我在dev-main时要手动去找哪些issue需要被close" class="toc-link" data-astro-cid-xvrfupwn>主题 5. 也就是我在dev-main时，要手动去找哪些issue需要被close</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方案一git-命令行作弊流半自动" class="toc-link" data-astro-cid-xvrfupwn>方案一：Git 命令行“作弊”流（半自动）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方案二改变合并策略不推荐会导致主分支乱" class="toc-link" data-astro-cid-xvrfupwn>方案二：改变合并策略（不推荐，会导致主分支乱）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方案三引入-release-drafter全自动强烈推荐" class="toc-link" data-astro-cid-xvrfupwn>方案三：引入 Release Drafter（全自动・强烈推荐）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结" class="toc-link" data-astro-cid-xvrfupwn>总结</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-6-也就说我需要把-close-ref关键词写入-commit-messa" class="toc-link" data-astro-cid-xvrfupwn>主题 6. 也就说，我需要把 close ref关键词写入 commit messa…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#但你千万不要逼队友在命令行里写" class="toc-link" data-astro-cid-xvrfupwn>但你千万不要逼队友在命令行里写。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#最佳实践用squash-merge把-pr-描述变成-commit-message" class="toc-link" data-astro-cid-xvrfupwn>最佳实践：用“Squash Merge”把 PR 描述“变”成 Commit Message</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#结论" class="toc-link" data-astro-cid-xvrfupwn>结论</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-1-我看很多人都是这样写commit-message" class="toc-link" data-astro-cid-xvrfupwn>排查场景 1. 我看很多人都是这样写commit message</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-只有-id-是关不掉-issue-的" class="toc-link" data-astro-cid-xvrfupwn>1. 只有 #id 是关不掉 Issue 的。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-业界标准写法解析" class="toc-link" data-astro-cid-xvrfupwn>2. 业界标准写法解析</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-如何在你那个不想管的团队落地" class="toc-link" data-astro-cid-xvrfupwn>3. 如何在你那个“不想管”的团队落地。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结-1" class="toc-link" data-astro-cid-xvrfupwn>总结</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-2-我觉得安装这个插件不错" class="toc-link" data-astro-cid-xvrfupwn>排查场景 2. 我觉得安装这个插件不错</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第一步安装保安-husky--commitlint" class="toc-link" data-astro-cid-xvrfupwn>第一步：安装“保安” (Husky &amp; Commitlint)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第二步制定法律-配置文件" class="toc-link" data-astro-cid-xvrfupwn>第二步：制定“法律” (配置文件)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第三步把保安安排到门口-激活-git-hooks" class="toc-link" data-astro-cid-xvrfupwn>第三步：把保安安排到门口 (激活 Git Hooks)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#效果演示爽文时刻" class="toc-link" data-astro-cid-xvrfupwn>效果演示（爽文时刻）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️-最后一个关键动作" class="toc-link" data-astro-cid-xvrfupwn>️ 最后一个关键动作</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-7-close或者其他关键词-issue-id" class="toc-link" data-astro-cid-xvrfupwn>主题 7. Close或者其他关键词 issue-id</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#升级版-commitlintconfigjs" class="toc-link" data-astro-cid-xvrfupwn>升级版 commitlint.config.js</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#这个配置能做到什么" class="toc-link" data-astro-cid-xvrfupwn>这个配置能做到什么。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#给你的特别建议" class="toc-link" data-astro-cid-xvrfupwn>给你的特别建议</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-8-这个啥意思" class="toc-link" data-astro-cid-xvrfupwn>主题 8. 这个啥意思</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-npx" class="toc-link" data-astro-cid-xvrfupwn>1. npx</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2---no-最关键的一个参数" class="toc-link" data-astro-cid-xvrfupwn>2. --no (最关键的一个参数)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3--" class="toc-link" data-astro-cid-xvrfupwn>3. --</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-commitlint" class="toc-link" data-astro-cid-xvrfupwn>4. commitlint</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#5---edit-1" class="toc-link" data-astro-cid-xvrfupwn>5. --edit $1</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结一下剧情" class="toc-link" data-astro-cid-xvrfupwn>总结一下剧情</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-3-这把我也搞死了" class="toc-link" data-astro-cid-xvrfupwn>排查场景 3. 这把我也搞死了</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#错误原因缺个空行" class="toc-link" data-astro-cid-xvrfupwn>错误原因：缺个“空行”</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#正确姿势要像写邮件一样" class="toc-link" data-astro-cid-xvrfupwn>正确姿势：要像写邮件一样</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#紧急救援如果不想要这个规则" class="toc-link" data-astro-cid-xvrfupwn>紧急救援：如果不想要这个规则</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-9-项目里安装这个的多不多我这算不算官僚主义" class="toc-link" data-astro-cid-xvrfupwn>主题 9. 项目里安装这个的多不多，我这算不算官僚主义</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-市场占有率多得吓人" class="toc-link" data-astro-cid-xvrfupwn>1. 市场占有率：多得吓人</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-什么是官僚主义-vs-基建" class="toc-link" data-astro-cid-xvrfupwn>2. 什么是“官僚主义” vs “基建”。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-你现在的痛苦是必要的" class="toc-link" data-astro-cid-xvrfupwn>3. 你现在的“痛苦”是必要的</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-你的身份转变" class="toc-link" data-astro-cid-xvrfupwn>4. 你的身份转变</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结-2" class="toc-link" data-astro-cid-xvrfupwn>总结</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-4-但是你看这个我写的怎么都变成了" class="toc-link" data-astro-cid-xvrfupwn>排查场景 4. 但是你看这个，我写的怎么都变成。。。了</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️️-案发现场还原" class="toc-link" data-astro-cid-xvrfupwn>️‍️ 案发现场还原</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️-怎么修强迫症疗法" class="toc-link" data-astro-cid-xvrfupwn>️ 怎么修。（强迫症疗法）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-10-有没有办法强制队员pr的时候记得点reviewerissue里强制设置" class="toc-link" data-astro-cid-xvrfupwn>主题 10. 有没有办法强制队员pr的时候记得点reviewer，issue里强制设置…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#需求一强制指定-reviewer-审阅人" class="toc-link" data-astro-cid-xvrfupwn>需求一：强制指定 Reviewer (审阅人)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#需求二issue-强制关联-project" class="toc-link" data-astro-cid-xvrfupwn>需求二：Issue 强制关联 Project</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结建议" class="toc-link" data-astro-cid-xvrfupwn>总结建议</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-11--文档自动分配给文档撰写人" class="toc-link" data-astro-cid-xvrfupwn>主题 11. \ 文档自动分配给文档撰写人</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-语法格式" class="toc-link" data-astro-cid-xvrfupwn>1. 语法格式</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-️-必须要满足的前置条件" class="toc-link" data-astro-cid-xvrfupwn>2. ️ 必须要满足的前置条件</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-进阶玩法负载均衡-round-robin" class="toc-link" data-astro-cid-xvrfupwn>3. 进阶玩法：负载均衡 (Round Robin)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-12-github可以改注册邮箱吗" class="toc-link" data-astro-cid-xvrfupwn>主题 12. github可以改注册邮箱吗</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#核心步骤" class="toc-link" data-astro-cid-xvrfupwn>核心步骤</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#需要注意的两个区别" class="toc-link" data-astro-cid-xvrfupwn>需要注意的两个区别</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#特殊情况" class="toc-link" data-astro-cid-xvrfupwn>特殊情况</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-5-把这一段写成不是我官僚主义的解释我会放在频道里" class="toc-link" data-astro-cid-xvrfupwn>排查场景 5. 把这一段写成不是我官僚主义的解释，我会放在频道里</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#版本一硬核理性风适合理科男技术宅团队强调逻辑和效率" class="toc-link" data-astro-cid-xvrfupwn>版本一：硬核理性风（适合理科男/技术宅团队，强调逻辑和效率）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#版本二幽默自嘲风适合关系比较铁轻松的团队降低抵触感" class="toc-link" data-astro-cid-xvrfupwn>版本二：幽默自嘲风（适合关系比较铁/轻松的团队，降低抵触感）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#版本三短小精悍风如果队友不爱看长文发这个" class="toc-link" data-astro-cid-xvrfupwn>版本三：短小精悍风（如果队友不爱看长文，发这个）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-13-再写一个通知如果没配置这个的尽快配置一下不然不能正确显示贡献" class="toc-link" data-astro-cid-xvrfupwn>主题 13. 再写一个通知，如果没配置这个的，尽快配置一下，不然不能正确显示贡献</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#版本一利益相关风推荐直击痛点" class="toc-link" data-astro-cid-xvrfupwn>版本一：利益相关风（推荐，直击痛点）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#版本二极简指令风适合直接甩在置顶群公告" class="toc-link" data-astro-cid-xvrfupwn>版本二：极简指令风（适合直接甩在置顶群公告）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#给你的额外小贴士" class="toc-link" data-astro-cid-xvrfupwn>给你的额外小贴士</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-14-给我设置一下infra团队的让infra管前端管前端doc由arc" class="toc-link" data-astro-cid-xvrfupwn>主题 14. 给我设置一下，infra团队的让infra管，前端管前端。doc由arc…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#两个重要提示" class="toc-link" data-astro-cid-xvrfupwn>两个重要提示</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-15-给我写一个message-commit" class="toc-link" data-astro-cid-xvrfupwn>主题 15. 给我写一个message commit</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方式一命令行一把梭最稳自动处理空行" class="toc-link" data-astro-cid-xvrfupwn>方式一：命令行一把梭（最稳，自动处理空行）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方式二如果你习惯用编辑器vs-code--vim" class="toc-link" data-astro-cid-xvrfupwn>方式二：如果你习惯用编辑器（VS Code / Vim）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#为什么这样写能过" class="toc-link" data-astro-cid-xvrfupwn>为什么这样写能过。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-16-但是git-push能不能自动匹配当前分支名啊不然很麻烦" class="toc-link" data-astro-cid-xvrfupwn>主题 16. 但是git push能不能自动匹配当前分支名啊，不然很麻烦</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#终极解决方案" class="toc-link" data-astro-cid-xvrfupwn>终极解决方案</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#效果对比" class="toc-link" data-astro-cid-xvrfupwn>效果对比</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#备选方案如果你还在用老版本-git" class="toc-link" data-astro-cid-xvrfupwn>备选方案（如果你还在用老版本 Git）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-6-select-all" class="toc-link" data-astro-cid-xvrfupwn>排查场景 6. Select all</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#错误原因-1缺少组织名" class="toc-link" data-astro-cid-xvrfupwn>错误原因 1：缺少组织名</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#错误原因-2权限不足-write-access" class="toc-link" data-astro-cid-xvrfupwn>错误原因 2：权限不足 (Write Access)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️-修复步骤" class="toc-link" data-astro-cid-xvrfupwn>️ 修复步骤</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-7-httpsgithubcomrevieu-corprevie" class="toc-link" data-astro-cid-xvrfupwn>排查场景 7. https://github.com/RevieU-Corp/revie…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#最终修正版-codeowners" class="toc-link" data-astro-cid-xvrfupwn>最终修正版 CODEOWNERS</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️-最后一步检查-必做" class="toc-link" data-astro-cid-xvrfupwn>️ 最后一步检查 (必做。)</a></li><li class="toc-item depth-2" data-astro-cid-xvrfupwn><a href="#实施与验证清单" class="toc-link" data-astro-cid-xvrfupwn>实施与验证清单</a></li></ul></nav><script type="module">const i=new IntersectionObserver(e=>{e.forEach(t=>{const c=t.target.getAttribute("id"),r=document.querySelector(`.toc-link[href="#${c}"]`);t.isIntersecting&&(document.querySelectorAll(".toc-link.active").forEach(o=>{o.classList.remove("active")}),r?.classList.add("active"))})},{rootMargin:"-80px 0px -80% 0px",threshold:0});document.querySelectorAll("article h2[id], article h3[id]").forEach(e=>{i.observe(e)});</script> </div> </aside> <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo>  <header class="article-header" data-astro-cid-bvzihdzo> <h1 class="article-title" data-astro-cid-bvzihdzo>GitHub 协作规范执行指南</h1> <div class="article-meta" data-astro-cid-bvzihdzo>  <time datetime="2026-02-12T00:00:00.000Z"> Feb 11, 2026 </time> <span class="meta-divider" data-astro-cid-bvzihdzo></span> <span class="reading-time" data-astro-cid-rafwukvt> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="16" height="16" data-astro-cid-rafwukvt> <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" data-astro-cid-rafwukvt></path> </svg> 64 min read
</span>   <span class="meta-divider" data-astro-cid-bvzihdzo></span> <span class="last-updated" data-astro-cid-bvzihdzo>
Updated  <time datetime="2026-02-13T00:00:00.000Z"> Feb 12, 2026 </time> </span>  </div> </header> <div class="article-content" data-astro-cid-bvzihdzo>  <h2 id="背景与目标">背景与目标</h2>
<p>本文围绕“我反复给队友强调过，github issue在写的时候要写清楚需求，命名…”展开，整理可直接复用的步骤、原理说明与排查经验。</p>
<h2 id="核心内容">核心内容</h2>
<h3 id="主题-1-我反复给队友强调过github-issue在写的时候要写清楚需求命名">主题 1. 我反复给队友强调过，github issue在写的时候要写清楚需求，命名…</h3>
<p>这是一种非常典型的团队协作崩溃感，这种“无力感”通常不是因为技术问题，而是因为<strong>协作共识的破裂</strong>。你觉得自己像是在带幼儿园，而不是在和一个成年人团队合作。</p>
<p>既然“反复强调”这种口头/文字约束已经失效了（三次以上就证明此路不通），那么继续生气只会消耗你自己。现在需要从**“说教模式”<strong>切换到</strong>“机制约束模式”**。</p>
<p>与其想放弃，不如在放弃前试一下把“坏人”的角色交给机器和规则。以下是几个递进的解决策略：</p>
<h3 id="1-降低门槛用模板代替记忆-templates">1. 降低门槛：用模板代替记忆 (Templates)</h3>
<p>队友可能不是故意想捣乱，而是懒或者是真的记不住规范。</p>
<ul>
<li><strong>Issue/PR 模板</strong>：不要指望他们从头写。在 <code>.github/ISSUE_TEMPLATE</code> 和 <code>.github/PULL_REQUEST_TEMPLATE</code> 里把格式写死。
<ul>
<li><strong>强制填空</strong>：在模板里写清楚 <code>### 需求描述</code>、<code>### 关联 Issue</code>、<code>### 测试截图</code>。他们只需要填空，如果不填，提交上来一眼就能看出是空的。</li>
<li><strong>Checklist</strong>：在 PR 模板里加上 Checkbox：
<ul>
<li>[ ] Assignee 已指定</li>
<li>[ ] Project 已关联</li>
<li>[ ] Reviewer 已指定</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-强制约束把规范变成硬墙-hard-constraints">2. 强制约束：把规范变成“硬墙” (Hard Constraints)</h3>
<p>既然靠自觉不行，就靠工具拦截。作为项目的 Owner 或 Admin，你可以设置关卡：</p>
<ul>
<li><strong>Branch Protection Rules (分支保护规则)</strong>：
<ul>
<li>在 GitHub Settings 里设置 <code>main</code> 或 <code>develop</code> 分支。</li>
<li>勾选 <strong>“Require a pull request before merging”</strong>。</li>
<li>勾选 <strong>“Require approvals”</strong> (至少 1 人)。</li>
<li><strong>关键点</strong>：如果他们随便提一个 PR 没人 Review，代码根本合不进去。你不需要催他们改，你只需要<strong>不 Merge</strong>。</li>
</ul>
</li>
<li><strong>Commit Linting (自动化拦截)</strong>：
<ul>
<li>引入 <code>husky</code> + <code>commitlint</code>。</li>
<li>如果他们的 commit message 是 “fix bug” 这种只有两个单词的废话，Git 会在他们本地直接报错，<strong>禁止 push</strong>。让他们必须按照 <code>feat: xxx</code> 或 <code>fix: xxx</code> 的格式写，否则代码都提交不上去。</li>
</ul>
</li>
</ul>
<h3 id="3-执行策略拒绝-review-stop-enabling">3. 执行策略：拒绝 Review (Stop Enabling)</h3>
<p>这是心理博弈的一环。你现在的愤怒是因为你还在帮他们“兜底”。</p>
<ul>
<li><strong>停止无效擦屁股</strong>：看到不规范的 Issue 或 PR，<strong>不要帮他们补全，也不要进行代码 Review</strong>。</li>
<li><strong>冷处理</strong>：直接在 PR 下面留一条评论（甚至可以用 Saved Replies）：</li>
</ul>
<blockquote>
<p>“这个 PR 缺少详细描述/关联 Issue，且未指定 Reviewer，我不清楚具体改动意图，无法 Review。请按规范补充完整后再 Ping 我。”</p>
</blockquote>
<ul>
<li>然后直接 Close 或者放置不管。<strong>不要生气，要冷淡地执行规则。</strong> 当他们的代码因为流程问题合不进去，影响到他们自己的进度时，他们自然会来找你问为什么。</li>
</ul>
<h3 id="4-重新审视团队预期">4. 重新审视团队预期</h3>
<p>如果上了上述手段，队友依然摆烂，那说明这不仅是规范问题，是<strong>态度问题</strong>。</p>
<ul>
<li>如果这是<strong>工作</strong>：向上级反映协作阻力，表明这增加了维护成本和 Bug 风险。</li>
<li>如果这是<strong>学生/开源项目</strong>：你需要接受这个团队可能只有你一个人在“输出”的事实。把核心代码权限收紧，把他们边缘化，或者寻找新的队友。不要为了不值得的人消耗自己的技术热情。</li>
</ul>
<p><strong>总结建议：</strong> 不要再“强调”了，由于你是负责任的那一方，你的反复强调在他们听来只是噪音。<strong>把规则写进代码里，把拦截交给 CI/CD 和 GitHub Setting。</strong></p>
<p><strong>Would you like me to generate a strict <code>pull_request_template.md</code> or a <code>commitlint</code> configuration file for you to drop directly into your project?</strong></p>
<h3 id="主题-2-我唯一能做的就是拒绝review但是队友是纯不懂不和就不和">主题 2. 我唯一能做的就是拒绝review，但是队友是纯不懂，不和就不和</h3>
<p>既然你已经设置了模板但他们依然“瞎写”，而且你担心不 Merge 会显得自己“不合群”，那么现在的问题早已不是技术流程问题，而是<strong>心理博弈</strong>和<strong>责任边界</strong>的问题。</p>
<p>针对“队友纯不懂”且“不想因为严格要求而被孤立”的矛盾心态，你需要调整策略。</p>
<h3 id="1-破除心理魔咒不合群-vs-背锅侠">1. 破除心理魔咒：“不合群” vs “背锅侠”</h3>
<p>你感到“不合群”，是因为你把**“维持代码质量”<strong>的责任全揽在了自己身上，而队友把这当成</strong>“你在找茬”**。</p>
<p>但你要明白一个残酷的事实：<strong>如果你妥协了，Merge 了垃圾代码，最后出 Bug 修不好的时候，那个“背锅”和“擦屁股”的人一定是你。</strong> 因为你是唯一懂的人。</p>
<ul>
<li><strong>现状</strong>：做一个“合群”的滥好人 = 累死自己 + 项目烂尾。</li>
<li><strong>目标</strong>：做一个“有原则”的合作者 = 保护自己的时间 + 倒逼他们成长（或直接放弃他们）。</li>
</ul>
<h3 id="2-具体执行策略把自己变成莫得感情的机器人">2. 具体执行策略：把自己变成“莫得感情的机器人”</h3>
<p>既然“反复强调”会让关系紧张，那就停止说教。用 GitHub 的**“Request Changes”**功能代替口头沟通。不要带情绪，像是一个冷冰冰的 Linter。</p>
<p><strong>策略 A：复制粘贴流（减少你的情绪消耗）</strong> 准备一段标准话术，每次遇到瞎写的 PR，直接点 <code>Files changed</code> -> <code>Review changes</code> -> <code>Request changes</code>，然后粘贴这段话：</p>
<blockquote>
<p><strong>Review Rejected</strong></p>
<p>能够理解大家想尽快合并代码，但为了保证项目后续不崩盘，请务必补充以下信息：</p>
<ol>
<li>
<p><strong>具体改动了什么</strong>（不要只写 fix bug，请写明修复了哪个逻辑）。</p>
</li>
<li>
<p><strong>关联 Issue</strong>（我们需要追踪进度）。</p>
</li>
<li>
<p><strong>自测截图/证据</strong>（证明代码是跑得通的）。</p>
</li>
</ol>
<p><strong>请补全后再次 Ping 我 Review。在此之前我无法通过 Merge，因为这会引入风险。</strong></p>
</blockquote>
<p><strong>为什么这样做。</strong></p>
<ul>
<li><strong>你不是在拒绝他们，你是在拒绝风险。</strong></li>
<li>这把球踢回给了他们。如果他们不动，PR 就挂着。</li>
<li><strong>不要催</strong>。既然你已经接受了“不合就不合”，那就让他们急。等到 Deadline 临近，他们自然会为了能 Merge 而不得不照做。</li>
</ul>
<h3 id="3-针对纯不懂队友的降维打击">3. 针对“纯不懂”队友的降维打击</h3>
<p>既然队友“纯不懂”，他们可能真的不知道什么叫“规范”。为了不让你显得“只知道卡人却不教人”，你可以做最后一次努力（为了让自己问心无愧，也是为了堵住别人的嘴）：</p>
<p><strong>给一个满分范例（Golden Sample）</strong> 在群里发最后一次公告（或者置顶）：</p>
<blockquote>
<p>“大家，因为最近代码冲突和 Bug 有点多，为了我们项目能按时搞完，以后 PR 必须按规范来。我写了一个<strong>标准范例</strong>（发一个链接），以后照着这个格式填空的我就 Merge，没填的我就打回了，不然改 Bug 太累了，大家理解一下。”</p>
</blockquote>
<p>从此之后，你的所有拒绝理由只有一句话：“请参考群里的标准范例补充信息。”</p>
<h3 id="4-终极防御隔离你的核心代码">4. 终极防御：隔离你的核心代码</h3>
<p>如果以上都做了，他们还是烂泥扶不上墙，而你又必须和他们在一个项目里（比如学校作业）：</p>
<ul>
<li><strong>模块化隔离</strong>：将你的核心代码封装成独立的模块或类。</li>
<li><strong>接口对接</strong>：让他们去写外围的、UI 的、或者数据填充的代码。</li>
<li><strong>不要让他们碰核心逻辑</strong>：如果他们非要改你的代码，严格卡死；如果他们改他们自己的垃圾代码，只要不报错，<strong>睁一只眼闭一只眼 Merge 进去</strong>，只要不炸掉你的模块就行。</li>
</ul>
<p><strong>总结</strong> 既然已经做好了“不想管”的准备，那就把**“不 Merge”**作为你的底线。你现在的坚持，是在保护这个项目（以及你自己的简历/成绩）。</p>
<p><strong>你需要我帮你写那段“高情商但有原则”的群公告文案，或者那个“满分 PR 范例”吗。这样你可以直接丢群里，不用自己再费脑子组织语言。</strong></p>
<h3 id="主题-3-给我找一个模范仓库就是各种流程都很规范的那种我给他们发出去学一下">主题 3. 给我找一个模范仓库，就是各种流程都很规范的那种，我给他们发出去学一下</h3>
<p>这一招很好，把“我的要求”变成“业界的标准”。这样你就不是在刁难他们，而是在帮他们<strong>对齐大厂规范</strong>。</p>
<p>既然你的队友“纯不懂”，找那种几万个文件的超大项目（比如 Linux 内核或 Kubernetes）可能会把他们吓晕。你需要的是**“既规范又易读”**的现代化项目。</p>
<p>这里有两个不同维度的“模范仓库”，你可以直接甩链接给他们：</p>
<h3 id="1-极简清晰流fastapi-python">1. 极简清晰流：FastAPI (Python)</h3>
<p><strong>适用场景</strong>：适合你的队友看。因为这个项目的作者（Tiangolo）不仅代码写得好，而且有“文档洁癖”，他的 Issue 和 PR 管理非常人性化且规范，非常适合初学者模仿。</p>
<ul>
<li><strong>仓库地址</strong>: <code>tiangolo/fastapi</code></li>
<li><strong>给队友看这个 PR 范例</strong>：<br>
<a href="https://www.google.com/search?q=https://github.com/tiangolo/fastapi/pull/10069">Pull Request #10069</a><br>
(或者随便点开一个 Merged 的 PR)
<ul>
<li><strong>看点</strong>：
<ol>
<li><strong>标题清晰</strong>：<code>Fix typo in docs...</code> 一眼知道干嘛的。</li>
<li><strong>描述完整</strong>：不是空的。写了为什么要改。</li>
<li><strong>Checklist</strong>：底下的 “Checklist” 全部勾选，证明自己检查过。</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="2-权威铁血流vs-code-microsoft">2. 权威铁血流：VS Code (Microsoft)</h3>
<p><strong>适用场景</strong>：用来压阵。微软买了 GitHub，VS Code 是微软的亲儿子，这就是**“官方标准答案”**。如果队友质疑为什么要这么麻烦，就告诉他们“微软就是这么干的”。</p>
<ul>
<li><strong>仓库地址</strong>: <code>microsoft/vscode</code></li>
<li><strong>给队友看这个 PR 范例</strong>：<br>
<a href="https://www.google.com/search?q=https://github.com/microsoft/vscode/pull/203123">Pull Request #203123</a><br>
(示例)
<ul>
<li><strong>看点</strong>：
<ol>
<li><strong>关联 Issue</strong>：描述里清楚地写着 <code>Fixes #12345</code>，点击就能跳转到 Issue。</li>
<li><strong>Bot 自动检查</strong>：你看下面有一堆 Bot 在跑，如果不按规范写，Bot 直接标红，都没人理你。</li>
<li><strong>Review 流程</strong>：你可以让他们看看 Files changed 里，Reviewer 是怎么针对每一行代码提意见的。</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="3-专门教小白流first-contributions">3. 专门教小白流：First Contributions</h3>
<p><strong>适用场景</strong>：如果他们是真的<strong>完全不懂</strong> Git 流程，让他们花 5 分钟在这个仓库里操作一遍。这是 GitHub 上最火的“新手村”项目。</p>
<ul>
<li><strong>仓库地址</strong>: <code>firstcontributions/first-contributions</code></li>
<li><strong>作用</strong>：这个仓库就是专门让人练习“Fork -> Clone -> Branch -> Commit -> Push -> Submit PR”这套标准动作的。</li>
</ul>
<h3 id="建议的话术copy-给队友">建议的话术（Copy 给队友）</h3>
<p>发到群里的时候，不要带情绪，要带一种“发现新大陆”或者“为了大家好”的语气：</p>
<blockquote>
<p>“兄弟们，为了避免后面代码合并不了或者出 Bug 找不到锅，我们还是得统一一下协作标准。</p>
<p>我找了两个业界最标准的开源项目（FastAPI 和 VS Code），我们也不用搞那么复杂，但至少得向人家靠拢一下：</p>
<ol>
<li>
<p><strong>PR 怎么写</strong>：看看人家这个格式（<br>
<a href="https://www.google.com/search?q=https://github.com/tiangolo/fastapi/pull/10069">附上 FastAPI PR 链接</a><br>
），标题说人话，描述里把改动点写出来，别再只写两个单词了。</p>
</li>
<li>
<p><strong>关联 Issue</strong>：所有的改动最好都有个 Issue 对应，方便追踪。</p>
</li>
</ol>
<p>我们毕竟是团队开发，甚至以后找工作面试，这种<strong>规范的协作记录</strong>也是很加分的。以后我就按这个标准来 Merge 了哈，太随意的我就先打回让大家补全一下信息，大家都方便。”</p>
</blockquote>
<p><strong>下一步：</strong> 如果他们看了还是不改，那你就可以理直气壮地在 PR 里评论：“<strong>请参考群里发的 FastAPI 那个范例，补全 Issue 关联和描述。</strong>” 然后关掉页面，去喝杯咖啡。</p>
<h3 id="主题-4-我想知道我们的仓库是main和dev双protect那么我们临时fea">主题 4. 我想知道我们的仓库是main和dev双protect，那么我们临时fea…</h3>
<p>这是一个非常经典且容易踩坑的 GitHub 机制问题。</p>
<p>简单直接的回答是：<strong>很大概率不会触发，千万不要依赖这个流程。</strong></p>
<p>只有在一种非常特定的操作组合下（Squash Merge + 这里的文本被完整保留进 Commit Message）才有可能生效，但在多人协作中这非常不稳定。</p>
<p>这里有两个核心机制在起作用，导致你的想法落空：</p>
<h3 id="1-只有默认分支才拥有生杀大权">1. 只有“默认分支”才拥有“生杀大权”</h3>
<p>GitHub 的 <code>Closes/Fixes #ID</code> 关键词自动化，默认情况下**只监听“默认分支”（Default Branch）**的变化。</p>
<ul>
<li>通常默认分支是 <code>main</code>。</li>
<li>当代码合并到 <code>dev</code> 时，因为 <code>dev</code> 不是默认分支，GitHub <strong>只会</strong>在 Issue 里显示一条引用记录（例如 “referenced this issue…”），但<strong>不会关闭</strong> Issue。</li>
</ul>
<h3 id="2-pr-description--commit-message-最关键的坑">2. PR Description ≠ Commit Message (最关键的坑)</h3>
<p>这是很多团队混淆的地方：</p>
<ul>
<li><strong>PR 的 Description（描述）</strong>：是 GitHub 网页上的元数据。</li>
<li><strong>Commit Message（提交信息）</strong>：是写进 Git 历史里的数据。</li>
</ul>
<p>当你把 <code>feat</code> 合并到 <code>dev</code> 时：</p>
<ul>
<li><strong>如果你用 Create a merge commit（普通合并）</strong>：Git 会生成一个类似 <code>Merge pull request #5 from feat-xxx</code> 的新 Commit。你原来写在 PR 描述里的 <code>close #123</code> <strong>直接丢了</strong>，它没有进入 <code>dev</code> 分支的 Git 历史，只是留在了那个已经 Closed 的 PR 网页上。</li>
<li><strong>如果你用 Squash and merge（压缩合并）</strong>：GitHub 默认会把 PR 的标题和描述复制到新的 Commit Message 里。只有这种情况下，<code>close #123</code> 才会变成 <code>dev</code> 分支上某行代码的一部分。</li>
</ul>
<p><strong>结论</strong>：等到 <code>dev</code> 再次合并到 <code>main</code> 时，GitHub 扫描的是进入 <code>main</code> 的<strong>Commit Message</strong>。</p>
<ul>
<li>如果之前是普通合并，<code>main</code> 根本看不到 <code>close #123</code> 这几个字。</li>
<li>即使之前是 Squash，等到 <code>dev</code> -> <code>main</code> 这一步，如果你又做了一次 Squash，历史再次被压缩，这行字可能又丢了。</li>
</ul>
<h3 id="正确的解决姿势">正确的解决姿势</h3>
<p>为了不让你的 Issue 变成“僵尸”（代码都上线了 Issue 还开着），你有两个选择：</p>
<h4 id="方案-a在-release-pr-里写最推荐最规范">方案 A：在 Release PR 里写（最推荐，最规范）</h4>
<p>不要在 <code>feat</code> -> <code>dev</code> 的时候尝试关闭 Issue。</p>
<ul>
<li><code>feat</code> -> <code>dev</code>：仅引用。写 <code>Ref #123</code> 或者 <code>Related to #123</code>。</li>
<li><strong><code>dev</code> -> <code>main</code></strong>：当你要发版时，通常会提一个“Release v1.0”之类的总 PR。<strong>在这个总 PR 的 Description 里，列出所有要关闭的 Issue。</strong></li>
</ul>
<blockquote>
<p>Closes #101, Closes #102, Fixes #105</p>
</blockquote>
<h4 id="方案-b使用-github-actions-暴力接管适合小白团队">方案 B：使用 GitHub Actions 暴力接管（适合小白团队）</h4>
<p>既然你的队友可能记不住在 <code>dev -> main</code> 时去写那些 ID，你可以写一个 Action：<strong>只要代码合入 <code>dev</code>，就视为完成</strong>（如果你定义进入 Dev 就算做完了的话）。</p>
<p>在 <code>.github/workflows/close-issue.yml</code> 里：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>name: Close Issue on Merge to Dev</span></span>
<span class="line"><span></span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  pull_request:</span></span>
<span class="line"><span>    types: [closed]</span></span>
<span class="line"><span>    branches:</span></span>
<span class="line"><span>      - dev  # 监听合并到 dev 的动作</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  close-issue:</span></span>
<span class="line"><span>    if: github.event.pull_request.merged == true</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      - uses: actions/github-script@v6</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          script: |</span></span>
<span class="line"><span>            // 这是一个简单的逻辑：去读取 PR body 里的 issue 编号并关闭它</span></span>
<span class="line"><span>            // 实际上这一步比较复杂，需要正则匹配 Body 里的 "close #xxx"</span></span>
<span class="line"><span>            // 建议直接用现成的 Action 市场插件，比如 "keyword-issue-closer"</span></span></code></pre>
<h3 id="建议">建议</h3>
<p>鉴于你的团队现状（队友各种不规范），<strong>方案 A</strong> 比较难执行，因为他们提 <code>dev -> main</code> PR 的时候肯定懒得去翻之前改了哪些 Issue。</p>
<p><strong>最现实的妥协</strong>： 利用 GitHub 的 <strong>“Linked Issues”</strong> 侧边栏功能。 教队友在提 <code>feat -> dev</code> 的 PR 时，不要手写 <code>close #123</code>，而是点击 PR 页面右侧边栏的 <strong>Development</strong> 选项，手动选一下关联的 Issue。</p>
<p>虽然这不会在进 <code>dev</code> 时关闭，但当这个 PR 最终随着 <code>dev</code> 滚进 <code>main</code> 的时候，GitHub 只要检测到<strong>代码关联</strong>，是有很大几率能自动识别并关闭的（取决于具体的 Merge 路径，但比手写文本靠谱一点）。</p>
<p><strong>如果不放心，还是得你亲自做那个 <code>dev -> main</code> 的守门员，手动在 Release PR 里把 Issue 编号填上去。</strong></p>
<h3 id="主题-5-也就是我在dev-main时要手动去找哪些issue需要被close">主题 5. 也就是我在dev-main时，要手动去找哪些issue需要被close</h3>
<p>如果你什么都不做，完全靠人肉去记，那确实是的——<strong>这简直是噩梦</strong>。</p>
<p>试想一下：<code>dev</code> 分支积累了 20 个 PR，包含 50 个 commit，对应了 15 个 Issue。等到要发版合并到 <code>main</code> 的时候，你要一个个去翻之前的记录，找出一串神秘代码 <code>Close #12, #15, #18...</code> 填进去。<strong>这根本不是人干的事。</strong></p>
<p>这里有三个解决办法，从“纯手工”到“全自动”，推荐直接上<strong>方案三</strong>。</p>
<h3 id="方案一git-命令行作弊流半自动">方案一：Git 命令行“作弊”流（半自动）</h3>
<p>不要去翻 GitHub 网页，直接问 Git。 在你要把 <code>dev</code> 合并到 <code>main</code> 之前，在终端敲一行命令：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># 列出 main 和 dev 之间所有差异 commit 的 body 信息，并过滤出含 close/fix 的行</span></span>
<span class="line"><span>git log main..dev --pretty=format:"%b" | grep -iE "close|fix|resolve"</span></span></code></pre>
<p>这会直接吐出一堆 <code>Closes #123</code>，你把这些复制粘贴到 <code>dev -> main</code> 的 PR 描述里就行了。</p>
<ul>
<li><strong>缺点</strong>：如果队友连 Commit Message 里的 <code>Closes</code> 都不写（只写在 PR 描述里），这招就废了。</li>
</ul>
<h3 id="方案二改变合并策略不推荐会导致主分支乱">方案二：改变合并策略（不推荐，会导致主分支乱）</h3>
<p>如果你的 <code>dev -> main</code> 使用的是 <strong>“Create a merge commit”</strong>（保留历史），而不是 Squash，那么：</p>
<ul>
<li>只要队友在 <code>feat -> dev</code> 的 Commit Message 里写过 <code>Closes #123</code>。</li>
<li>这些 Commit 会原封不动地流向 <code>main</code>。</li>
<li>GitHub 扫描到 <code>main</code> 分支出现了含 <code>Closes</code> 的 commit，就会自动关闭 Issue。</li>
</ul>
<p><strong>致命缺点</strong>：你的 <code>main</code> 分支会变得非常脏，充斥着队友那些 “fix typo”, “update” 的垃圾 commit。通常大项目不许这么干。</p>
<h3 id="方案三引入-release-drafter全自动强烈推荐">方案三：引入 Release Drafter（全自动・强烈推荐）</h3>
<p>这是 DevOps 的标准解法。既然你不想管人，就让 <strong>GitHub Actions</strong> 帮你管。</p>
<p><strong>原理</strong>： 安装一个叫 <strong>Release Drafter</strong> 的 Action。它会自动监听所有合并到 <code>dev</code>（或者你指定的默认分支）的 PR。哪怕 Issue 还没关，它会把这些 PR 的标题、作者、以及关联的 Issue 号码都记在一个“草稿清单”里。</p>
<p><strong>怎么做。</strong></p>
<ol>
<li>在仓库里添加文件 <code>.github/workflows/release-drafter.yml</code>。</li>
<li>当你把 <code>dev</code> 合并到 <code>main</code> 时，这个 Action 会自动生成一个 Release Note 草稿，里面长这样：</li>
</ol>
<blockquote>
<p><strong>What’s Changed</strong></p>
<ul>
<li>Feat: User login logic by @teammate in #5 (Closes #10)</li>
<li>Fix: Database connection by @teammate in #6 (Closes #12)</li>
</ul>
</blockquote>
<p><strong>你只需要做一件事</strong>： 把 <code>dev</code> 合并到 <code>main</code> 后，打开 Releases 页面，点击那个自动生成的 Draft，点一下 <strong>Publish</strong>。 <strong>所有列在里面的 Issue 就会瞬间全部自动关闭。</strong></p>
<h4 id="只需要这几行配置">只需要这几行配置：</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>name: Release Drafter</span></span>
<span class="line"><span></span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  push:</span></span>
<span class="line"><span>    branches:</span></span>
<span class="line"><span>      - main  # 当代码进 main 时触发</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  update_release_draft:</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      - uses: release-drafter/release-drafter@v5</span></span>
<span class="line"><span>        env:</span></span>
<span class="line"><span>          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</span></span></code></pre>
<h3 id="总结">总结</h3>
<p>你现在的痛点是<strong>信息断层</strong>：队友在 <code>feat</code> 写的信息，在 <code>dev</code> 汇总时丢了。</p>
<ul>
<li><strong>最快止痛药</strong>：用 <code>git log</code> 命令查出来，手动复制。</li>
<li><strong>根治药方</strong>：配置 <strong>Release Drafter</strong>。它不仅帮你收集 Issue ID，连发版日志（Changelog）都帮你写好了。对于你这种不想管杂事的人来说，这是神器。</li>
</ul>
<p><strong>要不要我给你一个配置好的 <code>release-drafter.yml</code> 模板。你可以直接丢进仓库，马上生效。</strong></p>
<h3 id="主题-6-也就说我需要把-close-ref关键词写入-commit-messa">主题 6. 也就说，我需要把 close ref关键词写入 commit messa…</h3>
<p>是的，这是<strong>底层逻辑</strong>。</p>
<p>GitHub 的自动关闭机制（Autolinked references）本质上是一个<strong>文本扫描器</strong>。</p>
<p>当代码合并到默认分支（<code>main</code>）的那一瞬间，GitHub 会扫描<strong>新进入的 Commit Message</strong>。只要在这些 Message 里扫到了 <code>Closes #123</code>，它就会执行关闭操作。</p>
<h3 id="但你千万不要逼队友在命令行里写">但你千万不要逼队友在命令行里写。</h3>
<p>如果你的队友连 Issue 描述都懒得写，你如果要求他们在终端敲命令时写： <code>git commit -m "fix: login bug (Closes #123)"</code> <strong>他们绝对会经常忘，或者写错格式。</strong></p>
<h3 id="最佳实践用squash-merge把-pr-描述变成-commit-message">最佳实践：用“Squash Merge”把 PR 描述“变”成 Commit Message</h3>
<p>你只需要让队友在 <strong>PR 界面（网页上）</strong> 填好，然后通过你的<strong>合并操作</strong>，把它转换进 Commit Message 里。</p>
<h4 id="具体操作流程闭环">具体操作流程（闭环）：</h4>
<ol>
<li><strong>队友的操作（门槛最低）</strong>： 队友只负责在 PR 的 <strong>Description（描述框）</strong> 里写：</li>
</ol>
<blockquote>
<p>fix: 修复登录问题 Closes #10</p>
</blockquote>
<ol start="2">
<li><strong>你的操作（关键一步）</strong>： 当你在 GitHub 网页上把 <code>feat</code> 合并进 <code>dev</code> 时，<strong>不要点绿色的 “Merge pull request”</strong>。 你要点击旁边的小箭头，选择 <strong>“Squash and merge”</strong>（扁平化合并）。
<ul>
<li><strong>发生了什么。</strong> GitHub 会把队友那堆杂乱的 commits 压缩成<strong>一个 commit</strong>。 同时，它会自动把队友在 <strong>PR Description</strong> 里写的 <code>Closes #10</code> 复制到这个<strong>新 Commit 的 Message</strong> 里。</li>
</ul>
</li>
<li><strong>最终生效（dev -> main）</strong>： 现在 <code>dev</code> 分支里就有了一个包含 <code>Closes #10</code> 文字的 Commit。 当你把 <code>dev</code> 合并进 <code>main</code> 时（这次可以用普通 Merge），这个 Commit 就会带着这行字进入 <code>main</code>，Issue #10 应声关闭。</li>
</ol>
<h3 id="结论">结论</h3>
<p><strong>不需要</strong>队友在 <code>git commit</code> 时写。 <strong>只需要</strong>队友在 PR 网页填空 + 你使用 <strong>Squash Merge</strong>。</p>
<p>这样做的好处是：<strong>只要 PR 模板里有了（你已经设了），且你合并时用了 Squash，该事项就成了。</strong></p>
<h3 id="排查场景-1-我看很多人都是这样写commit-message">排查场景 1. 我看很多人都是这样写commit message</h3>
<ul>
<li>场景：我看很多人都是这样写commit message</li>
<li>处理要点：<br>
你观察得很仔细，这种写法非常普遍，它是**“Conventional Commits（约定式提交）”<strong>结合</strong>“GitHub 引用机制”**的产物。</li>
</ul>
<p>但是，这里有一个<strong>巨大的陷阱</strong>，也是你之前一直无法自动关闭 Issue 的核心原因：</p>
<h3 id="1-只有-id-是关不掉-issue-的">1. 只有 <code>#id</code> 是关不掉 Issue 的。</h3>
<p>如果你队友写的是：</p>
<blockquote>
<p><code>fix: fix login bug #123</code></p>
</blockquote>
<p>结果是：Issue #123 下面会多一条记录 “mentioned in commit…”（产生了<strong>关联</strong>），但是 Issue <strong>依然是 Open 状态</strong>。</p>
<p>如果要自动关闭，必须加动词（Keywords）：</p>
<blockquote>
<p><code>fix: fix login bug (Closes #123)</code></p>
</blockquote>
<p>GitHub 只认以下关键词（不区分大小写）：</p>
<ul>
<li><code>close</code>, <code>closes</code>, <code>closed</code></li>
<li><code>fix</code>, <code>fixes</code>, <code>fixed</code></li>
<li><code>resolve</code>, <code>resolves</code>, <code>resolved</code></li>
</ul>
<h3 id="2-业界标准写法解析">2. 业界标准写法解析</h3>
<p>既然你想让团队学，那就直接教最标准的。这种格式叫 <strong>Conventional Commits</strong>。</p>
<h4 id="格式公式">格式公式</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;type>(&#x3C;scope>): &#x3C;subject> (Closes #&#x3C;issue-id>)</span></span></code></pre>
<ul>
<li><strong>Type（必填）</strong>：告诉别人这次改动是什么性质。
<ul>
<li><code>feat</code>: 新功能 (feature)</li>
<li><code>fix</code>: 修补 bug</li>
<li><code>docs</code>: 文档 (documentation)</li>
<li><code>style</code>: 格式 (不影响代码运行的变动)</li>
<li><code>refactor</code>: 重构 (即不是新增功能，也不是修改 bug 的代码变动)</li>
<li><code>chore</code>: 构建过程或辅助工具的变动</li>
</ul>
</li>
<li><strong>Subject（必填）</strong>：简短描述，不要超过 50 个字符，结尾不要加句号。</li>
<li><strong>Footer（选填）</strong>：用于关闭 Issue。</li>
</ul>
<h4 id="举几个例子">举几个例子</h4>
<p><strong>例子 A：一行流（适合小修小补，你的队友会喜欢这个）</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>fix: 修复用户头像不显示的问题 (Closes #45)</span></span></code></pre>
<p><em>优点：简单，一句命令搞定。</em></p>
<p><strong>例子 B：标准流（正规大厂写法）</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>feat: 增加微信支付接口</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这里可以写详细的描述，比如为什么要加这个接口，</span></span>
<span class="line"><span>逻辑是什么。支持换行。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Closes #102</span></span></code></pre>
<p><em>优点：清晰，适合复杂的改动。</em></p>
<h3 id="3-如何在你那个不想管的团队落地">3. 如何在你那个“不想管”的团队落地。</h3>
<p>鉴于你的队友比较懒且不规范，如果你要求他们每次都在命令行里敲这么标准，他们肯定会疯（或者乱写）。</p>
<p><strong>最“狡猾”的落地策略：利用 <code>commitlint</code> 做硬性拦截。</strong></p>
<p>你刚才说“不合就不合”，那就在项目里装个<strong>保安</strong>。</p>
<ol>
<li><strong>安装工具</strong>（在项目根目录）：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    npm install --save-dev @commitlint/{config-conventional,cli} husky</span></span></code></pre>
<p><em>(假设是前端或 Node 项目，其他语言也有类似工具)</em><br>
2.  <strong>配置规则</strong>： 创建 <code>commitlint.config.js</code>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    module.exports = {</span></span>
<span class="line"><span>      extends: ['@commitlint/config-conventional'],</span></span>
<span class="line"><span>      // 这里可以不用自定义，默认就是要求 fix: xxx 这种格式</span></span>
<span class="line"><span>    };</span></span></code></pre>
<ol start="3">
<li><strong>效果</strong>： 队友如果在终端敲：<code>git commit -m "update code"</code> <strong>报错。提交失败。</strong> 终端会提示：</li>
</ol>
<blockquote>
<p>subject may not be empty  type may not be empty<br>
队友必须敲：<code>git commit -m "chore: update code"</code> 才能过。</p>
</blockquote>
<h3 id="总结-1">总结</h3>
<p>你看到的 <code>&#x3C;type>: subject #issue-id</code> 是对的，但为了能自动关 Issue，必须改良成： <strong><code>&#x3C;type>: subject (Closes #issue-id)</code></strong></p>
<p>建议你直接把这个格式贴在群公告里：“兄弟们，以后 Commit Message 必须按这个格式写，不然代码推不上去/Issue 关不掉，系统会自动拦截。”</p>
<h3 id="排查场景-2-我觉得安装这个插件不错">排查场景 2. 我觉得安装这个插件不错</h3>
<ul>
<li>场景：我觉得安装这个插件不错</li>
<li>处理要点：<br>
这是一个非常明智的决定。引入工具拦截，相当于雇了一个<strong>24小时在线、铁面无私的保安</strong>。你的队友再怎么跟你抱怨也没用，因为是代码仓库报错，不是你在找茬。</li>
</ul>
<p>鉴于你的项目包含前端（React），你们肯定有 <code>package.json</code>。用 <strong>Husky + Commitlint</strong> 是业界的标准解法。</p>
<p>请按照下面 3 步操作，直接把这个机制部署下去：</p>
<h3 id="第一步安装保安-husky--commitlint">第一步：安装“保安” (Husky &#x26; Commitlint)</h3>
<p>在项目根目录下，运行这条命令安装必要的开发依赖：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>npm install --save-dev @commitlint/{config-conventional,cli} husky</span></span></code></pre>
<h3 id="第二步制定法律-配置文件">第二步：制定“法律” (配置文件)</h3>
<p>在根目录创建一个 <code>commitlint.config.js</code> 文件，告诉工具我们要用标准规范：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// commitlint.config.js</span></span>
<span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  extends: ['@commitlint/config-conventional'],</span></span>
<span class="line"><span>  rules: {</span></span>
<span class="line"><span>    // 这里可以自定义，比如强行要求 header 必须小写，或者 type 必须是那些词</span></span>
<span class="line"><span>    // 默认配置已经足够好用，不用改</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>};</span></span></code></pre>
<p><em>(或者直接运行命令生成：<code>echo "module.exports = {extends: ['@commitlint/config-conventional']}" > commitlint.config.js</code>)</em></p>
<h3 id="第三步把保安安排到门口-激活-git-hooks">第三步：把保安安排到门口 (激活 Git Hooks)</h3>
<p>Husky 现在（v9版本）配置非常简单。运行以下两条命令：</p>
<ol>
<li><strong>初始化 Husky</strong>（这会创建 <code>.husky</code> 文件夹）：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    npx husky init</span></span></code></pre>
<ol start="2">
<li><strong>添加拦截规则</strong>（告诉 Git 在 commit 发生前去检查 message）：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    echo "npx --no -- commitlint --edit \$1" > .husky/commit-msg</span></span></code></pre>
<h3 id="效果演示爽文时刻">效果演示（爽文时刻）</h3>
<p>配置好之后，把这些文件 push 上去。以后任何队友 pull 下来代码（只要他们跑过 <code>npm install</code>），他们想瞎写的时候就会遭遇<strong>降维打击</strong>：</p>
<p>** 场景一：队友想偷懒** 输入：<code>git commit -m "fix bug"</code> 结果：<strong>提交失败。</strong> 终端直接爆红：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>⧗   input: fix bug</span></span>
<span class="line"><span>   subject may not be empty [subject-empty]</span></span>
<span class="line"><span>   type may not be empty [type-empty]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>husky - commit-msg hook exited with code 1 (error)</span></span></code></pre>
<p>** 场景二：队友乱写格式** 输入：<code>git commit -m "Fixed: 登录问题"</code> (注意大写和冒号) 结果：<strong>提交失败。</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>   type must be lower-case [type-case]</span></span>
<span class="line"><span>   type must be one of [build, chore, ci, docs, feat, fix, perf, refactor, revert, style, test] [type-enum]</span></span></code></pre>
<p>** 场景三：乖乖按规矩来** 输入：<code>git commit -m "fix: 修复登录页面的 404 问题 (Closes #12)"</code> 结果：<strong>提交成功。</strong></p>
<h3 id="️-最后一个关键动作">️ 最后一个关键动作</h3>
<p>你把这些配置推送到 GitHub 后，<strong>一定要在群里吼一声：</strong></p>
<blockquote>
<p>“大家 pull 一下最新代码，然后运行 <code>npm install</code> 更新一下依赖。 我加了个自动检查插件，以后 commit 格式不对会直接报错提交不上去，格式参考群公告。这是为了防止我们的代码库变乱，机器自动拦截的，谁也绕不过去哈。”</p>
</blockquote>
<p>这样，你就彻底从“老妈子”变成了“系统管理员”，不用再费口舌了。</p>
<p><strong>需要我帮你解释一下怎么处理那些“非 Node.js”环境（比如如果你们后端是纯 Python 且不想装 node 环境）的情况吗。</strong></p>
<h3 id="主题-7-close或者其他关键词-issue-id">主题 7. Close或者其他关键词 issue-id</h3>
<p>这是一个非常硬核的配置需求。</p>
<p>标准的 <code>@commitlint/config-conventional</code> 只能约束 <code>&#x3C;type>: &#x3C;subject></code> 这个基本结构，<strong>它默认并不会强制你必须在 Header 或者 Footer 里写 <code>#issue-id</code></strong>。</p>
<p>既然你的队友“屡教不改”，我们需要在 <code>commitlint.config.js</code> 里加一点<strong>自定义规则（Plugin）</strong>，像交警一样强制检查“有没有带证件（Issue ID）”。</p>
<p>以下是为你定制的<strong>终极拦截配置</strong>，直接覆盖你原来的文件即可：</p>
<h3 id="升级版-commitlintconfigjs">升级版 commitlint.config.js</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  extends: ['@commitlint/config-conventional'],</span></span>
<span class="line"><span>  // 1. 定义自定义插件，用来写正则检查</span></span>
<span class="line"><span>  plugins: [</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>      rules: {</span></span>
<span class="line"><span>        'header-match-issue-id': (parsed) => {</span></span>
<span class="line"><span>          const { header } = parsed;</span></span>
<span class="line"><span>          // 正则含义：必须以 (空格 + # + 数字 + ) 结尾</span></span>
<span class="line"><span>          // 例如：feat: add login (#123)</span></span>
<span class="line"><span>          const regex = /\s\(#\d+\)$/;</span></span>
<span class="line"><span>          </span></span>
<span class="line"><span>          if (regex.test(header)) {</span></span>
<span class="line"><span>            return [true];</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>          return [false, 'Header 必须以 (#issue-id) 结尾！例如: feat: 修复登录问题 (#123)'];</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        'body-be-detailed': (parsed) => {</span></span>
<span class="line"><span>             const { body } = parsed;</span></span>
<span class="line"><span>             // 简单的字数检查，强制要求 Body 必须写，且不少于 10 个字符</span></span>
<span class="line"><span>             if (body &#x26;&#x26; body.length >= 10) {</span></span>
<span class="line"><span>                 return [true];</span></span>
<span class="line"><span>             }</span></span>
<span class="line"><span>             return [false, 'Body 描述太短了！请详细说明改动内容 (至少10个字符)。'];</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  ],</span></span>
<span class="line"><span>  // 2. 激活规则</span></span>
<span class="line"><span>  rules: {</span></span>
<span class="line"><span>    // === 基础规则 (继承自 conventional) ===</span></span>
<span class="line"><span>    'type-enum': [2, 'always', ['feat', 'fix', 'docs', 'style', 'refactor', 'test', 'chore', 'revert']],</span></span>
<span class="line"><span>    'type-case': [2, 'always', 'lower-case'], // type必须小写</span></span>
<span class="line"><span>    'scope-case': [2, 'always', 'lower-case'], // scope必须小写</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    // === 你的定制规则 ===</span></span>
<span class="line"><span>    // 强制 Header 必须包含 (#issue-id)</span></span>
<span class="line"><span>    'header-match-issue-id': [2, 'always'], </span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    // 强制 Body 不能为空，且不能太短 (防止"fix bug"这种废话)</span></span>
<span class="line"><span>    'body-be-detailed': [2, 'always'],</span></span>
<span class="line"><span>    'body-leading-blank': [2, 'always'], // header 和 body 之间必须空一行</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    // === Footer 规则 ===</span></span>
<span class="line"><span>    // 如果你想强制 Footer 里必须写 "Closes #xxx"，开启下面这行：</span></span>
<span class="line"><span>    // 'references-empty': [2, 'never'], </span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>};</span></span></code></pre>
<h3 id="这个配置能做到什么">这个配置能做到什么。</h3>
<p>假设队友想提交： <code>git commit -m "fix: 修复bug"</code> (这是以前的摆烂写法)</p>
<p><strong>拦截结果：</strong></p>
<ol>
<li><strong>报错 1</strong>：<code>Header 必须以 (#issue-id) 结尾。</code></li>
<li><strong>报错 2</strong>：<code>Body 描述太短了。</code></li>
</ol>
<p>队友<strong>必须</strong>改成这样才能提交成功：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git commit -m "fix(auth): 修复登录页面的Token失效问题 (#102)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这里详细写了为什么Token会失效，因为后端的过期时间改了，</span></span>
<span class="line"><span>所以我把前端的刷新逻辑也同步更新了。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Closes #102"</span></span></code></pre>
<h3 id="给你的特别建议">给你的特别建议</h3>
<ol>
<li><strong>关于冗余</strong>：你要求的格式里，Header 写了 <code>(#id)</code>，Footer 又要写 <code>Closes #id</code>。
<ul>
<li><strong>Header 里的 (#id)</strong>：是为了在 <code>git log</code> 一眼看到关联，<strong>但它不能自动关闭 Issue</strong>。</li>
<li><strong>Footer 里的 Closes #id</strong>：是为了<strong>自动关闭 Issue</strong>。</li>
<li><strong>结论</strong>：虽然写两遍有点烦，但为了规范和追踪，这在严格的项目里是合理的。</li>
</ul>
</li>
<li><strong>如何推行</strong>： 把这个配置文件推上去后，你的队友下次 <code>commit</code> 肯定会报错。 到时候你只需要淡淡地说一句：</li>
</ol>
<blockquote>
<p>“系统升级了，现在的 Commit 必须带 Issue ID 并且写清楚 Body，不然过不了检查，按照报错提示改一下就行。”</p>
</blockquote>
<h3 id="主题-8-这个啥意思">主题 8. 这个啥意思</h3>
<p>这行命令是 Git Hook 脚本的核心，它的作用可以翻译为： <strong>“去用项目里安装好的那个 commitlint 工具，检查一下 Git 传过来的这个临时文件里的提交信息。”</strong></p>
<p>我们需要把它拆解成 5 个部分来看，每一部分都有它的深意：</p>
<h3 id="1-npx">1. <code>npx</code></h3>
<ul>
<li><strong>作用</strong>：运行安装在 <code>node_modules</code> 里的可执行文件。</li>
<li><strong>为什么用它</strong>：你把 commitlint 安装在项目本地（<code>devDependencies</code>）了，没有安装在全局。直接敲 <code>commitlint</code> 系统是不认识的，必须用 <code>npx</code> 去把它找出来运行。</li>
</ul>
<h3 id="2---no-最关键的一个参数">2. <code>--no</code> (最关键的一个参数)</h3>
<ul>
<li><strong>全称</strong>：<code>--no-install</code></li>
<li><strong>含义</strong>：<strong>只使用本地项目里安装的包，绝对不要去网上下载。</strong></li>
<li><strong>为什么要加</strong>：
<ul>
<li>如果你的队友手贱或者是新来的，没有运行 <code>npm install</code> 就直接想 commit 代码，本地是没有 <code>commitlint</code> 的。</li>
<li>如果不加 <code>--no</code>，<code>npx</code> 会自作聪明地尝试去互联网上下载最新版的 commitlint 来运行。这会导致版本不一致，或者因为网络问题卡半天。</li>
<li>加了 <code>--no</code>，如果本地没装，它会直接<strong>报错退出</strong>。这是一道安全阀，强迫队友必须先 <code>npm install</code>。</li>
</ul>
</li>
</ul>
<h3 id="3--">3. <code>--</code></h3>
<ul>
<li><strong>含义</strong>：<strong>参数分隔符</strong>。</li>
<li><strong>作用</strong>：告诉 <code>npx</code>：“我的话讲完了”。</li>
<li><strong>详解</strong>：<code>--</code> 之后的所有内容（<code>commitlint --edit $1</code>），<code>npx</code> 都不再解析，而是原封不动地传给后面的命令。这是为了防止后面的参数（比如 <code>--edit</code>）被 <code>npx</code> 误认为是自己的参数。</li>
</ul>
<h3 id="4-commitlint">4. <code>commitlint</code></h3>
<ul>
<li><strong>含义</strong>：这就是你要调用的那个检查工具的主程序。</li>
</ul>
<h3 id="5---edit-1">5. <code>--edit $1</code></h3>
<ul>
<li><strong><code>$1</code> 是什么</strong>：这是 Shell 脚本的变量，代表**“第一个参数”**。
<ul>
<li>当你在 Git 中执行 commit 时，Git 会创建一个临时文件（通常叫 <code>.git/COMMIT_EDITMSG</code>），里面装着你刚写的 commit message。</li>
<li>Git 调用 <code>commit-msg</code> 钩子时，会把这个<strong>文件的路径</strong>作为第一个参数传进来。所以 <code>$1</code> 就是那个文件的路径。</li>
</ul>
</li>
<li><strong><code>--edit</code> 是什么</strong>：这是 <code>commitlint</code> 的参数。
<ul>
<li>它告诉 commitlint：“不要傻等着我从键盘输入，<strong>去读取 <code>$1</code> 这个路径下的文件内容</strong>来进行检查。”</li>
</ul>
</li>
</ul>
<h3 id="总结一下剧情">总结一下剧情</h3>
<p>当队友输入 <code>git commit -m "fix bug"</code> 时：</p>
<ol>
<li>Git 创建临时文件，里面写着 “fix bug”。</li>
<li>Git 触发 Husky 钩子，运行这就话。</li>
<li><strong>npx</strong>: “我要运行工具了。”</li>
<li><strong>—no</strong>: “但我只在本地找，找不到我就报错。”</li>
<li><strong>commitlint</strong>: “我要开始检查了。”</li>
<li><strong>—edit $1</strong>: “我要检查的内容在 <code>$1</code> 这个文件里。”</li>
<li><strong>结果</strong>: 发现 “fix bug” 太短且格式不对 -> <strong>报错拦截</strong>。</li>
</ol>
<h3 id="排查场景-3-这把我也搞死了">排查场景 3. 这把我也搞死了</h3>
<ul>
<li>场景：这把我也搞死了</li>
<li>处理要点：<br>
不过往好处想：<strong>这证明你的拦截机制（Husky + Commitlint）工作得非常完美。</strong> 连作为 Admin 的你都绕不过去，你的队友就更别想绕过去了。</li>
</ul>
<h3 id="错误原因缺个空行">错误原因：缺个“空行”</h3>
<p>报错信息 <code>body must have leading blank line</code> 的意思是：<strong>标题（Header）和 正文（Body）之间，必须空一行。</strong></p>
<p>你刚才提交的信息，在机器眼里长这样（太挤了）：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>feat(infra): add git commit message linter (#81)</span></span>
<span class="line"><span>add git commit message linter rules...  &#x3C;-- 这里直接接上了，不行！</span></span>
<span class="line"><span>Close #81</span></span></code></pre>
<h3 id="正确姿势要像写邮件一样">正确姿势：要像写邮件一样</h3>
<p>你需要给标题和正文之间留出呼吸空间。</p>
<h4 id="写法-a如果你是用命令行--m">写法 A：如果你是用命令行 (<code>-m</code>)</h4>
<p>你需要用多个 <code>-m</code> 参数，Git 会自动帮你加空行：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git commit -m "feat(infra): add git commit message linter (#81)" -m "add git commit message linter rules including header check, body check and reference check." -m "Close #81"</span></span></code></pre>
<p><em>(注意：这里用了三个 <code>-m</code>，分别是：标题、正文、Footer。这样中间会自动插入空行，完美符合规范)</em></p>
<h4 id="写法-b如果你是用编辑器-vim--nano--vs-code">写法 B：如果你是用编辑器 (Vim / Nano / VS Code)</h4>
<p>当你输入 <code>git commit</code> 此时弹出的编辑器里，你必须这样写（注意第 2 行和第 4 行必须是空的）：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>feat(infra): add git commit message linter (#81)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>add git commit message linter rules including header check, body check and reference check.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Close #81</span></span></code></pre>
<h3 id="紧急救援如果不想要这个规则">紧急救援：如果不想要这个规则</h3>
<p>如果你觉得“还要敲回车”太反人类，或者你觉得你自己都受不了这个约束，更别提队友了。你可以把这个规则<strong>降级</strong>或者<strong>关掉</strong>。</p>
<p>修改 <code>commitlint.config.js</code>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>export default {</span></span>
<span class="line"><span>  // ... 其他配置</span></span>
<span class="line"><span>  rules: {</span></span>
<span class="line"><span>    // ... 其他规则</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    // [0]=off, [1]=warning(黄色警告但不拦截), [2]=error(红色报错并拦截)</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    // 方案一：改成警告 (推荐)，提醒你空一行，但允许你强制通过</span></span>
<span class="line"><span>    'body-leading-blank': [1, 'always'],</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    // 方案二：彻底关掉 (如果你们懒得空行)</span></span>
<span class="line"><span>    'body-leading-blank': [0, 'always'],</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>};</span></span></code></pre>
<p><strong>我的建议</strong>： 既然是“模范仓库”，<strong>咬咬牙坚持一下。</strong> 用 <strong>写法 A</strong>（多个 <code>-m</code>）是最舒服的，既不用打开编辑器，又能自动生成空行，显得非常专业。</p>
<p>快去试一下三个 <code>-m</code> 的大法，绝对能过。</p>
<h3 id="主题-9-项目里安装这个的多不多我这算不算官僚主义">主题 9. 项目里安装这个的多不多，我这算不算官僚主义</h3>
<p>这绝对<strong>不算</strong>官僚主义，这叫<strong>工程化（Engineering）</strong>。</p>
<p>你现在做的事情，是在把“人的管理”转化为“机器的代码”。在现代开发流程中，这不仅不多余，反而是<strong>最主流、最节省时间</strong>的做法。</p>
<p>我来给你吃颗定心丸，顺便帮你理清“官僚”和“规范”的区别。</p>
<h3 id="1-市场占有率多得吓人">1. 市场占有率：多得吓人</h3>
<p>你担心的“是不是只有我这么变态”，数据会告诉你答案：</p>
<ul>
<li><strong>Husky</strong> 每周下载量：<strong>1200万+</strong> 次（NPM 数据）。</li>
<li><strong>Commitlint</strong> 每周下载量：<strong>500万+</strong> 次。</li>
<li><strong>谁在用</strong>：Vue CLI、NestJS、Next.js 社区模板、Angular（它是这套规范的鼻祖）、几乎所有的开源大厂项目（Google, Facebook, Airbnb）。</li>
</ul>
<p><strong>结论</strong>：你不是在搞官僚主义，你是在把你的草台班子团队强行拉到<strong>一线大厂的及格线</strong>。</p>
<h3 id="2-什么是官僚主义-vs-基建">2. 什么是“官僚主义” vs “基建”。</h3>
<p>你现在的自我怀疑是因为你被工具拦住了，觉得麻烦。但请对比一下：</p>
<ul>
<li><strong>真正的官僚主义（Bureaucracy）</strong>：
<ul>
<li>你让队友每次提交前必须截图发给你看。</li>
<li>你需要填一张 Excel 表格记录这次改了什么。</li>
<li>你口头反复念叨“注意格式”，队友听烦了，你也说累了，最后还没效果。</li>
<li><strong>特点</strong>：靠人肉堆积，效率低，情绪消耗大。</li>
</ul>
</li>
<li><strong>基建/工程化（Infrastructure）</strong>：
<ul>
<li>你配置好 <code>commitlint</code>。</li>
<li>队友乱写 -> 电脑报错 -> 队友自己改 -> 提交成功。</li>
<li><strong>全程不需要你介入</strong>。你不需要当“坏人”，是脚本在当“坏人”。</li>
<li><strong>特点</strong>：一次配置，自动拦截，对事不对人。</li>
</ul>
</li>
</ul>
<h3 id="3-你现在的痛苦是必要的">3. 你现在的“痛苦”是必要的</h3>
<p>你刚才被卡住（因为没空行），这种**“不爽感”**正是这套机制生效的证明。</p>
<ul>
<li>如果连作为 Admin 的你都因为写得不规范被拦截了，说明这套规则是<strong>铁面无私</strong>的。</li>
<li>你的队友第一次也会痛，但痛两次之后，他们就会形成<strong>肌肉记忆</strong>。</li>
<li>一个月后，你会发现整个仓库的 Log 赏心悦目，找 Bug 一搜一个准，发版只需一键生成 Changelog。那时候你会感谢现在的自己。</li>
</ul>
<h3 id="4-你的身份转变">4. 你的身份转变</h3>
<p>你之前觉得“不想管这个团队了”，是因为你处于 <strong>Level 1</strong>：</p>
<ul>
<li><strong>Level 1 (保姆)</strong>：天天跟在后面擦屁股，帮他们改格式，帮他们补测试。</li>
</ul>
<p>你引入 Husky 后，你正在走向 <strong>Level 2</strong>：</p>
<ul>
<li><strong>Level 2 (架构师/DevOps)</strong>：制定规则，编写工具，让系统去管理质量。</li>
</ul>
<h3 id="总结-2">总结</h3>
<p><strong>千万不要撤回。</strong> 你现在是在做正确的事（DevOps 左移，把问题拦截在最源头）。</p>
<p>如果队友抱怨“太麻烦了”，你就把锅甩给业界标准：</p>
<blockquote>
<p>“没办法，这是现在 GitHub 上主流项目的标准配置，我们早点习惯，以后去大厂面试或者是参与开源项目，这都是基本功，我这是在帮大家提前适应。”</p>
</blockquote>
<p>这一波，你站得住脚。继续保持。</p>
<h3 id="排查场景-4-但是你看这个我写的怎么都变成了">排查场景 4. 但是你看这个，我写的怎么都变成。。。了</h3>
<ul>
<li>场景：但是你看这个，我写的怎么都变成。。。了</li>
<li>处理要点：<br>
看图诊断：这绝对是**“复制粘贴”的锅**。</li>
</ul>
<p>这种情况通常发生在你试图“恢复”之前的命令时，不小心<strong>复制了被截断的日志或预览文本</strong>。</p>
<h3 id="️️-案发现场还原">️‍️ 案发现场还原</h3>
<p>请看你的截图细节：</p>
<ol>
<li>标题结尾是 <code>standardize c...</code>（c后面被截断了）。</li>
<li>描述开头是 <code>...ooperate flow</code>（cooperate前面被截断了）。</li>
</ol>
<p><strong>真相只有一个</strong>： 你之前的某次操作失败了（比如被 Husky 拦截时），然后你为了省事，可能去复制了终端里的报错日志、或者 VS Code 的 Git 插件里的日志预览。 <strong>那些日志预览通常会自动截断长文字，并用 <code>...</code> 省略。</strong> 结果你把这堆带着省略号的“残次品”文字，直接粘进了 <code>git commit</code> 命令里。</p>
<p>于是，Git 忠实地把 <code>...</code> 当作了你的提交信息存进去了。GitHub 只是把 Git 里的内容读出来了而已。</p>
<h3 id="️-怎么修强迫症疗法">️ 怎么修。（强迫症疗法）</h3>
<p>既然我们是为了规范代码才加的 Linter，这个 Commit 本身肯定不能这么“脏”。不要在 GitHub 网页上改，要在源头改。</p>
<h4 id="第一步在终端原地修补">第一步：在终端原地修补</h4>
<p>使用 <code>amend</code>（修正）命令，它允许你重新编辑最后一次提交的信息，而不用产生新的 Commit。</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git commit --amend</span></span></code></pre>
<h4 id="第二步在弹出的编辑器里修复文字">第二步：在弹出的编辑器里修复文字</h4>
<p>你会看到那段带 <code>...</code> 的烂文字。</p>
<ul>
<li>把 <code>standardize c...</code> 补全为 <code>standardize cooperate flow</code>。</li>
<li>把下面那行 <code>...ooperate flow</code> 删掉或者修好。</li>
<li>确保格式符合你刚立的规矩：</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    feat(infra): add git commit message linter and husky (#81)</span></span>
<span class="line"><span>    Add git commit message linter rules including header check, body check and reference check.</span></span>
<span class="line"><span>    Closes #81</span></span></code></pre>
<ul>
<li>保存并退出（如果是 Vim：按 <code>Esc</code> -> 输入 <code>:wq</code> -> 回车）。</li>
</ul>
<h4 id="第三步强推覆盖">第三步：强推覆盖</h4>
<p>因为你之前已经 Push 过那个“残次品”了，现在需要用修正后的版本覆盖它：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git push --force</span></span></code></pre>
<h4 id="第四步刷新-github">第四步：刷新 GitHub</h4>
<p>回到你截图的这个页面，刷新一下。你会发现标题和描述都变正常了，没有省略号了。</p>
<p><strong>这次算是一个完美的“Git 事故现场恢复”教学。</strong></p>
<h3 id="主题-10-有没有办法强制队员pr的时候记得点reviewerissue里强制设置">主题 10. 有没有办法强制队员pr的时候记得点reviewer，issue里强制设置…</h3>
<p>这也是两个非常经典的管理痛点。和之前的代码规范一样，解决思路依然是：<strong>与其靠人脑记，不如靠机器填，或者靠机器拦。</strong></p>
<p>针对你的两个需求，分别有“上策”（自动完成）和“下策”（强制拦截）：</p>
<h3 id="需求一强制指定-reviewer-审阅人">需求一：强制指定 Reviewer (审阅人)</h3>
<p>最完美的方案根本不需要队员去“点”那个按钮，而是让 GitHub <strong>自动分配</strong>。</p>
<h4 id="上策使用-codeowners-文件-强烈推荐">上策：使用 <code>CODEOWNERS</code> 文件 (强烈推荐)</h4>
<p>这是 GitHub 原生支持的功能。你只需要在仓库里放一个文件，GitHub 就会在队员提 PR 时<strong>自动把 Reviewer 填上</strong>。</p>
<ol>
<li><strong>创建文件</strong>：在仓库根目录创建 <code>.github/CODEOWNERS</code>。</li>
<li><strong>写入规则</strong>：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    # 语法：&#x3C;文件路径> &#x3C;GitHub用户名></span></span>
<span class="line"><span>    # 所有文件默认都由你 (@your-username) 负责审阅</span></span>
<span class="line"><span>    * @your-username</span></span>
<span class="line"><span>    # 前端代码自动分配给前端负责人</span></span>
<span class="line"><span>    src/    @frontend-lead</span></span>
<span class="line"><span>    # 文档自动分配给文档撰写人</span></span>
<span class="line"><span>    docs/   @doc-writer</span></span></code></pre>
<ol start="3">
<li><strong>效果</strong>： 队员提 PR 的一瞬间，GitHub 会根据他修改的文件，自动把对应的 <code>@your-username</code> 加到 Reviewers 列表里。<strong>队员想忘都忘不了，因为系统替他做了。</strong></li>
</ol>
<h4 id="️-配合分支保护">️ 配合分支保护</h4>
<p>为了确保万无一失，去 Settings -> Branches -> Branch protection rules -> main:</p>
<ul>
<li>勾选 <strong>Require a pull request before merging</strong></li>
<li>勾选 <strong>Require review from Code Owners</strong> (关键。这意味着如果不经过 <code>CODEOWNERS</code> 指定的人同意，代码合不进去)。</li>
</ul>
<h3 id="需求二issue-强制关联-project">需求二：Issue 强制关联 Project</h3>
<p>GitHub 目前没有原生设置能“如果不选 Project 就不让点 Create Issue 按钮”。但是，我们可以用 <strong>GitHub Actions</strong> 来做一个“事后监工”。</p>
<h4 id="方案-a自动归档-适合懒人">方案 A：自动归档 (适合懒人)</h4>
<p>既然他们懒得选，你就设置让所有新 Issue <strong>自动</strong>进入某个 Project。</p>
<ol>
<li>打开你的 <strong>GitHub Project</strong> (Projects Beta/V2)。</li>
<li>点击右上角的 <strong>Workflows</strong>。</li>
<li>选择 <strong>“Auto-add to project”</strong>。</li>
<li>设置规则：当 <code>Issue</code> 是 <code>opened</code> 状态时，自动添加到当前 Project。</li>
<li><strong>效果</strong>：队员只要提 Issue，不用操作，它就会自动出现在你的 Project 看板里（通常在 “No Status” 或 “Todo” 栏）。</li>
</ol>
<h4 id="方案-b强制机器人拦截-适合强迫症">方案 B：强制机器人拦截 (适合强迫症)</h4>
<p>如果你必须要求他们<strong>手动</strong>分类（比如你有多个 Project），可以用 Action 检查。如果发现没填 Project，就自动把 Issue 关掉并留言羞辱（误）。</p>
<p><strong>Action 配置 (<code>.github/workflows/enforce-project.yml</code>):</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>name: Enforce Project on Issue</span></span>
<span class="line"><span></span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  issues:</span></span>
<span class="line"><span>    types: [opened, reopened]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  check-project:</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      - name: Check if linked to project</span></span>
<span class="line"><span>        uses: actions/github-script@v6</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          script: |</span></span>
<span class="line"><span>            // 获取当前 Issue 的详情（包含 Project 信息）</span></span>
<span class="line"><span>            const issue = await github.graphql(`</span></span>
<span class="line"><span>              query($owner: String!, $repo: String!, $number: Int!) {</span></span>
<span class="line"><span>                repository(owner: $owner, name: $repo) {</span></span>
<span class="line"><span>                  issue(number: $number) {</span></span>
<span class="line"><span>                    projectItems(first: 1) {</span></span>
<span class="line"><span>                      nodes {</span></span>
<span class="line"><span>                        id</span></span>
<span class="line"><span>                      }</span></span>
<span class="line"><span>                    }</span></span>
<span class="line"><span>                  }</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>              }</span></span>
<span class="line"><span>            `, {</span></span>
<span class="line"><span>              owner: context.repo.owner,</span></span>
<span class="line"><span>              repo: context.repo.repo,</span></span>
<span class="line"><span>              number: context.issue.number</span></span>
<span class="line"><span>            });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            const projects = issue.repository.issue.projectItems.nodes;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            // 如果没有关联 Project</span></span>
<span class="line"><span>            if (projects.length === 0) {</span></span>
<span class="line"><span>              // 1. 留评论</span></span>
<span class="line"><span>              await github.rest.issues.createComment({</span></span>
<span class="line"><span>                owner: context.repo.owner,</span></span>
<span class="line"><span>                repo: context.repo.repo,</span></span>
<span class="line"><span>                issue_number: context.issue.number,</span></span>
<span class="line"><span>                body: " **Issue 创建失败！**\n\n为了便于管理，请在右侧边栏 **Projects** 中选择所属项目，然后重新 Reopen 这个 Issue。"</span></span>
<span class="line"><span>              });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>              // 2. 直接关闭 Issue</span></span>
<span class="line"><span>              await github.rest.issues.update({</span></span>
<span class="line"><span>                owner: context.repo.owner,</span></span>
<span class="line"><span>                repo: context.repo.repo,</span></span>
<span class="line"><span>                issue_number: context.issue.number,</span></span>
<span class="line"><span>                state: 'closed'</span></span>
<span class="line"><span>              });</span></span>
<span class="line"><span>            }</span></span></code></pre>
<p><strong>效果：</strong> 队员新建了一个 Issue 没选 Project -> <strong>系统秒关 Issue</strong> -> 并在下面留言：“选好 Project 再来重开。” -> 队员只能乖乖去选，然后点 Reopen。</p>
<h3 id="总结建议">总结建议</h3>
<ol>
<li><strong>Reviewer 问题</strong>：直接用 <strong><code>CODEOWNERS</code></strong>。这是最优雅的解法，不仅解决了“忘记点”的问题，还解决了“不知道点谁”的问题。</li>
<li><strong>Project 问题</strong>：推荐用 <strong>GitHub Project 自带的 Auto-add Workflows</strong>。让机器帮你归档，比强迫队员去点那几个复杂的菜单要顺滑得多。除非你的项目分类特别复杂，否则不要轻易用 Action 自动关闭 Issue，那样太打击积极性了。</li>
</ol>
<h3 id="主题-11--文档自动分配给文档撰写人">主题 11. \ 文档自动分配给文档撰写人</h3>
<p><strong>答案是：必须可以。而且这通常是更推荐的做法。</strong></p>
<p>把 Reviewer 设置为 Team 而不是个人，可以有效避免“单点阻塞”（比如某个人请假了，PR 就没人看了），也能让团队成员分担 Review 压力。</p>
<h3 id="1-语法格式">1. 语法格式</h3>
<p>在 <code>.github/CODEOWNERS</code> 文件里，你需要使用 <strong><code>@组织名/团队名</code></strong> 的格式。</p>
<p><strong>示例：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># 语法：&#x3C;文件路径> &#x3C;@Organization/Team-Name></span></span>
<span class="line"><span></span></span>
<span class="line"><span># 后端代码由 Backend 组负责</span></span>
<span class="line"><span>server/     @MyCompany/backend-devs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 前端代码由 Frontend 组负责</span></span>
<span class="line"><span>client/     @MyCompany/frontend-devs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 关键的基础设施代码，必须由架构组负责</span></span>
<span class="line"><span>infra/      @MyCompany/arch-team</span></span></code></pre>
<h3 id="2-️-必须要满足的前置条件">2. ️ 必须要满足的前置条件</h3>
<p>这功能虽然好用，但有三个坑新手经常踩，请务必检查：</p>
<ol>
<li><strong>必须是 Organization（组织）账号</strong>：
<ul>
<li>这个功能依赖于 GitHub 的 “Teams” 功能。如果你的仓库是在<strong>个人账号</strong>下（比如 <code>wayne/my-repo</code>），你是没法创建 Team 的，只能一个个 @具体的用户名。</li>
<li>如果是公司或学校项目，通常都是 Organization。</li>
</ul>
</li>
<li><strong>团队必须有“写”权限</strong>：
<ul>
<li>你指定的那个 Team（比如 <code>@MyCompany/backend-devs</code>），必须在仓库的 <strong>Settings -> Collaborators and teams</strong> 里被添加进去，并且至少拥有 <strong>Write</strong> 权限。如果没有权限，GitHub 会忽略这行配置。</li>
</ul>
</li>
<li><strong>名称是 Slug 不是 Display Name</strong>：
<ul>
<li>如果你团队叫 “Backend Developers”，它的 <strong>Slug</strong>（用于代码引用的名字）通常是 <code>backend-developers</code>。</li>
<li><strong>哪里看 Slug。</strong> 去 GitHub 组织页面 -> Teams -> 点进你的组 -> 浏览器的 URL最后一段就是。</li>
</ul>
</li>
</ol>
<h3 id="3-进阶玩法负载均衡-round-robin">3. 进阶玩法：负载均衡 (Round Robin)</h3>
<p>当你把 Reviewer 设置为 Team 后，默认情况下 GitHub 会<strong>通知团队里的每一个人</strong>。这可能会导致“旁观者效应”（大家都觉得别人会看，结果谁都没看）。</p>
<p>你可以开启**“自动分配 (Auto-assignment)”**，让算法帮你轮询分配。</p>
<p><strong>设置路径：</strong></p>
<ol>
<li>进入 Organization 页面 -> Teams。</li>
<li>点击对应的 Team (比如 <code>frontend-devs</code>)。</li>
<li>点击上方的 <strong>Settings</strong> -> 左侧 <strong>Code review assignment</strong>。</li>
<li>勾选 <strong>Enable auto-assignment</strong>。</li>
</ol>
<p><strong>这里有两个神级选项：</strong></p>
<ul>
<li><strong>Count existing requests</strong>：根据每个人手上积压的 PR 数量来分配，谁闲给谁。</li>
<li><strong>Routing algorithm</strong>：可以选择 <code>Round robin</code>（轮叫调度）或者 <code>Load balance</code>（负载均衡）。</li>
</ul>
<p><strong>设置后的效果：</strong> 你在 <code>CODEOWNERS</code> 里写了 <code>@MyCompany/frontend-devs</code>。 队员提 PR 时，系统会自动从前端组里<strong>挑出 1-2 个人</strong>（数量可配）填进 Reviewer 栏，而不是把全组人都骚扰一遍。</p>
<p><strong>建议：</strong> 先去确认一下你的仓库是不是在 Organization 下。如果是，直接建 Team 走起，这比指定单个人要灵活得多。</p>
<h3 id="主题-12-github可以改注册邮箱吗">主题 12. github可以改注册邮箱吗</h3>
<p><strong>GitHub 是支持修改注册邮箱（即主邮箱）的。</strong> 你完全不需要重新注册账号。</p>
<p>修改过程分为“添加新邮箱”和“设为主邮箱”两步。以下是详细操作指南：</p>
<h3 id="核心步骤">核心步骤</h3>
<ol>
<li><strong>进入设置页面</strong>：
<ul>
<li>点击 GitHub 页面右上角的头像，选择 <strong>Settings</strong>（设置）。</li>
</ul>
</li>
<li><strong>找到邮箱设置</strong>：
<ul>
<li>在左侧边栏的 “Access”（访问）区域下，点击 <strong>Emails</strong>。</li>
</ul>
</li>
<li><strong>添加新邮箱</strong>：
<ul>
<li>在 “Add email address” 输入框中填入你的新邮箱，点击 <strong>Add</strong> 按钮。</li>
<li>GitHub 会向该邮箱发送一封验证邮件，你需要登录邮箱点击链接进行验证。</li>
</ul>
</li>
<li><strong>设为主邮箱 (Primary)</strong>：
<ul>
<li>验证通过后，回到 Emails 设置页。</li>
<li>在 <strong>“Primary email address”</strong> 下拉菜单中，选择你刚才添加的新邮箱，然后点击 <strong>Save</strong>。</li>
<li>此时，你的登录账号、通知邮件都会变更为这个新邮箱。</li>
</ul>
</li>
<li><strong>删除旧邮箱</strong>：
<ul>
<li>如果你不再使用旧邮箱，可以在邮箱列表中找到旧邮箱，点击旁边的垃圾桶图标（Delete）将其移除。</li>
</ul>
</li>
</ol>
<h3 id="需要注意的两个区别">需要注意的两个区别</h3>
<p>在 GitHub 上，“邮箱”其实有两个不同的概念，建议你根据需求一起修改：</p>
<ul>
<li><strong>账号主邮箱 (Primary Email)</strong>：
<ul>
<li><strong>用途</strong>：用于登录 GitHub 网站、找回密码、接收系统通知（如 Issue、PR 提醒）。</li>
<li><strong>修改影响</strong>：修改后，你需要用新邮箱登录。</li>
</ul>
</li>
<li><strong>Commit 邮箱 (Commit Email)</strong>：
<ul>
<li><strong>用途</strong>：用于记录你的代码提交历史（即 git log 中显示的邮箱），这决定了 GitHub 上的“绿格子”（Contribution）是否能正确统计给你。</li>
<li><strong>修改方法</strong>：仅仅在网页上改了主邮箱是不够的，你还需要在本地电脑的终端里运行以下命令，更新 git 配置：</li>
</ul>
</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>        git config --global user.email "你的新邮箱@example.com"</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>*   _注意：这只影响未来的提交，以前的历史提交记录里依然会显示旧邮箱。_</span></span></code></pre>
<h3 id="特殊情况">特殊情况</h3>
<p>如果你使用的是公司分配的 <strong>Managed User</strong> 账号（通常在企业版中），你可能无法自行修改邮箱，需要联系公司的管理员在身份验证系统（IdP）中修改。</p>
<p>…<br>
<a href="https://www.youtube.com/watch?v=x5-QTo5EQ8c">GitHub 更改主邮箱教程</a><br>
… 这段视频演示了如何添加新邮箱、验证并将其设为主邮箱的完整流程，适合不想看文字步骤的用户。</p>
<h3 id="排查场景-5-把这一段写成不是我官僚主义的解释我会放在频道里">排查场景 5. 把这一段写成不是我官僚主义的解释，我会放在频道里</h3>
<ul>
<li>场景：把这一段写成不是我官僚主义的解释，我会放在频道里</li>
<li>处理要点：<br>
这篇文案的关键在于：<strong>把“我对你们的要求”转化为“我们对项目的追求”</strong>，同时通过<strong>自嘲</strong>（我也被拦截了）来拉近距离，最后用<strong>职业前景</strong>（大厂标准）来提供动力。</li>
</ul>
<p>这里有三个版本，你可以根据你们团队平时的沟通氛围来选：</p>
<h3 id="版本一硬核理性风适合理科男技术宅团队强调逻辑和效率">版本一：硬核理性风（适合理科男/技术宅团队，强调逻辑和效率）</h3>
<p><strong>核心逻辑</strong>：这不是官僚主义，这是为了防止我们以后花更多时间修烂摊子。</p>
<blockquote>
<p>** 关于最近引入 Commit 检查工具的说明**</p>
<p>兄弟们，最近加了 Husky 和 Commitlint 拦截，大家可能会觉得有点繁琐，甚至觉得这是在搞“官僚主义”。我想解释一下为什么要这么做：</p>
<p><strong>1. 拒绝“人肉运维”，拥抱“工程化”</strong> 真正的官僚主义是我天天跟在大家屁股后面念叨“注意格式”，还要填 Excel 表格记录改动，那样大家烦我也累。 我们现在的做法叫<strong>工程化 (Engineering)</strong>——把规范写死在代码里，由脚本充当“坏人”来拦截。<strong>对事不对人</strong>，全程不需要人工介入，这才是最节省大家时间的做法。</p>
<p><strong>2. 向业界一线标准看齐</strong> 我们用的这套规范（Angular/Conventional Commits），目前 Vue、React、NestJS 这些顶级开源项目都在用，Husky 每周下载量 1200w+。这真不是我无效尝试，而是把我们这个“草台班子”强行拉到<strong>大厂的及格线</strong>。</p>
<p><strong>3. 阵痛是难免的（我也被卡了）</strong> 实不相瞒，刚配好规则我自己提交的时候也被卡了好几次（因为没空行、没关联 Issue）。这种“不爽感”说明机制生效了。</p>
<p>大家忍过前几次的阵痛，形成肌肉记忆就好了。在这个项目里养成的规范习惯，以后不管是面试还是去大厂工作，绝对是加分项。我们一起克服一下，为了后面维护不炸锅，谢了。</p>
</blockquote>
<h3 id="版本二幽默自嘲风适合关系比较铁轻松的团队降低抵触感">版本二：幽默自嘲风（适合关系比较铁/轻松的团队，降低抵触感）</h3>
<p><strong>核心逻辑</strong>：我也很痛苦，但为了不加班修 Bug，我们得忍。</p>
<blockquote>
<p>** 【辟谣】我没有在搞官僚主义，我在搞基建。**</p>
<p>大家最近 push 代码可能发现会有红色的报错拦截，是不是觉得我变态了。 听我狡辩一下：</p>
<p><strong>以前的模式（官僚主义）</strong>： 我：兄弟你这 commit 没写清楚啊… 你：下次一定。 （最后 Bug 找不到了，大家一起通宵排查）</p>
<p><strong>现在的模式（自动化基建）</strong>： 脚本：格式不对。拒收。 你：靠…改一下。（成功提交） （以后找 Bug 一搜一个准，发版一键生成日志）</p>
<p><strong>为什么要这么搞。</strong> 我不想当保姆天天盯着大家改格式，所以请了个“冷面保安”（Husky）站在门口。这玩意儿确实铁面无私，<strong>我自己刚才都被拦回来三次</strong>，差点把键盘砸了。</p>
<p>但为了我们项目不变成屎山，也为了大家以后出去面试能说“我有丰富的大型项目工程化经验”，我们就拿这个练练手。这是目前 GitHub 上最主流的配置，早适应早受益，求轻喷。‍️</p>
</blockquote>
<h3 id="版本三短小精悍风如果队友不爱看长文发这个">版本三：短小精悍风（如果队友不爱看长文，发这个）</h3>
<blockquote>
<p>** 关于代码提交规范的几句心里话**</p>
<ol>
<li>
<p><strong>这不是形式主义</strong>：引入工具拦截是为了<strong>把“人的管理”变成“机器的代码”</strong>。靠自觉是靠不住的，靠脚本拦截才是最高效的。</p>
</li>
<li>
<p><strong>业界标准</strong>：我们用的这套是 Google/Facebook 都在用的标准。虽然现在麻烦点，但能帮大家养成大厂级别的开发习惯。</p>
</li>
<li>
<p><strong>共同进步</strong>：这套规则对我也生效，我也经常被拦截。我们一起适应一下，阵痛期过了就是爽文模式（找 Bug 飞快）。</p>
</li>
</ol>
<p>遇到报错看不懂的随时群里吼一声，我来解答。</p>
</blockquote>
<p><strong>建议</strong>： 发完这段话之后，如果你刚才修补那个 <code>.config</code> 文件的过程比较曲折，可以截个图发群里（比如那个 <code> body must have leading blank line</code> 的报错），配文说：“看，我也被制裁了，这玩意儿真严。” <strong>这招“苦肉计”百试百灵。</strong></p>
<h3 id="主题-13-再写一个通知如果没配置这个的尽快配置一下不然不能正确显示贡献">主题 13. 再写一个通知，如果没配置这个的，尽快配置一下，不然不能正确显示贡献</h3>
<p>这件事非常重要。这关乎到大家的**“绿格子”**（Contribution Graph）和代码归属权。如果不配置，GitHub 会把提交者显示成一个没有头像的“幽灵用户”，以后想证明“这代码是我写的”都很麻烦。</p>
<p>这里有两个版本的通知，你可以根据群里的氛围选一个：</p>
<h3 id="版本一利益相关风推荐直击痛点">版本一：利益相关风（推荐，直击痛点）</h3>
<p><strong>核心逻辑</strong>：强调“不配置 = 白干活”，大家为了自己的绿格子也会立马去改。</p>
<blockquote>
<p>** 【紧急检查】别让你的代码白写了。**</p>
<p>兄弟们，有个设置大家务必检查一下。</p>
<p>我发现最近有些 commit 提交上来，在 GitHub 上显示的是“灰色幽灵头像”，点不进个人主页。这意味着 <strong>GitHub 识别不到这是你提交的，你的 Contribution（绿格子）也不会被统计。</strong></p>
<p>以后面试或者做作品集，这都是你的工作证明。请大家花 10 秒钟校准一下本地配置：</p>
<p><strong>1. 检查当前邮箱：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git config user.email</span></span></code></pre>
<p><em>(看看出来的这个邮箱，是不是你在 GitHub <code>Settings -> Emails</code> 里验证过的那个)</em></p>
<p><strong>2. 如果不对，或者显示的是公司/学校乱七八糟的内网邮箱，请立刻执行：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git config --global user.email "你的GitHub注册邮箱@example.com"</span></span></code></pre>
<p>改完之后，你的代码才能真正“归你所有”。</p>
</blockquote>
<h3 id="版本二极简指令风适合直接甩在置顶群公告">版本二：极简指令风（适合直接甩在置顶群公告）</h3>
<blockquote>
<p><strong>️ Git 配置规范通知</strong></p>
<p>为了保证代码提交记录能正确关联到大家各自的 GitHub 账号，请所有人检查本地的 Git 邮箱配置。</p>
<p><strong>检查方式</strong>：终端输入 <code>git config user.email</code></p>
<p><strong>修正方式</strong>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># 请替换为你的 GitHub 主邮箱</span></span>
<span class="line"><span>git config --global user.email "your_email@example.com"</span></span></code></pre>
</blockquote>
<blockquote>
<h1 id="顺便检查一下用户名">顺便检查一下用户名</h1>
<p>git config —global user.name “你的GitHubID”</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span></span></span>
<span class="line"><span>**注意**：配置的邮箱必须是你 GitHub 账号里 Verified 过的邮箱，否则 GitHub 无法统计你的贡献值（Contribution Graph）。请尽快完成配置。</span></span></code></pre>
</blockquote>
<h3 id="给你的额外小贴士">给你的额外小贴士</h3>
<p>如果有队友问：“<strong>那我之前提交的那些怎么办。还能救吗。</strong>”</p>
<p>你可以回答：</p>
<blockquote>
<p>“之前的改起来很麻烦（要重写 Git 历史，会影响所有人），就算了。<strong>从这一刻开始</strong>，新的提交配置对就行，我们既往不咎，向前看。”</p>
</blockquote>
<h3 id="主题-14-给我设置一下infra团队的让infra管前端管前端doc由arc">主题 14. 给我设置一下，infra团队的让infra管，前端管前端。doc由arc…</h3>
<p>根据你提供的目录结构，我帮你把文件分门别类地对应到了三个团队（Infra、Frontend、Arch）。</p>
<p>你需要创建一个文件：<strong><code>.github/CODEOWNERS</code></strong>，并将以下内容复制进去。</p>
<p><em>(请注意：你需要把 <code>@Infra-Team</code> 等占位符替换为你 GitHub Organization 里真实的 Team 名称)</em></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># .github/CODEOWNERS</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 默认规则：如果没有匹配到特定规则，默认由你负责</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>* @LosFurina</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 1. Infra 团队 (运维/基建/配置)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 容器化与服务器配置</span></span>
<span class="line"><span>Dockerfile              @Infra-Team</span></span>
<span class="line"><span>nginx/                  @Infra-Team</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 工程化配置 (构建、测试、Lint、依赖)</span></span>
<span class="line"><span># 既然是做基建，这些配置文件变动应该经过 Infra 同意</span></span>
<span class="line"><span>vite.config.ts          @Infra-Team</span></span>
<span class="line"><span>vitest.config.ts        @Infra-Team</span></span>
<span class="line"><span>commitlint.config.js    @Infra-Team</span></span>
<span class="line"><span>tsconfig.json           @Infra-Team</span></span>
<span class="line"><span>package.json            @Infra-Team</span></span>
<span class="line"><span>package-lock.json       @Infra-Team</span></span>
<span class="line"><span></span></span>
<span class="line"><span># GitHub Actions (CI/CD 流程)</span></span>
<span class="line"><span>.github/                @Infra-Team</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 2. Frontend 团队 (业务代码)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 核心源码目录</span></span>
<span class="line"><span>src/                    @Frontend-Devs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 入口文件</span></span>
<span class="line"><span>index.html              @Frontend-Devs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 3. Arch 团队 (文档/架构设计)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 项目说明与文档</span></span>
<span class="line"><span>README.md               @Arch-Team</span></span>
<span class="line"><span>docs/                   @Arch-Team</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 元数据 (通常涉及项目定义，归架构管)</span></span>
<span class="line"><span>metadata.json           @Arch-Team</span></span></code></pre>
<h3 id="两个重要提示">两个重要提示</h3>
<ol>
<li><strong>路径匹配逻辑</strong>：
<ul>
<li>GitHub 的 <code>CODEOWNERS</code> 是<strong>从下往上</strong>匹配的（或者说是<strong>最具体匹配优先</strong>）。</li>
<li>这意味着如果有人改了 <code>src/</code> 下的文件，GitHub 会精准找到 <code>@Frontend-Devs</code>，而不会因为最上面的 <code>*</code> 而去骚扰 <code>@LosFurina</code>。</li>
<li>但是，如果有人同时改了 <code>src/App.tsx</code> (前端) 和 <code>Dockerfile</code> (运维)，那么<strong>两个团队</strong>都会被自动加为 Reviewer。</li>
</ul>
</li>
<li><strong>关于配置文件的归属</strong>：
<ul>
<li>我把 <code>package.json</code> 和 <code>vite.config.ts</code> 划给了 <strong>Infra</strong>。</li>
<li><strong>理由</strong>：通常前端开发不太需要改构建配置。如果前端随手改了依赖版本或者打包逻辑，很容易搞挂 CI/CD，所以让 Infra 团队把关是合理的。如果你觉得这样太严，可以把 <code>package.json</code> 划给 Frontend。</li>
</ul>
</li>
</ol>
<h3 id="主题-15-给我写一个message-commit">主题 15. 给我写一个message commit</h3>
<p>这是一个完美符合你刚才设置的 <code>commitlint</code> 规则（Type, Scope, Issue ID, Body 长度, 空行）的提交信息。</p>
<p>请注意：你需要把 <strong><code>#88</code></strong> 替换成你真实的 Issue ID（如果没有就随便编一个数字，比如 <code>#1</code>，否则你的 linter 可能会拦你）。</p>
<h3 id="方式一命令行一把梭最稳自动处理空行">方式一：命令行一把梭（最稳，自动处理空行）</h3>
<p>直接复制这段代码到终端执行（<strong>记得改 ID</strong>）：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git add .github/CODEOWNERS</span></span>
<span class="line"><span></span></span>
<span class="line"><span>git commit -m "chore(github): setup CODEOWNERS for team automation (#88)" \</span></span>
<span class="line"><span>-m "Add code ownership rules to automatically assign reviewers based on expertise:</span></span>
<span class="line"><span>- Infra Team: Dockerfile, nginx, CI/CD, and config files.</span></span>
<span class="line"><span>- Frontend Team: src directory and index.html.</span></span>
<span class="line"><span>- Arch Team: Documentation and metadata.</span></span>
<span class="line"><span>- Default fallback: @LosFurina." \</span></span>
<span class="line"><span>-m "Closes #88"</span></span></code></pre>
<h3 id="方式二如果你习惯用编辑器vs-code--vim">方式二：如果你习惯用编辑器（VS Code / Vim）</h3>
<p>运行 <code>git commit</code> 后，在编辑器里粘贴以下内容：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>chore(github): setup CODEOWNERS for team automation (#88)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Add code ownership rules to automatically assign reviewers based on expertise:</span></span>
<span class="line"><span>- Infra Team: Dockerfile, nginx, CI/CD, and config files.</span></span>
<span class="line"><span>- Frontend Team: src directory and index.html.</span></span>
<span class="line"><span>- Arch Team: Documentation and metadata.</span></span>
<span class="line"><span>- Default fallback: @LosFurina.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Closes #88</span></span></code></pre>
<h3 id="为什么这样写能过">为什么这样写能过。</h3>
<ol>
<li><strong>Header</strong>: <code>chore(github)</code> 是合法的 type 和 scope。</li>
<li><strong>Issue ID</strong>: Header 结尾带了 <code>(#88)</code>，满足 <code>header-match-issue-id</code> 规则。</li>
<li><strong>Body</strong>: 字数足够长，详细解释了每个 Team 负责什么，满足 <code>body-be-detailed</code>。</li>
<li><strong>Format</strong>: Header 和 Body 之间有空行（命令行模式下的第一个 <code>-m</code> 和第二个 <code>-m</code> 之间会自动加空行），满足 <code>body-leading-blank</code>。</li>
</ol>
<h3 id="主题-16-但是git-push能不能自动匹配当前分支名啊不然很麻烦">主题 16. 但是git push能不能自动匹配当前分支名啊，不然很麻烦</h3>
<p>太能了。这简直是每一个被 <code>fatal: The current branch has no upstream branch</code> 折磨过的程序员的救星。</p>
<p>你现在的痛点是：每次切个新分支 <code>git checkout -b feat/xxx</code>，第一次推的时候必须敲 <code>git push --set-upstream origin feat/xxx</code>，否则 Git 就不理你。</p>
<p>这里有一个**“一行代码解千愁”**的神器配置（Git 2.37+ 版本引入）：</p>
<h3 id="终极解决方案">终极解决方案</h3>
<p>在终端执行这行命令（建议全局配置）：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git config --global push.autoSetupRemote true</span></span></code></pre>
<h3 id="效果对比">效果对比</h3>
<p><strong>配置前（痛苦面具）：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>$ git checkout -b feat/new-login</span></span>
<span class="line"><span>$ git push</span></span>
<span class="line"><span>fatal: The current branch feat/new-login has no upstream branch.</span></span>
<span class="line"><span>To push the current branch and set the remote as upstream, use</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    git push --set-upstream origin feat/new-login</span></span></code></pre>
<p><strong>配置后（爽文模式）：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>$ git checkout -b feat/new-login</span></span>
<span class="line"><span>$ git push</span></span>
<span class="line"><span># Git 自动帮你搞定 upstream，直接推送到 origin/feat/new-login</span></span>
<span class="line"><span>Total 0 (delta 0), reused 0 (delta 0)</span></span>
<span class="line"><span>To github.com:user/repo.git</span></span>
<span class="line"><span> * [new branch]      feat/new-login -> feat/new-login</span></span>
<span class="line"><span>Branch 'feat/new-login' set up to track remote branch 'feat/new-login' from 'origin'.</span></span></code></pre>
<h3 id="备选方案如果你还在用老版本-git">备选方案（如果你还在用老版本 Git）</h3>
<p>如果你的 Git 版本低于 2.37，上面的命令可能没用。你可以用这个“经典款”配置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>git config --global push.default current</span></span></code></pre>
<ul>
<li><strong>作用</strong>：告诉 Git，如果我直接敲 <code>git push</code>，你就默认把当前本地分支推送到远程的<strong>同名分支</strong>上去。</li>
</ul>
<p><strong>建议</strong>： 既然你在搞工程化，<strong>直接把第一条命令（<code>push.autoSetupRemote</code>）丢到群里</strong>。这也是提升团队幸福感的小细节，没人喜欢每次都复制粘贴那行 <code>--set-upstream</code> 的废话。</p>
<h3 id="排查场景-6-select-all">排查场景 6. Select all</h3>
<ul>
<li>场景：Select all</li>
<li>处理要点：<br>
这里有两个原因导致报错。最主要的原因是<strong>语法格式不对</strong>，其次是<strong>权限配置</strong>问题。</li>
</ul>
<p><code>CODEOWNERS</code> 文件对团队（Team）的引用格式非常严格，<strong>必须加上组织名前缀</strong>。</p>
<h3 id="错误原因-1缺少组织名">错误原因 1：缺少组织名</h3>
<p>你不能直接写 <code>@Infra-Team</code>。GitHub 必须知道这个团队属于哪个组织。 你必须写成：<strong><code>@你的组织名/Infra-Team</code></strong>。</p>
<ul>
<li><strong>哪里找组织名。</strong> 看你浏览器地址栏：<code>github.com/组织名/仓库名</code>。那个“组织名”就是你要加的前缀。</li>
</ul>
<h3 id="错误原因-2权限不足-write-access">错误原因 2：权限不足 (Write Access)</h3>
<p>报错信息里明确写了：<code>make sure ... has write access to the repository</code>。 即便名字写对了，如果这个团队没有被添加到当前仓库，或者只有 “Read” 权限，GitHub 也会报错说找不到。</p>
<h3 id="️-修复步骤">️ 修复步骤</h3>
<h4 id="第一步赋予团队权限">第一步：赋予团队权限</h4>
<p>你必须显式地把这 3 个团队加入到这个仓库中。</p>
<ol>
<li>进入仓库的 <strong>Settings</strong>。</li>
<li>点击左侧的 <strong>Collaborators and teams</strong>。</li>
<li>点击绿色的 <strong>Add teams</strong> 按钮。</li>
<li>把 <code>Infra-Team</code>、<code>Frontend-Devs</code>、<code>Arch-Team</code> 都加进去。</li>
<li><strong>关键点</strong>：把它们的权限从 Read 改为 <strong>Write</strong> (或 Maintain/Admin)。
<ul>
<li><em>注意：CODEOWNERS 机制强制要求审核者必须有写权限。</em></li>
</ul>
</li>
</ol>
<h4 id="第二步修正-codeowners-文件">第二步：修正 CODEOWNERS 文件</h4>
<p>假设你的 GitHub 组织名是 <strong><code>RevieU-Org</code></strong>（请替换为你真实的组织名），你的文件内容必须改成这样：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># .github/CODEOWNERS</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 默认规则</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>* @LosFurina</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 1. Infra 团队 (必须加组织前缀!)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>Dockerfile              @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>nginx/                  @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>vite.config.ts          @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>vitest.config.ts        @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>commitlint.config.js    @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>tsconfig.json           @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>package.json            @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>package-lock.json       @RevieU-Org/Infra-Team</span></span>
<span class="line"><span>.github/                @RevieU-Org/Infra-Team</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 2. Frontend 团队</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>src/                    @RevieU-Org/Frontend-Devs</span></span>
<span class="line"><span>index.html              @RevieU-Org/Frontend-Devs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 3. Arch 团队</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>README.md               @RevieU-Org/Arch-Team</span></span>
<span class="line"><span>docs/                   @RevieU-Org/Arch-Team</span></span>
<span class="line"><span>metadata.json           @RevieU-Org/Arch-Team</span></span></code></pre>
<p><strong>现在立刻去做两件事：</strong></p>
<ol>
<li>去 Settings 里把这三个组加进来并给 <strong>Write</strong> 权限。</li>
<li>在文件里把 <code>@Infra-Team</code> 批量替换为 <code>@你的组织名/Infra-Team</code>。</li>
</ol>
<h3 id="排查场景-7-httpsgithubcomrevieu-corprevie">排查场景 7. <a href="https://github.com/RevieU-Corp/revie">https://github.com/RevieU-Corp/revie</a>…</h3>
<ul>
<li>场景：<a href="https://github.com/RevieU-Corp/revie">https://github.com/RevieU-Corp/revie</a>…</li>
<li>处理要点：<br>
收到。原来你的组织名是 <strong><code>RevieU-Corp</code></strong>。</li>
</ul>
<p>难怪刚才会报错，GitHub 找不到 <code>Infra-Team</code> 是因为没加这个前缀。</p>
<h3 id="最终修正版-codeowners">最终修正版 CODEOWNERS</h3>
<p>直接把下面这一整段复制进 <code>.github/CODEOWNERS</code> 文件里。我已经帮你把所有团队的前缀都修正为 <code>@RevieU-Corp/</code> 了。</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># .github/CODEOWNERS</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 默认规则：没人管的文件归你</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>* @LosFurina</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 1. Infra 团队 (负责基建、配置、CI)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>Dockerfile              @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>nginx/                  @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>vite.config.ts          @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>vitest.config.ts        @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>commitlint.config.js    @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>tsconfig.json           @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>package.json            @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>package-lock.json       @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span>.github/                @RevieU-Corp/Infra-Team</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 2. Frontend 团队 (负责业务源码)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>src/                    @RevieU-Corp/Frontend-Devs</span></span>
<span class="line"><span>index.html              @RevieU-Corp/Frontend-Devs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span># 3. Arch 团队 (负责文档、元数据)</span></span>
<span class="line"><span># --------------------------------------------------------</span></span>
<span class="line"><span>README.md               @RevieU-Corp/Arch-Team</span></span>
<span class="line"><span>docs/                   @RevieU-Corp/Arch-Team</span></span>
<span class="line"><span>metadata.json           @RevieU-Corp/Arch-Team</span></span></code></pre>
<h3 id="️-最后一步检查-必做">️ 最后一步检查 (必做。)</h3>
<p>代码改对了只是第一步，<strong>权限配置</strong>必须跟上，否则还是会报 <code>Unknown owner</code>。</p>
<p>请确保你已经完成了以下操作：</p>
<ol>
<li>打开仓库主页 <code>https://github.com/RevieU-Corp/revieu-web</code>。</li>
<li>点击 <strong>Settings</strong> -> <strong>Collaborators and teams</strong>。</li>
<li>确认列表里已经有 <code>Infra-Team</code>、<code>Frontend-Devs</code>、<code>Arch-Team</code> 这三个组。</li>
<li><strong>最关键的</strong>：看右边的权限（Role），必须是 <strong>Write</strong> 或者 <strong>Admin</strong>。（如果是 Read 是不生效的。）</li>
</ol>
<p>如果这两步都确认没问题，提交上去之后，GitHub 就会出现绿色的盾牌标志，代表 Code Owners 生效了。</p>
<h2 id="实施与验证清单">实施与验证清单</h2>
<ol>
<li>执行前先确认环境、版本和依赖与文中前置条件一致。</li>
<li>涉及系统级变更时，先备份关键配置或创建快照。</li>
<li>完成操作后按验证步骤确认结果，再执行清理或覆盖动作。</li>
</ol>  </div> <footer class="article-footer" data-astro-cid-bvzihdzo> <div class="share-section" data-astro-cid-bvzihdzo> <div class="share-buttons" data-astro-cid-zllr3mxm> <span class="share-label" data-astro-cid-zllr3mxm>Share:</span> <a href="https://twitter.com/intent/tweet?text=GitHub%20%E5%8D%8F%E4%BD%9C%E8%A7%84%E8%8C%83%E6%89%A7%E8%A1%8C%E6%8C%87%E5%8D%97&url=https%3A%2F%2Fblog.liweijun.com%2Fblog%2Fgit%2Fgithub-%25E5%258D%258F%25E4%25BD%259C%25E8%25A7%2584%25E8%258C%2583%25E6%2589%25A7%25E8%25A1%258C%25E6%258C%2587%25E5%258D%2597%2F" target="_blank" rel="noopener noreferrer" class="share-btn twitter" title="Share on X" data-astro-cid-zllr3mxm> <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18" data-astro-cid-zllr3mxm> <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" data-astro-cid-zllr3mxm></path> </svg> <span data-astro-cid-zllr3mxm>Post on X</span> </a> <button class="share-btn copy-link" id="copyLinkBtn" data-url="https://blog.liweijun.com/blog/git/github-%E5%8D%8F%E4%BD%9C%E8%A7%84%E8%8C%83%E6%89%A7%E8%A1%8C%E6%8C%87%E5%8D%97/" data-astro-cid-zllr3mxm> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18" data-astro-cid-zllr3mxm> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" data-astro-cid-zllr3mxm></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" data-astro-cid-zllr3mxm></path> </svg> <span class="copy-text" data-astro-cid-zllr3mxm>Copy Link</span> </button> </div>  <script type="module">const t=document.getElementById("copyLinkBtn"),e=t?.querySelector(".copy-text");t?.addEventListener("click",async()=>{const o=t.dataset.url||window.location.href;try{await navigator.clipboard.writeText(o),t.classList.add("copied"),e&&(e.textContent="Copied!"),setTimeout(()=>{t.classList.remove("copied"),e&&(e.textContent="Copy Link")},2e3)}catch(c){console.error("Failed to copy:",c)}});</script> </div> <section class="related-posts" data-astro-cid-dpgbfi7r><h3 class="related-title" data-astro-cid-dpgbfi7r><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="20" height="20" data-astro-cid-dpgbfi7r><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" data-astro-cid-dpgbfi7r></path></svg>
Related Posts
</h3><div class="related-grid" data-astro-cid-dpgbfi7r><a href="/blog/git/git-workflow-meeting/" class="related-card" data-astro-cid-dpgbfi7r><h4 class="related-card-title" data-astro-cid-dpgbfi7r>Git Merge Workflow Best Practices and RevieU Meeting</h4><p class="related-card-desc" data-astro-cid-dpgbfi7r>A practical workflow for safer merges with review gates instead of pushing directly to main.</p></a><a href="/blog/git/git-merge-vs-rebase-核心区别/" class="related-card" data-astro-cid-dpgbfi7r><h4 class="related-card-title" data-astro-cid-dpgbfi7r>Git Merge vs. Rebase: 核心区别</h4><p class="related-card-desc" data-astro-cid-dpgbfi7r>操作： Git 会创建一个新的节点（Merge Commit），这个节点有两个父节点（分别来自 和 ）。</p></a><a href="/blog/git/git-worktree-隔离工作空间详解/" class="related-card" data-astro-cid-dpgbfi7r><h4 class="related-card-title" data-astro-cid-dpgbfi7r>Git Worktree：隔离工作空间详解</h4><p class="related-card-desc" data-astro-cid-dpgbfi7r>未提交的修改 （无需 stash 即可切换）。</p></a></div></section> <section class="comments-section" id="comments" data-astro-cid-jvxsf75u> <h3 class="comments-title" data-astro-cid-jvxsf75u> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="22" height="22" data-astro-cid-jvxsf75u> <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" data-astro-cid-jvxsf75u></path> </svg>
Comments
</h3> <div class="giscus-wrapper" data-astro-cid-jvxsf75u> <script src="https://giscus.app/client.js" data-repo="LosFurina/LosFurina.github.io" data-repo-id="R_kgDOQ_gmWQ" data-category="General" data-category-id="DIC_kwDOQ_gmWc4C2A9-" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script> </div> </section>  <script type="module">function s(){const e=document.documentElement.getAttribute("data-theme"),t=document.querySelector("iframe.giscus-frame");if(t){const i=e==="dark"?"dark":"light";t.contentWindow?.postMessage({giscus:{setConfig:{theme:i}}},"https://giscus.app")}}const n=new MutationObserver(e=>{e.forEach(t=>{t.attributeName==="data-theme"&&s()})});n.observe(document.documentElement,{attributes:!0});window.addEventListener("message",e=>{e.origin==="https://giscus.app"&&s()});</script> </footer> </article> </main> <aside class="right-sidebar" data-astro-cid-bvzihdzo> <!-- Future content --> </aside> </div> <footer data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <p class="copyright" data-astro-cid-sz7xmlte>
&copy; 2026 Wayne Li. All rights reserved.
</p> <div class="social-links" data-astro-cid-sz7xmlte> <a href="https://github.com/LosFurina" target="_blank" rel="noopener" title="GitHub" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path> </svg> </a> <a href="https://x.com/MicroNahida" target="_blank" rel="noopener" title="X (Twitter)" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>X (Twitter)</span> <svg viewBox="0 0 24 24" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" data-astro-cid-sz7xmlte></path> </svg> </a> <a href="mailto:me@liweijun.com" title="Email" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Email</span> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-astro-cid-sz7xmlte></path> <polyline points="22,6 12,13 2,6" data-astro-cid-sz7xmlte></polyline> </svg> </a> <a href="/rss.xml" title="RSS Feed" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>RSS Feed</span> <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z" data-astro-cid-sz7xmlte></path> </svg> </a> </div> <p class="footer-note" data-astro-cid-sz7xmlte>
Built with <a href="https://astro.build" target="_blank" rel="noopener" data-astro-cid-sz7xmlte>Astro</a> </p> </div> </footer>  </body></html>