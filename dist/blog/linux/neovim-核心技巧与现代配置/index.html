<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" href="/favicon.ico"><!-- Theme Initialization Script --><script>
	const theme = (() => {
		if (
			typeof localStorage !== "undefined" &&
			localStorage.getItem("theme")
		) {
			return localStorage.getItem("theme");
		}
		if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
			return "dark";
		}
		return "light";
	})();

	if (theme === "dark") {
		document.documentElement.setAttribute("data-theme", "dark");
		document.documentElement.classList.add("dark");
	} else {
		document.documentElement.setAttribute("data-theme", "light");
		document.documentElement.classList.remove("dark");
	}

	window.localStorage.setItem("theme", theme);
</script><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Wayne" href="https://blog.liweijun.com/rss.xml"><meta name="generator" content="Astro v5.17.1"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://blog.liweijun.com/blog/linux/neovim-%E6%A0%B8%E5%BF%83%E6%8A%80%E5%B7%A7%E4%B8%8E%E7%8E%B0%E4%BB%A3%E9%85%8D%E7%BD%AE/"><!-- Primary Meta Tags --><title>Neovim 核心技巧与现代配置</title><meta name="title" content="Neovim 核心技巧与现代配置"><meta name="description" content="Insert Mode (插入模式): 用于输入文字。按 (insert) 在光标前输入， (append) 在光标后输入， (open)..."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://blog.liweijun.com/blog/linux/neovim-%E6%A0%B8%E5%BF%83%E6%8A%80%E5%B7%A7%E4%B8%8E%E7%8E%B0%E4%BB%A3%E9%85%8D%E7%BD%AE/"><meta property="og:title" content="Neovim 核心技巧与现代配置"><meta property="og:description" content="Insert Mode (插入模式): 用于输入文字。按 (insert) 在光标前输入， (append) 在光标后输入， (open)..."><meta property="og:image" content="https://blog.liweijun.com/_astro/blog-placeholder-1.Bx0Zcyzv.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog.liweijun.com/blog/linux/neovim-%E6%A0%B8%E5%BF%83%E6%8A%80%E5%B7%A7%E4%B8%8E%E7%8E%B0%E4%BB%A3%E9%85%8D%E7%BD%AE/"><meta property="twitter:title" content="Neovim 核心技巧与现代配置"><meta property="twitter:description" content="Insert Mode (插入模式): 用于输入文字。按 (insert) 在光标前输入， (append) 在光标后输入， (open)..."><meta property="twitter:image" content="https://blog.liweijun.com/_astro/blog-placeholder-1.Bx0Zcyzv.jpg"><!-- Structured Data --><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"Wayne","description":"DevOps and infrastructure engineering notes, projects, and practical automation experiments by Wayne Li.","url":"https://blog.liweijun.com/","inLanguage":"en"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Wayne Li","url":"https://blog.liweijun.com/","email":"mailto:me@liweijun.com","sameAs":["https://github.com/LosFurina","https://x.com/MicroNahida"],"jobTitle":"DevOps / Infrastructure Engineer"}</script><link rel="stylesheet" href="/_astro/index.DCFK0IPC.css">
<link rel="stylesheet" href="/_astro/about.DVvCJqHw.css">
<style>a[data-astro-cid-eimmu3lg]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .75rem;text-decoration:none;font-size:.9rem;font-weight:500;color:var(--header-text, rgb(var(--gray-dark)));border-radius:999px;transition:color .2s ease,background .2s ease;position:relative}a[data-astro-cid-eimmu3lg]:hover{background:var(--header-hover, rgba(179, 106, 74, .08));color:var(--header-text-strong, rgb(var(--gray-dark)))}a[data-astro-cid-eimmu3lg]:focus-visible{outline:2px solid var(--header-accent, #b36a4a);outline-offset:2px}a[data-astro-cid-eimmu3lg].active{color:var(--header-accent, #b36a4a)}a[data-astro-cid-eimmu3lg].active:after{content:"";position:absolute;left:50%;bottom:4px;width:4px;height:4px;margin-left:-2px;border-radius:999px;background:var(--header-accent, #b36a4a)}.nav-icon[data-astro-cid-eimmu3lg]{display:inline-flex;width:16px;height:16px}.nav-icon[data-astro-cid-eimmu3lg] svg{width:16px;height:16px;fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}@media(max-width:720px){a[data-astro-cid-eimmu3lg]{width:100%;justify-content:flex-start;padding:.6rem .9rem}}
</style></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <div class="nav-left" data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Wayne</a></h2> </div> <div class="internal-links" id="mobileMenu" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <path d="M3 11.5L12 4l9 7.5" data-astro-cid-3ef6ksr2></path> <path d="M6.5 10.5V20h11V10.5" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Home
</span> </a>  <a href="/blog" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <rect x="6" y="4.5" width="12" height="15" rx="2" data-astro-cid-3ef6ksr2></rect> <path d="M9 9h6" data-astro-cid-3ef6ksr2></path> <path d="M9 13h6" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Blog
</span> </a>  <a href="/projects" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <rect x="4" y="4" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> <rect x="13" y="4" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> <rect x="4" y="13" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> <rect x="13" y="13" width="7" height="7" rx="1.5" data-astro-cid-3ef6ksr2></rect> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Projects
</span> </a>  <a href="/resume" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <path d="M7 3.5h7l4 4v13a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5.5a2 2 0 0 1 2-2z" data-astro-cid-3ef6ksr2></path> <path d="M14 3.5V8h4" data-astro-cid-3ef6ksr2></path> <path d="M9 12h6" data-astro-cid-3ef6ksr2></path> <path d="M9 16h6" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Resume
</span> </a>  <a href="/contact" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> <span class="nav-icon" aria-hidden="true" data-astro-cid-eimmu3lg> <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" data-astro-cid-3ef6ksr2> <path d="M4 6.5h16a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2z" data-astro-cid-3ef6ksr2></path> <path d="M4 8l8 6 8-6" data-astro-cid-3ef6ksr2></path> </svg> </span> <span class="nav-text" data-astro-cid-eimmu3lg> 
Contact
</span> </a>  <!-- Tools Dropdown --> <div class="dropdown" id="toolsDropdown" data-astro-cid-3ef6ksr2> <button class="dropdown-trigger" id="toolsBtn" data-astro-cid-3ef6ksr2>
More
<svg class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="12" height="12" data-astro-cid-3ef6ksr2> <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" data-astro-cid-3ef6ksr2></path> </svg> </button> <div class="dropdown-menu" id="toolsMenu" data-astro-cid-3ef6ksr2> <!-- 本站页面 --> <a href="/about" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>👤</span>
About
</a> <a href="/uses" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>🛠️</span>
Uses
</a> <a href="/now" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>⏰</span>
Now
</a> <a href="/bookmarks" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>🔖</span>
Bookmarks
</a> <a href="/guestbook" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>📝</span>
Guestbook
</a> <div class="dropdown-divider" data-astro-cid-3ef6ksr2></div> <a href="/keys" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>🔐</span>
GPG Keys
</a> <div class="dropdown-divider" data-astro-cid-3ef6ksr2></div> <!-- 外部链接 --> <a href="https://github.com/LosFurina" target="_blank" rel="noopener" class="dropdown-item" data-astro-cid-3ef6ksr2> <span class="item-icon" data-astro-cid-3ef6ksr2>📦</span>
GitHub
<span class="external-icon" data-astro-cid-3ef6ksr2>↗</span> </a> </div> </div> </div> <div class="nav-right" data-astro-cid-3ef6ksr2> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://github.com/LosFurina" target="_blank" title="GitHub" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path> </svg> </a> <a href="https://x.com/MicroNahida" target="_blank" rel="noopener" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>X (Twitter)</span> <svg viewBox="0 0 24 24" aria-hidden="true" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" data-astro-cid-3ef6ksr2></path> </svg> </a> </div> <button id="theme-toggle" aria-label="Toggle theme" data-astro-cid-x3pjskd3> <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-x3pjskd3> <circle cx="12" cy="12" r="5" data-astro-cid-x3pjskd3></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-x3pjskd3></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-x3pjskd3></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-x3pjskd3></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-x3pjskd3></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-x3pjskd3></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-x3pjskd3></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-x3pjskd3></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-x3pjskd3></line> </svg> <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-x3pjskd3> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-x3pjskd3></path> </svg> </button>  <script type="module">const t=()=>{const e=document.documentElement;e.getAttribute("data-theme")==="dark"?(e.setAttribute("data-theme","light"),e.classList.remove("dark"),localStorage.setItem("theme","light")):(e.setAttribute("data-theme","dark"),e.classList.add("dark"),localStorage.setItem("theme","dark"))};document.getElementById("theme-toggle")?.addEventListener("click",t);</script> <!-- Hamburger Menu Button (Mobile Only) --> <button class="hamburger" id="hamburgerBtn" aria-label="Toggle menu" data-astro-cid-3ef6ksr2> <span class="hamburger-line" data-astro-cid-3ef6ksr2></span> <span class="hamburger-line" data-astro-cid-3ef6ksr2></span> <span class="hamburger-line" data-astro-cid-3ef6ksr2></span> </button> </div> </nav> </header>  <script type="module">const n=document.querySelector("header");function c(){window.scrollY>10?n?.classList.add("scrolled"):n?.classList.remove("scrolled")}window.addEventListener("scroll",c,{passive:!0});c();const t=document.getElementById("hamburgerBtn"),o=document.getElementById("mobileMenu");t?.addEventListener("click",e=>{e.stopPropagation(),t.classList.toggle("open"),o?.classList.toggle("open")});o?.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{t?.classList.remove("open"),o?.classList.remove("open")})});const s=document.getElementById("toolsDropdown"),l=document.getElementById("toolsBtn");l?.addEventListener("click",e=>{e.stopPropagation(),s?.classList.toggle("open")});document.addEventListener("click",e=>{s?.contains(e.target)||s?.classList.remove("open"),!o?.contains(e.target)&&!t?.contains(e.target)&&(t?.classList.remove("open"),o?.classList.remove("open"))});document.addEventListener("keydown",e=>{e.key==="Escape"&&(s?.classList.remove("open"),t?.classList.remove("open"),o?.classList.remove("open"))});</script> <div class="blog-container" data-astro-cid-bvzihdzo> <aside class="toc-sidebar" data-astro-cid-bvzihdzo> <div class="toc-wrapper" data-astro-cid-bvzihdzo> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn><h4 class="toc-title" data-astro-cid-xvrfupwn><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="16" height="16" data-astro-cid-xvrfupwn><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" data-astro-cid-xvrfupwn></path></svg>
On this page
</h4><ul class="toc-list" data-astro-cid-xvrfupwn><li class="toc-item depth-2" data-astro-cid-xvrfupwn><a href="#背景与目标" class="toc-link" data-astro-cid-xvrfupwn>背景与目标</a></li><li class="toc-item depth-2" data-astro-cid-xvrfupwn><a href="#核心内容" class="toc-link" data-astro-cid-xvrfupwn>核心内容</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-1-叫我nvim的主要使用技巧" class="toc-link" data-astro-cid-xvrfupwn>主题 1. 叫我nvim的主要使用技巧</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-核心生存法则理解模式-modes" class="toc-link" data-astro-cid-xvrfupwn>1. 核心生存法则：理解模式 (Modes)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-肌肉记忆高效移动-motions" class="toc-link" data-astro-cid-xvrfupwn>2. 肌肉记忆：高效移动 (Motions)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-编辑语言动词--名词-operators--objects" class="toc-link" data-astro-cid-xvrfupwn>3. 编辑语言：动词 + 名词 (Operators + Objects)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-现代-neovim-必备特性" class="toc-link" data-astro-cid-xvrfupwn>4. 现代 Neovim 必备特性</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#5-窗口管理-splits" class="toc-link" data-astro-cid-xvrfupwn>5. 窗口管理 (Splits)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#极速上手建议" class="toc-link" data-astro-cid-xvrfupwn>极速上手建议</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-2-nvim的各种快捷操作打开文件夹打开终端之类的我会用vim" class="toc-link" data-astro-cid-xvrfupwn>主题 2. nvim的各种快捷操作，打开文件夹，打开终端之类的，我会用vim</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-文件与文件夹管理-file-explorer" class="toc-link" data-astro-cid-xvrfupwn>1. 文件与文件夹管理 (File Explorer)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-终端管理-terminal" class="toc-link" data-astro-cid-xvrfupwn>2. 终端管理 (Terminal)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-多文件多窗口切换-buffer--split" class="toc-link" data-astro-cid-xvrfupwn>3. 多文件/多窗口切换 (Buffer &amp; Split)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-你的-initlua-关键映射建议" class="toc-link" data-astro-cid-xvrfupwn>4. 你的 init.lua 关键映射建议</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结下一步" class="toc-link" data-astro-cid-xvrfupwn>总结下一步</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-3-我已经安装lazy-nvim了但是怎么管理插件" class="toc-link" data-astro-cid-xvrfupwn>主题 3. 我已经安装lazy nvim了，但是怎么管理插件</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-核心面板操作-the-dashboard" class="toc-link" data-astro-cid-xvrfupwn>1. 核心面板操作 (The Dashboard)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-如何新增配置插件-代码层面" class="toc-link" data-astro-cid-xvrfupwn>2. 如何新增/配置插件 (代码层面)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-lazynvim-的核心配置语法" class="toc-link" data-astro-cid-xvrfupwn>3. lazy.nvim 的核心配置语法</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-实战练习安装文件搜索插件-telescope" class="toc-link" data-astro-cid-xvrfupwn>4. 实战练习：安装文件搜索插件 Telescope</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结" class="toc-link" data-astro-cid-xvrfupwn>总结</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-1-为什么我cd用tab补全一直有一个声音然后也不补全" class="toc-link" data-astro-cid-xvrfupwn>排查场景 1. 为什么我cd用tab补全一直有一个声音，然后也不补全</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#情况-a你刚装了-zsh-但没配置-最可能" class="toc-link" data-astro-cid-xvrfupwn>情况 A：你刚装了 Zsh 但没配置 (最可能)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#情况-b你还在用默认的-bash但大小写没匹配" class="toc-link" data-astro-cid-xvrfupwn>情况 B：你还在用默认的 Bash，但大小写没匹配</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#进阶如何彻底关掉那个烦人的声音" class="toc-link" data-astro-cid-xvrfupwn>进阶：如何彻底关掉那个烦人的声音。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#给-cs-研究生的建议-devops-方向" class="toc-link" data-astro-cid-xvrfupwn>给 CS 研究生的建议 (DevOps 方向)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-2-继续教我nvim吧" class="toc-link" data-astro-cid-xvrfupwn>排查场景 2. 继续教我nvim吧</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第一步开启上帝视角的语法高亮-treesitter" class="toc-link" data-astro-cid-xvrfupwn>第一步：开启“上帝视角”的语法高亮 (Treesitter)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第二步核心大脑-lsp-自动补全与诊断" class="toc-link" data-astro-cid-xvrfupwn>第二步：核心大脑 LSP (自动补全与诊断)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第三步验证与使用" class="toc-link" data-astro-cid-xvrfupwn>第三步：验证与使用</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#作业" class="toc-link" data-astro-cid-xvrfupwn>作业</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-4-这个是lazy默认已经有的插件了吗" class="toc-link" data-astro-cid-xvrfupwn>主题 4. 这个是lazy默认已经有的插件了吗</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#为什么说它不生效" class="toc-link" data-astro-cid-xvrfupwn>为什么说它不生效。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#这个文件的作用是什么" class="toc-link" data-astro-cid-xvrfupwn>这个文件的作用是什么。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#你该怎么做" class="toc-link" data-astro-cid-xvrfupwn>你该怎么做。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#总结-1" class="toc-link" data-astro-cid-xvrfupwn>总结</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-3-failed-to-run--config-for-nvim-tre" class="toc-link" data-astro-cid-xvrfupwn>排查场景 3. Failed to run \ config\ for nvim-tre…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#解决方案" class="toc-link" data-astro-cid-xvrfupwn>解决方案</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#为什么会这样原理讲解" class="toc-link" data-astro-cid-xvrfupwn>为什么会这样。（原理讲解）</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-4-这些时默认安装的吧" class="toc-link" data-astro-cid-xvrfupwn>排查场景 4. 这些时默认安装的吧</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#帮你认一下你的武器库-lazyvim-默认自带的神器" class="toc-link" data-astro-cid-xvrfupwn>帮你认一下你的“武器库” (LazyVim 默认自带的神器)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️-关键警告-请务必阅读" class="toc-link" data-astro-cid-xvrfupwn>️ 关键警告 (请务必阅读)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#你现在的正确姿势" class="toc-link" data-astro-cid-xvrfupwn>你现在的正确姿势</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-5-errlines有没有" class="toc-link" data-astro-cid-xvrfupwn>排查场景 5. errlines有没有</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-想要报错信息换行显示-lsp_lines" class="toc-link" data-astro-cid-xvrfupwn>1. 想要报错信息“换行显示” (lsp_lines)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-想要报错列表-trouble" class="toc-link" data-astro-cid-xvrfupwn>2. 想要“报错列表” (Trouble)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3-还有一个很帅的选择tiny-inline-diagnostic" class="toc-link" data-astro-cid-xvrfupwn>3. 还有一个很帅的选择：Tiny Inline Diagnostic</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-5-md预览怎么用" class="toc-link" data-astro-cid-xvrfupwn>主题 5. md预览怎么用</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#1-基础用法-命令行" class="toc-link" data-astro-cid-xvrfupwn>1. 基础用法 (命令行)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#2-快捷键用法-推荐" class="toc-link" data-astro-cid-xvrfupwn>2. 快捷键用法 (推荐)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#3--救命报错了怎么办-常见坑" class="toc-link" data-astro-cid-xvrfupwn>3.  救命，报错了怎么办。 (常见坑)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#4-另一种选择直接在-neovim-里渲染-更帅" class="toc-link" data-astro-cid-xvrfupwn>4. 另一种选择：直接在 Neovim 里渲染 (更帅)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#排查场景-6-error-running-markdownlint-cli2-eno" class="toc-link" data-astro-cid-xvrfupwn>排查场景 6. Error running markdownlint-cli2: ENO…</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第一步检查-nodejs-最常见原因" class="toc-link" data-astro-cid-xvrfupwn>第一步：检查 Node.js (最常见原因)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第二步使用-mason-手动安装-最快修复" class="toc-link" data-astro-cid-xvrfupwn>第二步：使用 Mason 手动安装 (最快修复)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#第三步验证" class="toc-link" data-astro-cid-xvrfupwn>第三步：验证</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#进阶一劳永逸的配置" class="toc-link" data-astro-cid-xvrfupwn>进阶：一劳永逸的配置</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-6-这是什么路径" class="toc-link" data-astro-cid-xvrfupwn>主题 6. 这是什么路径</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#为什么会这样" class="toc-link" data-astro-cid-xvrfupwn>为什么会这样。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#这对-neovim-有什么影响" class="toc-link" data-astro-cid-xvrfupwn>这对 Neovim 有什么影响。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#你现在需要做这-2-步检查" class="toc-link" data-astro-cid-xvrfupwn>你现在需要做这 2 步检查</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-7-能展示数学公式吗" class="toc-link" data-astro-cid-xvrfupwn>主题 7. 能展示数学公式吗</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#动手测试" class="toc-link" data-astro-cid-xvrfupwn>动手测试</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方案一在编辑器里直接看-render-markdown" class="toc-link" data-astro-cid-xvrfupwn>方案一：在编辑器里直接看 (Render Markdown)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方案二在浏览器里完美渲染-markdown-preview" class="toc-link" data-astro-cid-xvrfupwn>方案二：在浏览器里完美渲染 (Markdown Preview)</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#如果浏览器里公式没显示" class="toc-link" data-astro-cid-xvrfupwn>如果浏览器里公式没显示。</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#主题-8-没有实时渲染但是浏览器可以看" class="toc-link" data-astro-cid-xvrfupwn>主题 8. 没有实时渲染，但是浏览器可以看</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#方案让-neovim-里的公式变身" class="toc-link" data-astro-cid-xvrfupwn>方案：让 Neovim 里的公式“变身”</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#生效后的效果" class="toc-link" data-astro-cid-xvrfupwn>生效后的效果</a></li><li class="toc-item depth-3" data-astro-cid-xvrfupwn><a href="#️-重要限制心里预期管理" class="toc-link" data-astro-cid-xvrfupwn>️ 重要限制（心里预期管理）</a></li><li class="toc-item depth-2" data-astro-cid-xvrfupwn><a href="#实施与验证清单" class="toc-link" data-astro-cid-xvrfupwn>实施与验证清单</a></li></ul></nav><script type="module">const i=new IntersectionObserver(e=>{e.forEach(t=>{const c=t.target.getAttribute("id"),r=document.querySelector(`.toc-link[href="#${c}"]`);t.isIntersecting&&(document.querySelectorAll(".toc-link.active").forEach(o=>{o.classList.remove("active")}),r?.classList.add("active"))})},{rootMargin:"-80px 0px -80% 0px",threshold:0});document.querySelectorAll("article h2[id], article h3[id]").forEach(e=>{i.observe(e)});</script> </div> </aside> <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo>  <header class="article-header" data-astro-cid-bvzihdzo> <h1 class="article-title" data-astro-cid-bvzihdzo>Neovim 核心技巧与现代配置</h1> <div class="article-meta" data-astro-cid-bvzihdzo>  <time datetime="2026-02-12T00:00:00.000Z"> Feb 11, 2026 </time> <span class="meta-divider" data-astro-cid-bvzihdzo></span> <span class="reading-time" data-astro-cid-rafwukvt> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="16" height="16" data-astro-cid-rafwukvt> <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" data-astro-cid-rafwukvt></path> </svg> 41 min read
</span>   <span class="meta-divider" data-astro-cid-bvzihdzo></span> <span class="last-updated" data-astro-cid-bvzihdzo>
Updated  <time datetime="2026-02-13T00:00:00.000Z"> Feb 12, 2026 </time> </span>  </div> </header> <div class="article-content" data-astro-cid-bvzihdzo>  <h2 id="背景与目标">背景与目标</h2>
<p>本文围绕“叫我nvim的主要使用技巧”展开，整理可直接复用的步骤、原理说明与排查经验。</p>
<h2 id="核心内容">核心内容</h2>
<h3 id="主题-1-叫我nvim的主要使用技巧">主题 1. 叫我nvim的主要使用技巧</h3>
<p>Neovim (nvim) 的学习曲线虽然陡峭，但一旦掌握，它的效率是无与伦比的。除了继承 Vim 的核心操作外，Neovim 最大的优势在于<strong>Lua 配置</strong>、<strong>内置 LSP</strong> 和<strong>现代化的插件生态</strong>。</p>
<p>以下是 Neovim 的核心使用技巧，分为从“生存”到“进阶”的几个阶段：</p>
<h3 id="1-核心生存法则理解模式-modes">1. 核心生存法则：理解模式 (Modes)</h3>
<p>Neovim 的灵魂在于模式切换。不要一直停留在插入模式。</p>
<ul>
<li><strong>Normal Mode (普通模式):</strong> 默认模式，用于移动和操作文本。按 <code>Esc</code> 回到这里。</li>
<li><strong>Insert Mode (插入模式):</strong> 用于输入文字。按 <code>i</code> (insert) 在光标前输入，<code>a</code> (append) 在光标后输入，<code>o</code> (open) 在下方新开一行。</li>
<li><strong>Visual Mode (可视模式):</strong> 用于选择文本。按 <code>v</code> 字符选择，<code>V</code> 行选择，<code>Ctrl+v</code> 块选择。</li>
<li><strong>Command Mode (命令模式):</strong> 用于保存退出等。按 <code>:</code> 进入。例如 <code>:w</code> (保存), <code>:q</code> (退出)。</li>
</ul>
<h3 id="2-肌肉记忆高效移动-motions">2. 肌肉记忆：高效移动 (Motions)</h3>
<p>忘掉方向键，手指尽量留在主键盘区。</p>
<ul>
<li><strong>基础移动:</strong> <code>h</code> (左), <code>j</code> (下), <code>k</code> (上), <code>l</code> (右)。</li>
<li><strong>单词跳转:</strong>
<ul>
<li><code>w</code>: 跳到下个单词开头 (word)。</li>
<li><code>b</code>: 跳到上个单词开头 (back)。</li>
<li><code>e</code>: 跳到本单词结尾 (end)。</li>
</ul>
</li>
<li><strong>行内查找:</strong>
<ul>
<li><code>f</code> + 字符: 跳到当前行的下一个该字符 (find)。例如 <code>f;</code> 跳到分号处。</li>
<li><code>t</code> + 字符: 跳到该字符的前一个位置 (to)。</li>
<li><code>;</code>: 重复上一次查找。</li>
</ul>
</li>
<li><strong>页面滚动:</strong> <code>Ctrl+u</code> (上翻半页), <code>Ctrl+d</code> (下翻半页)。</li>
<li><strong>快速定位:</strong>
<ul>
<li><code>gg</code>: 文件开头。</li>
<li><code>G</code>: 文件结尾。</li>
<li><code>:</code> + 行号: 跳转到指定行。</li>
</ul>
</li>
</ul>
<h3 id="3-编辑语言动词--名词-operators--objects">3. 编辑语言：动词 + 名词 (Operators + Objects)</h3>
<p>这是 Neovim 最强大的逻辑：<strong>操作符 (Operator) + 动作/范围 (Motion/Text Object)</strong>。</p>
<ul>
<li><strong>常用操作符:</strong>
<ul>
<li><code>d</code>: 删除 (Delete / Cut)</li>
<li><code>c</code>: 修改 (Change, 删除并进入插入模式)</li>
<li><code>y</code>: 复制 (Yank)</li>
<li><code>p</code>: 粘贴 (Paste)</li>
</ul>
</li>
<li><strong>常用范围 (Text Objects):</strong>
<ul>
<li><code>iw</code>: 单词内部 (inner word)</li>
<li><code>aw</code>: 整个单词包括空格 (around word)</li>
<li><code>i"</code>: 双引号内部</li>
<li><code>it</code>: XML/HTML 标签内部</li>
</ul>
</li>
</ul>
<p><strong>组合技示例 (Power Moves):</strong></p>
<ul>
<li><code>ciw</code>: 修改当前单词 (Change Inner Word) —— <strong>最常用指令之一</strong>。</li>
<li><code>daw</code>: 删除当前单词。</li>
<li><code>ci"</code>: 修改引号内的内容。</li>
<li><code>dt)</code>: 删除直到右括号的内容。</li>
<li><code>yy</code>: 复制当前行。</li>
<li><code>dd</code>: 删除当前行。</li>
</ul>
<h3 id="4-现代-neovim-必备特性">4. 现代 Neovim 必备特性</h3>
<p>现在的 Neovim 不仅仅是 Vim 的翻版，以下是让它现代化的关键：</p>
<h4 id="a-配置-initlua">A. 配置 (init.lua)</h4>
<p>现代 Neovim 推荐使用 Lua 语言配置，而非旧的 Vimscript。</p>
<ul>
<li>配置文件位置: <code>~/.config/nvim/init.lua</code></li>
<li>设置行号示例: <code>vim.opt.number = true</code></li>
</ul>
<h4 id="b-插件管理器-plugin-manager">B. 插件管理器 (Plugin Manager)</h4>
<p>推荐使用 <strong>lazy.nvim</strong>。它是目前最流行、速度最快的插件管理器。</p>
<h4 id="c-模糊查找-fuzzy-finder">C. 模糊查找 (Fuzzy Finder)</h4>
<p>不要用文件树找文件，用搜索。</p>
<ul>
<li><strong>推荐插件:</strong> <code>nvim-telescope/telescope.nvim</code></li>
<li><strong>核心功能:</strong> 它可以让你按文件名、文件内容、甚至 Git 变动来秒搜文件。通常绑定快捷键为 <code>&#x3C;leader>ff</code> (find files) 或 <code>&#x3C;leader>fg</code> (live grep)。</li>
</ul>
<h4 id="d-智能感知-lsp--treesitter">D. 智能感知 (LSP &#x26; Treesitter)</h4>
<p>这是 Neovim 能媲美 VS Code 的关键。</p>
<ul>
<li><strong>LSP (Language Server Protocol):</strong> 提供代码补全、跳转定义、错误提示。配合 <code>williamboman/mason.nvim</code> 可以轻松安装各种语言的 Server。</li>
<li><strong>Treesitter:</strong> 提供极佳的语法高亮和代码缩进。</li>
</ul>
<h3 id="5-窗口管理-splits">5. 窗口管理 (Splits)</h3>
<p>在一个终端里像平铺窗口管理器一样工作。</p>
<ul>
<li><code>:vsp</code> (Vertical Split): 左右分屏。</li>
<li><code>:sp</code> (Split): 上下分屏。</li>
<li><code>Ctrl+w</code> + <code>h/j/k/l</code>: 在不同分屏间切换光标。</li>
</ul>
<h3 id="极速上手建议">极速上手建议</h3>
<p>如果你不想从零配置，可以先尝试 <strong>LazyVim</strong> 或 <strong>AstroNvim</strong>。它们是预配置好的 Neovim 发行版，开箱即用，能让你直接体验到配置完全后的 Neovim 有多强大，之后再慢慢学习如何自己定制。</p>
<p><strong>你想了解如何安装 LazyVim 这种开箱即用的配置，还是想从零开始写一个基础的 <code>init.lua</code>。</strong></p>
<h3 id="主题-2-nvim的各种快捷操作打开文件夹打开终端之类的我会用vim">主题 2. nvim的各种快捷操作，打开文件夹，打开终端之类的，我会用vim</h3>
<p>既然你已经熟悉 Vim 的基础操作（光标移动、模式切换、文本编辑），那我们直接跳过“编辑”层面，重点讲讲 Neovim 如何通过 <strong>Lua 配置</strong> 和 <strong>插件生态</strong> 来解决“工程化”开发的问题（比如文件树、多终端管理）。</p>
<p>对于 Neovim 用户来说，很多功能不再依赖原生指令，而是绑定到 <code>&#x3C;leader></code> 键的组合快捷键上。</p>
<h3 id="1-文件与文件夹管理-file-explorer">1. 文件与文件夹管理 (File Explorer)</h3>
<p>在 Vim 中你可能习惯用 <code>:e filename</code> 或者笨重的 <code>netrw</code>。在 Neovim 中，我们通常有两套逻辑：<strong>侧边栏文件树</strong> 和 <strong>模糊搜索</strong>。</p>
<h4 id="a-原生方式-不推荐但救急用">A. 原生方式 (不推荐，但救急用)</h4>
<ul>
<li><strong>打开当前文件夹:</strong> 在命令模式输入 <code>:Ex</code> (Explore) 或启动时 <code>nvim .</code></li>
<li><strong>操作:</strong> 回车进入目录/打开文件，<code>-</code> 返回上一级。</li>
</ul>
<h4 id="b-现代方式侧边栏插件-neo-tree--nvim-tree">B. 现代方式：侧边栏插件 (Neo-tree / Nvim-tree)</h4>
<p>类似于 VS Code 的左侧文件树。你需要安装 <code>neo-tree.nvim</code> 或 <code>nvim-tree.lua</code>。</p>
<ul>
<li><strong>常用快捷键配置:</strong> 建议映射为 <code>&#x3C;leader>e</code> (Explorer)。</li>
<li><strong>功能:</strong>
<ul>
<li><code>a</code>: 在当前目录新建文件/文件夹。</li>
<li><code>d</code>: 删除文件。</li>
<li><code>r</code>: 重命名。</li>
<li>它能实时显示 Git 状态（新增、修改），这对项目开发非常重要。</li>
</ul>
</li>
</ul>
<h4 id="c-极速方式模糊查找-telescope">C. 极速方式：模糊查找 (Telescope)</h4>
<p>这是 Neovim 的杀手锏。不用一级级点开文件夹，直接搜文件名。</p>
<ul>
<li><strong>核心指令:</strong> <code>:Telescope find_files</code></li>
<li><strong>常用映射:</strong> <code>&#x3C;leader>ff</code></li>
<li><strong>场景:</strong> 你记得文件名大概叫 <code>utils.ts</code>，直接按下 <code>&#x3C;leader>ff</code> 输入 <code>uti</code> 就能秒跳过去。</li>
</ul>
<h3 id="2-终端管理-terminal">2. 终端管理 (Terminal)</h3>
<p>Neovim 的终端是异步的，比老 Vim 的体验好太多。</p>
<h4 id="a-原生内置终端">A. 原生内置终端</h4>
<ul>
<li><strong>打开方式:</strong>
<ul>
<li><code>:term</code> (在当前窗口打开)</li>
<li><code>:vsp | term</code> (右侧分屏打开)</li>
<li><code>:sp | term</code> (下方分屏打开)</li>
</ul>
</li>
<li><strong>痛点与解法 (最重要的一点):</strong>
<ul>
<li>在终端模式下，按 <code>Esc</code> 是无法退出的，它会直接发送给 shell。</li>
<li><strong>退出终端插入模式:</strong> 必须按 <code>Ctrl + \</code> 然后按 <code>Ctrl + n</code>。</li>
<li><em>建议:</em> 在 <code>init.lua</code> 里把这个反人类的按键映射成 <code>Esc</code> 或 <code>jj</code>。</li>
</ul>
</li>
</ul>
<h4 id="b-现代方式浮动终端-toggleterm">B. 现代方式：浮动终端 (Toggleterm)</h4>
<p>安装 <code>akinsho/toggleterm.nvim</code> 插件，可以像 IDE 一样随时呼出/隐藏终端。</p>
<ul>
<li><strong>效果:</strong> 按一下快捷键（如 <code>Ctrl + \</code>），终端从底部弹出来；再按一下，缩回去。</li>
<li><strong>常用工具:</strong> 可以在里面运行 <code>lazygit</code>，体验极佳。</li>
</ul>
<h3 id="3-多文件多窗口切换-buffer--split">3. 多文件/多窗口切换 (Buffer &#x26; Split)</h3>
<p>既然你会用 Vim，应该熟悉 <code>:sp</code>/<code>:vsp</code>。Neovim 在此基础上更强调 <strong>Buffer</strong> 的概念。</p>
<ul>
<li><strong>分屏切换:</strong>
<ul>
<li>原版: <code>Ctrl+w</code> 然后按 <code>h/j/k/l</code>。</li>
<li><em>进阶配置:</em> 很多 Neovim 用户会直接映射 <code>Ctrl+h/j/k/l</code> 来切换窗口，省去按 <code>w</code> 的步骤。</li>
</ul>
</li>
<li><strong>Buffer 切换 (标签页):</strong>
<ul>
<li>打开多个文件后，它们都在后台的 buffer 列表中。</li>
<li>指令: <code>:bn</code> (下一个), <code>:bp</code> (上一个), <code>:bd</code> (关闭当前)。</li>
<li><em>视觉优化:</em> 使用 <code>bufferline.nvim</code> 插件，让顶部像 Chrome 标签页一样显示所有打开的文件。</li>
</ul>
</li>
</ul>
<h3 id="4-你的-initlua-关键映射建议">4. 你的 <code>init.lua</code> 关键映射建议</h3>
<p>既然你会 Vim，你肯定想把配置改成自己的习惯。把以下代码放入 <code>~/.config/nvim/init.lua</code>，可以立刻提升体验：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>-- 设置 Leader 键为空格 (最常用的现代设置)</span></span>
<span class="line"><span>vim.g.mapleader = " "</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- 1. 窗口跳转：省去 Ctrl+w</span></span>
<span class="line"><span>vim.keymap.set("n", "&#x3C;C-h>", "&#x3C;C-w>h")</span></span>
<span class="line"><span>vim.keymap.set("n", "&#x3C;C-l>", "&#x3C;C-w>l")</span></span>
<span class="line"><span>vim.keymap.set("n", "&#x3C;C-j>", "&#x3C;C-w>j")</span></span>
<span class="line"><span>vim.keymap.set("n", "&#x3C;C-k>", "&#x3C;C-w>k")</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- 2. 终端模式下的退出：把 &#x3C;C-\>&#x3C;C-n> 映射为 Esc</span></span>
<span class="line"><span>vim.keymap.set("t", "&#x3C;Esc>", "&#x3C;C-\\>&#x3C;C-n>")</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- 3. 快速保存和退出</span></span>
<span class="line"><span>vim.keymap.set("n", "&#x3C;leader>w", ":w&#x3C;CR>") -- 空格+w 保存</span></span>
<span class="line"><span>vim.keymap.set("n", "&#x3C;leader>q", ":q&#x3C;CR>") -- 空格+q 退出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- 4. 剪贴板同步 (直接用系统剪贴板，不用 "+y 了)</span></span>
<span class="line"><span>vim.opt.clipboard = "unnamedplus"</span></span></code></pre>
<h3 id="总结下一步">总结下一步</h3>
<p>既然你已经有基础，建议你直接<strong>不要</strong>用原生指令去管理文件和终端，效率太低。</p>
<p><strong>建议路径：</strong> 安装一个插件管理器（如 <strong>lazy.nvim</strong>），然后装上 <strong>Telescope</strong>（找文件）和 <strong>Toggleterm</strong>（用终端）。</p>
<p>需要我给你一个<strong>最精简的、包含这两个插件的 <code>init.lua</code> 模板</strong>吗。你可以直接复制进去就能跑。</p>
<h3 id="主题-3-我已经安装lazy-nvim了但是怎么管理插件">主题 3. 我已经安装lazy nvim了，但是怎么管理插件</h3>
<p>太棒了，<code>lazy.nvim</code> 是目前 Neovim 生态中最强、启动速度最快的插件管理器。</p>
<p>管理插件主要分为两部分：<strong>可视化的面板操作</strong>（更新/排错）和 <strong>Lua 代码配置</strong>（新增/修改）。</p>
<p>由于你是 CS 专业的，我建议直接采用<strong>模块化</strong>的管理方式，而不是把所有东西都塞进 <code>init.lua</code>。</p>
<h3 id="1-核心面板操作-the-dashboard">1. 核心面板操作 (The Dashboard)</h3>
<p>在 Neovim 中输入 <code>:Lazy</code> 即可打开管理面板。这是你日常检查插件状态的地方。</p>
<ul>
<li><strong>常用快捷键：</strong>
<ul>
<li><code>I</code> : <strong>Install</strong> (安装 <code>init.lua</code> 中新添加的插件)。</li>
<li><code>U</code> : <strong>Update</strong> (更新所有插件)。</li>
<li><code>X</code> : <strong>Clean</strong> (删除你代码中已经移除，但本地还残留的插件)。</li>
<li><code>S</code> : <strong>Sync</strong> (同步，相当于运行 I, U, X)。</li>
</ul>
</li>
<li><strong>查看详情：</strong>
<ul>
<li>如果你发现某个插件报错，在面板里移动光标选中它，按 <code>Enter</code> 可以看到该插件的 Log 和 Lazy Loading（懒加载）触发条件，非常适合调试。</li>
</ul>
</li>
</ul>
<h3 id="2-如何新增配置插件-代码层面">2. 如何新增/配置插件 (代码层面)</h3>
<p>最优雅的方式是让 <code>lazy.nvim</code> 自动扫描 <code>lua/plugins</code> 文件夹。</p>
<h4 id="第一步确保你的入口文件-initlua-包含这一行">第一步：确保你的入口文件 <code>init.lua</code> 包含这一行</h4>
<p>找到你配置 <code>require("lazy").setup(...)</code> 的地方，确保参数指向了一个目录，或者是像下面这样配置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>-- ~/.config/nvim/init.lua</span></span>
<span class="line"><span>require("lazy").setup("plugins") </span></span>
<span class="line"><span>-- 这句话的意思是：去 ~/.config/nvim/lua/plugins/ 目录下加载所有 lua 文件</span></span></code></pre>
<h4 id="第二步新建插件文件">第二步：新建插件文件</h4>
<p>现在，你要加插件不需要动 <code>init.lua</code> 了。直接在 <code>lua/plugins/</code> 下新建文件即可。</p>
<p>比如，我们要安装上一轮提到的 <strong>Toggleterm (终端插件)</strong>，你可以新建一个文件 <code>lua/plugins/terminal.lua</code>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>-- ~/.config/nvim/lua/plugins/terminal.lua</span></span>
<span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "akinsho/toggleterm.nvim",</span></span>
<span class="line"><span>    version = "*",</span></span>
<span class="line"><span>    -- config: 插件加载后运行的配置代码</span></span>
<span class="line"><span>    config = function()</span></span>
<span class="line"><span>      require("toggleterm").setup({</span></span>
<span class="line"><span>        open_mapping = [[&#x3C;c-\>]], -- 设置 Ctrl+\ 呼出终端</span></span>
<span class="line"><span>        direction = "float",      -- 浮动窗口模式</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>    end,</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre>
<p>保存文件，重启 Neovim，它会自动检测到新文件并提示安装。</p>
<h3 id="3-lazynvim-的核心配置语法">3. <code>lazy.nvim</code> 的核心配置语法</h3>
<p>你在网上复制配置时，通常只需要关注返回的 Table 中的几个核心字段：</p>
<ol>
<li><strong>插件源 (必填)</strong>: <code>{"作者/仓库名"}</code>，例如 <code>"nvim-telescope/telescope.nvim"</code>。</li>
<li><strong><code>dependencies</code></strong>: 依赖项。有些插件需要依赖其他插件才能跑。</li>
<li><strong><code>config</code> vs <code>opts</code> (重点)</strong>:
<ul>
<li><code>opts = { ... }</code>: 简单配置。Lazy 会自动帮你调用 <code>require("插件名").setup(opts)</code>。</li>
<li><code>config = function() ... end</code>: 复杂配置。如果你需要完全控制 <code>setup</code> 函数的调用，或者做一些复杂的按键映射，用这个。</li>
</ul>
</li>
<li><strong>懒加载 (Lazy Loading)</strong>:
<ul>
<li><code>event = "VeryLazy"</code>: 启动后才加载（不阻塞启动速度）。</li>
<li><code>cmd = "Telescope"</code>: 只有当你输入 <code>:Telescope</code> 命令时才加载插件。</li>
<li><code>ft = "python"</code>: 只有打开 Python 文件时才加载。</li>
</ul>
</li>
</ol>
<h3 id="4-实战练习安装文件搜索插件-telescope">4. 实战练习：安装文件搜索插件 Telescope</h3>
<p>我们来实践一下如何安装 <strong>Telescope</strong>，这是你之前提到的“打开文件”的最佳替代方案。</p>
<p>新建文件 <code>lua/plugins/telescope.lua</code>，填入：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        'nvim-telescope/telescope.nvim', </span></span>
<span class="line"><span>        tag = '0.1.5',</span></span>
<span class="line"><span>        -- 依赖项：Telescope 依赖 plenary</span></span>
<span class="line"><span>        dependencies = { 'nvim-lua/plenary.nvim' },</span></span>
<span class="line"><span>        </span></span>
<span class="line"><span>        config = function()</span></span>
<span class="line"><span>            local builtin = require('telescope.builtin')</span></span>
<span class="line"><span>            -- 这里配置快捷键</span></span>
<span class="line"><span>            -- 意思是：按下 &#x3C;leader>ff 就查找文件</span></span>
<span class="line"><span>            vim.keymap.set('n', '&#x3C;leader>ff', builtin.find_files, {})</span></span>
<span class="line"><span>            -- 意思是：按下 &#x3C;leader>fg 就进行全局 grep 搜索（需要本地安装 ripgrep）</span></span>
<span class="line"><span>            vim.keymap.set('n', '&#x3C;leader>fg', builtin.live_grep, {})</span></span>
<span class="line"><span>        end</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<h3 id="总结">总结</h3>
<ol>
<li><strong>配置：</strong> 在 <code>lua/plugins/</code> 下新建 <code>.lua</code> 文件返回插件 table。</li>
<li><strong>生效：</strong> 重启 nvim，或者在命令模式输入 <code>:Lazy</code> 然后按 <code>I</code>。</li>
<li><strong>管理：</strong> 没事按 <code>:Lazy</code> 进去按 <code>U</code> 更新一下。</li>
</ol>
<p>你现在可以试着把 <code>toggleterm</code> 或 <code>telescope</code> 加进去，看看能不能跑通。如果有报错，通常是因为依赖没装好（比如 ripgrep）。</p>
<h3 id="排查场景-1-为什么我cd用tab补全一直有一个声音然后也不补全">排查场景 1. 为什么我cd用tab补全一直有一个声音，然后也不补全</h3>
<ul>
<li>场景：为什么我cd用tab补全一直有一个声音，然后也不补全</li>
<li>处理要点：<br>
这个声音叫 <strong>Bell (系统响铃)</strong>，通常表示“找不到匹配项”或者“匹配项太多，无法唯一补全”。</li>
</ul>
<p>既然你是在 Ubuntu WSL 环境下，出现这种情况通常是因为你的 <strong>Shell (终端解释器)</strong> 配置没写好。大多数 Neovim 用户会从 Bash 切换到 Zsh，我猜你可能处于以下两种情况之一：</p>
<h3 id="情况-a你刚装了-zsh-但没配置-最可能">情况 A：你刚装了 Zsh 但没配置 (最可能)</h3>
<p>如果你切换到了 Zsh，但没有配置补全系统，按 Tab 就会只响不补全。</p>
<p><strong>解决方法：</strong> 打开你的 <code>~/.zshrc</code> 文件（<code>nvim ~/.zshrc</code>），在文件<strong>最前面</strong>加上这两行：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>autoload -Uz compinit</span></span>
<span class="line"><span>compinit</span></span></code></pre>
<p>保存并退出，然后运行 <code>source ~/.zshrc</code>。现在的 <code>cd</code> 补全应该就正常了。</p>
<h3 id="情况-b你还在用默认的-bash但大小写没匹配">情况 B：你还在用默认的 Bash，但大小写没匹配</h3>
<p>默认的 Bash 是<strong>大小写敏感</strong>的。 比如你有一个文件夹叫 <code>Downloads</code>，你输入 <code>cd down</code> 然后按 Tab：</p>
<ul>
<li>因为它找不到小写的 <code>down...</code>，所以它<strong>响铃</strong>（报错）。</li>
<li>因为它不智能，不会自动帮你变大写。</li>
</ul>
<p><strong>解决方法（让它忽略大小写）：</strong> 打开 <code>~/.inputrc</code> 文件（如果没有就新建），加入这行配置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>set completion-ignore-case on</span></span></code></pre>
<p>保存后，重启终端即可。</p>
<h3 id="进阶如何彻底关掉那个烦人的声音">进阶：如何彻底关掉那个烦人的声音。</h3>
<p>无论你用 Bash 还是 Zsh，那个声音都很吵。</p>
<p><strong>1. 如果你用 Bash:</strong> 在 <code>~/.inputrc</code> 中加入：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>set bell-style none</span></span></code></pre>
<p><strong>2. 如果你用 Zsh:</strong> 在 <code>~/.zshrc</code> 中加入：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>unsetopt BEEP</span></span></code></pre>
<h3 id="给-cs-研究生的建议-devops-方向">给 CS 研究生的建议 (DevOps 方向)</h3>
<p>既然你是搞 DevOps 和基础设施的，强烈建议你直接上 <strong>Oh My Zsh</strong> 或者手动配置 <strong>Zsh + zsh-autosuggestions</strong>。 单纯的 <code>cd</code> 补全太弱了，你需要的是：</p>
<ol>
<li><strong>zsh-autosuggestions</strong>: 会根据你的历史记录，用灰色字自动在光标后补全长命令（按右箭头确认）。</li>
<li><strong>zoxide</strong>: 一个比 <code>cd</code> 更强的工具。你只需要输入 <code>z down</code> 就能直接跳到 <code>Downloads</code>，不管你在哪个层级，也不用输全路径。</li>
</ol>
<p><strong>需要我教你如果不装 OhMyZsh，怎么用最轻量的方式配置出这两个功能吗。</strong>（这比装那一大坨插件要快得多）</p>
<h3 id="排查场景-2-继续教我nvim吧">排查场景 2. 继续教我nvim吧</h3>
<ul>
<li>场景：继续教我nvim吧</li>
<li>处理要点：<br>
既然你的终端和基础插件管理已经搞定，现在我们进入 Neovim 最核心、也是最能体现它“比 VS Code 强”的部分：<strong>IDE 能力构建</strong>。</li>
</ul>
<p>我们将分两步走：</p>
<ol>
<li><strong>面子 (Visuals):</strong> 用 <strong>Treesitter</strong> 实现比 VS Code 更精准的语法高亮。</li>
<li><strong>里子 (Intelligence):</strong> 用 <strong>LSP (Language Server Protocol)</strong> 实现代码跳转、报错和自动补全。</li>
</ol>
<h3 id="第一步开启上帝视角的语法高亮-treesitter">第一步：开启“上帝视角”的语法高亮 (Treesitter)</h3>
<p>普通的编辑器用正则表达式（Regex）高亮代码，容易出错且单一。Neovim 的 <strong>Treesitter</strong> 会构建代码的“抽象语法树 (AST)”，它真的“读得懂”代码。</p>
<p><strong>操作：</strong> 新建 <code>lua/plugins/treesitter.lua</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        "nvim-treesitter/nvim-treesitter",</span></span>
<span class="line"><span>        build = ":TSUpdate",</span></span>
<span class="line"><span>        config = function() </span></span>
<span class="line"><span>            require("nvim-treesitter.configs").setup({</span></span>
<span class="line"><span>                -- 1. 确保安装常用语言的解析器</span></span>
<span class="line"><span>                ensure_installed = { </span></span>
<span class="line"><span>                    "c", "lua", "vim", "vimdoc", "query", </span></span>
<span class="line"><span>                    "python", "javascript", "typescript", "go", "bash", "markdown" </span></span>
<span class="line"><span>                },</span></span>
<span class="line"><span>                </span></span>
<span class="line"><span>                -- 2. 自动安装缺少的解析器</span></span>
<span class="line"><span>                auto_install = true,</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                -- 3. 启用高亮 (这是核心)</span></span>
<span class="line"><span>                highlight = {</span></span>
<span class="line"><span>                    enable = true,</span></span>
<span class="line"><span>                    -- 如果文件太大，为了性能可以临时禁用</span></span>
<span class="line"><span>                    disable = function(lang, buf)</span></span>
<span class="line"><span>                        local max_filesize = 100 * 1024 -- 100 KB</span></span>
<span class="line"><span>                        local ok, stats = pcall(vim.loop.fs_stat, vim.api.nvim_buf_get_name(buf))</span></span>
<span class="line"><span>                        if ok and stats and stats.size > max_filesize then</span></span>
<span class="line"><span>                            return true</span></span>
<span class="line"><span>                        end</span></span>
<span class="line"><span>                    end,</span></span>
<span class="line"><span>                },</span></span>
<span class="line"><span>                </span></span>
<span class="line"><span>                -- 4. 启用基于缩进的折叠 (可选，但很好用)</span></span>
<span class="line"><span>                indent = { enable = true },</span></span>
<span class="line"><span>            })</span></span>
<span class="line"><span>        end</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<p><strong>生效：</strong> 保存后重启 Nvim，或者 <code>:Lazy</code> 安装。随便打开个代码文件，你会发现高亮的颜色丰富了很多（比如变量、函数名、关键字颜色都不同）。</p>
<h3 id="第二步核心大脑-lsp-自动补全与诊断">第二步：核心大脑 LSP (自动补全与诊断)</h3>
<p>这是最复杂的一步，也是区分“文本编辑器”和“IDE”的分水岭。我们需要三个组件配合：</p>
<ol>
<li><strong>Mason:</strong> 相当于 Neovim 里的“应用商店”，帮你下载各种语言的 Server (比如 Python 的 Pyright, C++ 的 Clangd)。</li>
<li><strong>LSP Config:</strong> 告诉 Neovim 怎么连接这些 Server。</li>
<li><strong>Cmp (Completion):</strong> 自动补全的下拉菜单引擎。</li>
</ol>
<p><strong>操作：</strong> 新建 <code>lua/plugins/lsp.lua</code> (直接复制下面的一大坨，这是生产力级别的配置)</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>    -- 1. LSP 基础插件</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        "neovim/nvim-lspconfig",</span></span>
<span class="line"><span>        dependencies = {</span></span>
<span class="line"><span>            "williamboman/mason.nvim", -- LSP 安装器</span></span>
<span class="line"><span>            "williamboman/mason-lspconfig.nvim",</span></span>
<span class="line"><span>            -- 自动补全系列插件</span></span>
<span class="line"><span>            "hrsh7th/cmp-nvim-lsp",</span></span>
<span class="line"><span>            "hrsh7th/cmp-buffer",</span></span>
<span class="line"><span>            "hrsh7th/cmp-path",</span></span>
<span class="line"><span>            "hrsh7th/cmp-cmdline",</span></span>
<span class="line"><span>            "hrsh7th/nvim-cmp",</span></span>
<span class="line"><span>            -- 代码片段引擎 (Snippet) - 补全必须</span></span>
<span class="line"><span>            "L3MON4D3/LuaSnip",</span></span>
<span class="line"><span>            "saadparwaiz1/cmp_luasnip",</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        config = function()</span></span>
<span class="line"><span>            -- A. 初始化 Mason (管理 LSP Server)</span></span>
<span class="line"><span>            require("mason").setup()</span></span>
<span class="line"><span>            </span></span>
<span class="line"><span>            -- B. 初始化 Mason-LSPConfig (连接 Mason 和 LSP)</span></span>
<span class="line"><span>            require("mason-lspconfig").setup({</span></span>
<span class="line"><span>                -- 这里写你想自动安装的语言 Server</span></span>
<span class="line"><span>                -- Python: pyright / basedpyright</span></span>
<span class="line"><span>                -- C/C++: clangd</span></span>
<span class="line"><span>                -- Lua: lua_ls</span></span>
<span class="line"><span>                ensure_installed = { "lua_ls", "pyright", "bashls" }, </span></span>
<span class="line"><span>                </span></span>
<span class="line"><span>                handlers = {</span></span>
<span class="line"><span>                    -- 默认处理函数：自动配置所有下载的 Server</span></span>
<span class="line"><span>                    function(server_name)</span></span>
<span class="line"><span>                        require("lspconfig")[server_name].setup({})</span></span>
<span class="line"><span>                    end,</span></span>
<span class="line"><span>                    </span></span>
<span class="line"><span>                    -- Lua 特别配置 (防止报 vim 全局变量未定义的错)</span></span>
<span class="line"><span>                    ["lua_ls"] = function()</span></span>
<span class="line"><span>                        require("lspconfig").lua_ls.setup({</span></span>
<span class="line"><span>                            settings = {</span></span>
<span class="line"><span>                                Lua = {</span></span>
<span class="line"><span>                                    diagnostics = { globals = { "vim" } }</span></span>
<span class="line"><span>                                }</span></span>
<span class="line"><span>                            }</span></span>
<span class="line"><span>                        })</span></span>
<span class="line"><span>                    end,</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            -- C. 配置自动补全 (Cmp)</span></span>
<span class="line"><span>            local cmp = require("cmp")</span></span>
<span class="line"><span>            </span></span>
<span class="line"><span>            cmp.setup({</span></span>
<span class="line"><span>                snippet = {</span></span>
<span class="line"><span>                    expand = function(args)</span></span>
<span class="line"><span>                        require("luasnip").lsp_expand(args.body)</span></span>
<span class="line"><span>                    end,</span></span>
<span class="line"><span>                },</span></span>
<span class="line"><span>                -- 快捷键映射</span></span>
<span class="line"><span>                mapping = cmp.mapping.preset.insert({</span></span>
<span class="line"><span>                    ['&#x3C;C-b>'] = cmp.mapping.scroll_docs(-4),</span></span>
<span class="line"><span>                    ['&#x3C;C-f>'] = cmp.mapping.scroll_docs(4),</span></span>
<span class="line"><span>                    ['&#x3C;C-Space>'] = cmp.mapping.complete(), -- 手动触发补全</span></span>
<span class="line"><span>                    ['&#x3C;C-e>'] = cmp.mapping.abort(), -- 关闭补全</span></span>
<span class="line"><span>                    ['&#x3C;CR>'] = cmp.mapping.confirm({ select = true }), -- 回车确认</span></span>
<span class="line"><span>                    ['&#x3C;Tab>'] = cmp.mapping.select_next_item(), -- Tab 下一个</span></span>
<span class="line"><span>                }),</span></span>
<span class="line"><span>                -- 补全来源</span></span>
<span class="line"><span>                sources = cmp.config.sources({</span></span>
<span class="line"><span>                    { name = 'nvim_lsp' }, -- 来自 LSP</span></span>
<span class="line"><span>                    { name = 'luasnip' },  -- 代码片段</span></span>
<span class="line"><span>                }, {</span></span>
<span class="line"><span>                    { name = 'buffer' },   -- 当前文件内容</span></span>
<span class="line"><span>                    { name = 'path' },     -- 文件路径</span></span>
<span class="line"><span>                })</span></span>
<span class="line"><span>            })</span></span>
<span class="line"><span>        end</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<h3 id="第三步验证与使用">第三步：验证与使用</h3>
<ol>
<li>保存这两个文件。</li>
<li>重启 Neovim，你会看到 Lazy 疯狂下载插件。</li>
<li><strong>下载语言服务器：</strong>
<ul>
<li>插件装完后，输入 <code>:Mason</code>，你会看到一个面板。</li>
<li>如果 <code>pyright</code> (Python) 或 <code>lua_ls</code> 没装上，按 <code>i</code> 手动安装。</li>
<li>作为 CS 学生，你可能还需要 C++，在 Mason 里搜索 <code>clangd</code> 并安装。</li>
</ul>
</li>
<li><strong>常用快捷键 (LSP 默认):</strong>
<ul>
<li><strong>跳转定义:</strong> <code>gd</code> (Go to Definition) —— 光标放在函数名上按 <code>gd</code>，瞬间跳到定义处。</li>
<li><strong>查看文档:</strong> <code>K</code> (大写的 K) —— 悬浮显示函数文档。</li>
<li><strong>重命名:</strong> 虽然我们还没配快捷键，但可以输入 <code>:lua vim.lsp.buf.rename()</code> (后面我们会绑定到 <code>&#x3C;leader>rn</code>)。</li>
</ul>
</li>
</ol>
<h3 id="作业">作业</h3>
<p>随便打开一个 <code>.lua</code> 或者 <code>.py</code> 文件，试着输入代码。</p>
<ol>
<li>看有没有自动补全列表弹出来。</li>
<li>按 <code>Tab</code> 能不能选择补全项。</li>
<li>光标移到 <code>print</code> 或者系统函数上，按 <code>K</code> 有没有显示文档。</li>
</ol>
<p>如果这一切都通了，你的 Neovim 就正式从“记事本”进化成“IDE”了。遇到报错直接把错误信息发给我，我们来 Debug。</p>
<h3 id="主题-4-这个是lazy默认已经有的插件了吗">主题 4. 这个是lazy默认已经有的插件了吗</h3>
<p><strong>简单直接的回答：不是。</strong></p>
<p>这实际上是一个<strong>完全不生效</strong>的“示例文件”（通常名为 <code>lua/plugins/example.lua</code>），它来自于 <strong>LazyVim</strong>（一个基于 lazy.nvim 的预配置发行版）。</p>
<h3 id="为什么说它不生效">为什么说它不生效。</h3>
<p>请看代码的 <strong>第 1 到 第 3 行</strong>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>1 │ -- since this is just an example spec, don't actually load anything here and return an empty spec</span></span>
<span class="line"><span>2 │ -- stylua: ignore</span></span>
<span class="line"><span>3 │ if true then return {} end  &#x3C;-- 凶手在这里</span></span></code></pre>
<p>这句 <code>if true then return {} end</code> 的意思是：<strong>“直接返回一个空表，后面所有的代码都别看了。”</strong></p>
<h3 id="这个文件的作用是什么">这个文件的作用是什么。</h3>
<p>它是 <strong>LazyVim</strong> 给你的“<strong>官方作弊条</strong>”或“<strong>教程文件</strong>”。它展示了配置插件的各种<strong>正确姿势</strong>。你可以把这里的代码复制到你自己的 <code>lua/plugins/xxx.lua</code> 文件里去使用。</p>
<p>它演示了以下几种技巧（非常值得学习）：</p>
<ol>
<li><strong>添加新插件</strong> (Line 13):
<ul>
<li>演示了如何安装 <code>gruvbox</code> 配色方案。</li>
</ul>
</li>
<li><strong>修改 LazyVim 的默认设置</strong> (Line 16-21):
<ul>
<li>演示了如何设置 <code>colorscheme = "gruvbox"</code>。</li>
</ul>
</li>
<li><strong>修改现有插件的参数</strong> (Line 23-28):
<ul>
<li>演示了如何修改 <code>trouble.nvim</code> 的 <code>opts</code>。</li>
</ul>
</li>
<li><strong>彻底禁用某个默认插件</strong> (Line 31):
<ul>
<li><code>enabled = false</code> 是最常用的技巧，用来关掉你不需要的默认插件。</li>
</ul>
</li>
<li><strong>给列表追加元素</strong> (Line 33-41, 146-152):
<ul>
<li>演示了怎么在不覆盖原有配置的情况下，往 <code>nvim-cmp</code> 或 <code>treesitter</code> 里加新东西（比如加个 emoji 支持，或者加个 tsx 语言支持）。</li>
</ul>
</li>
<li><strong>配置 LSP</strong> (Line 66-112):
<ul>
<li>演示了如何手动配置 <code>pyright</code> 和 <code>tsserver</code>。</li>
</ul>
</li>
</ol>
<h3 id="你该怎么做">你该怎么做。</h3>
<ol>
<li><strong>不要直接修改这个文件</strong>。因为它被第 3 行的代码“屏蔽”了，你改了也没反应。</li>
<li><strong>复制粘贴</strong>：
<ul>
<li>如果你想要 <code>gruvbox</code> 主题，就把 <strong>12-21 行</strong> 复制到你自己在 <code>lua/plugins/</code> 下新建的一个文件里（比如 <code>lua/plugins/theme.lua</code>）。</li>
<li>如果你想添加 TypeScript 支持，就把相关部分复制出去。</li>
</ul>
</li>
<li><strong>或者删除它</strong>：
<ul>
<li>当你熟悉了怎么配置插件后，这个文件就可以删了，以免看着眼花。</li>
</ul>
</li>
</ol>
<h3 id="总结-1">总结</h3>
<p>你现在的环境应该是 <strong>LazyVim</strong>。LazyVim 本身确实默认安装了 <strong>Treesitter</strong>, <strong>Telescope</strong>, <strong>Mason</strong>, <strong>LSPConfig</strong> 等插件（在它的核心代码里，你看不到）。</p>
<p>而你贴出的这个文件，只是一个<strong>被注释掉的、用来展示如何修改这些默认插件的“样板房”</strong>。</p>
<h3 id="排查场景-3-failed-to-run--config-for-nvim-tre">排查场景 3. Failed to run \ config\ for nvim-tre…</h3>
<ul>
<li>场景：Failed to run \ config\ for nvim-tre…</li>
<li>处理要点：<br>
这是一个非常典型的错误，原因主要有两个：</li>
</ul>
<ol>
<li><strong>插件文件没下载下来</strong>：<code>nvim-treesitter</code> 还没被 <code>lazy.nvim</code> 下载或编译，但你的配置文件已经尝试去 <code>require</code> 它了，所以报错“找不到模块”。</li>
<li><strong>LazyVim 冲突</strong>：结合你上一个问题展示的代码，<strong>你正在使用 LazyVim</strong>。我之前给你的配置是针对“纯净版 Neovim”的。在 LazyVim 中，强行重写 <code>config</code> 函数会破坏 LazyVim 原有的加载逻辑，导致插件路径没准备好就运行了代码。</li>
</ol>
<h3 id="解决方案">解决方案</h3>
<p>请按顺序执行以下两步，即可修复。</p>
<h4 id="第一步修改代码适配-lazyvim">第一步：修改代码（适配 LazyVim）</h4>
<p>既然你在用 LazyVim，<strong>千万不要</strong>自己写 <code>config = function() ... end</code>，这会覆盖 LazyVim 帮你做好的优化。请把 <code>lua/plugins/treesitter.lua</code> 的内容完全替换为以下代码：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "nvim-treesitter/nvim-treesitter",</span></span>
<span class="line"><span>    -- 在 LazyVim 中，我们要修改配置，只需要写 opts</span></span>
<span class="line"><span>    -- LazyVim 会自动帮你调用 setup(opts)</span></span>
<span class="line"><span>    opts = {</span></span>
<span class="line"><span>      ensure_installed = {</span></span>
<span class="line"><span>        "c", "lua", "vim", "vimdoc", "query", </span></span>
<span class="line"><span>        "python", "javascript", "typescript", "go", "bash", "markdown" </span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      auto_install = true,</span></span>
<span class="line"><span>      highlight = { enable = true },</span></span>
<span class="line"><span>      indent = { enable = true },</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre>
<h4 id="第二步强制重装插件">第二步：强制重装插件</h4>
<p>现在的报错说明本地的插件文件可能损坏或不完整。我们需要手动清理一下：</p>
<ol>
<li>打开 Neovim（虽然会报错，按回车忽略它，进入界面）。</li>
<li>输入命令打开 Lazy 面板： <code>:Lazy</code></li>
<li>在列表中找到 <code>nvim-treesitter</code>（它可能显示为红色或有错误图标）。</li>
<li>光标移到它上面，按 <strong><code>X</code></strong> (大写) 把它删掉（Clean）。</li>
<li>然后按 <strong><code>S</code></strong> (大写) 进行同步（Sync）。</li>
<li>这时候你应该会看到它开始重新下载（Clone）并构建（Build）。<strong>耐心等待进度条走完。</strong></li>
</ol>
<h3 id="为什么会这样原理讲解">为什么会这样。（原理讲解）</h3>
<p>LazyVim 是一个高度封装的框架。</p>
<ul>
<li><strong>我之前的写法 (Raw Config):</strong> <code>config = function(...)</code>。这告诉 Lazy：“别管闲事，完全由我来控制这个插件怎么运行”。结果就是 LazyVim 的智能加载失效了，插件还没准备好，代码就跑了，于是报错。</li>
<li><strong>现在的写法 (LazyVim Style):</strong> <code>opts = {...}</code>。这告诉 LazyVim：“你的加载逻辑保留，我只修改这些参数”。这是最稳妥的做法。</li>
</ul>
<p><strong>操作完告诉我结果，如果 <code>:Lazy</code> 里面显示 treesitter 变成绿色了，那就成功了。</strong></p>
<h3 id="排查场景-4-这些时默认安装的吧">排查场景 4. 这些时默认安装的吧</h3>
<ul>
<li>场景：这些时默认安装的吧</li>
<li>处理要点：<br>
是的，<strong>完全正确</strong>。这一看就是 <strong>LazyVim</strong> 发行版的标准“全家桶”列表。</li>
</ul>
<p>而且有一个<strong>好消息</strong>：仔细看列表里的 <code>● nvim-treesitter 51.3ms</code>，它已经是 <strong>Loaded (已加载)</strong> 状态了。这意味着你之前的报错<strong>已经修复了</strong>。</p>
<h3 id="帮你认一下你的武器库-lazyvim-默认自带的神器">帮你认一下你的“武器库” (LazyVim 默认自带的神器)</h3>
<p>LazyVim 帮你预装了目前 Neovim 社区最顶尖的插件，你不需要自己去一个个装了。以下是这 32 个插件里你需要知道的核心角色：</p>
<h4 id="1-核心大腿级-已加载">1. 核心大腿级 (已加载)</h4>
<ul>
<li><strong><code>blink.cmp</code></strong>: <strong>非常重要</strong>。这是最新的自动补全引擎（用来替代老牌的 <code>nvim-cmp</code>）。它速度极快，负责你写代码时的弹窗提示。
<ul>
<li><em>注意：因为有了它，不要再用我之前教你的 <code>nvim-cmp</code> 配置了，否则会打架。</em></li>
</ul>
</li>
<li><strong><code>lazy.nvim</code></strong>: 插件管理器本身，它是所有插件的“老板”。</li>
<li><strong><code>nvim-treesitter</code></strong>: 语法高亮引擎，负责让你的代码五颜六色。</li>
<li><strong><code>which-key.nvim</code></strong>: <strong>新手救星</strong>。当你按下空格键（<code>&#x3C;leader></code>）停顿一秒，它会在屏幕底部弹出一个菜单，告诉你接下来能按什么键。</li>
</ul>
<h4 id="2-界面颜值级-ui">2. 界面颜值级 (UI)</h4>
<ul>
<li><strong><code>tokyonight.nvim</code></strong>: 默认的主题（很护眼）。</li>
<li><strong><code>noice.nvim</code></strong>: 把原本很难看的命令行消息（cmdline）变成了屏幕中央的漂亮弹窗。</li>
<li><strong><code>lualine.nvim</code></strong>:底部的状态栏。</li>
<li><strong><code>flash.nvim</code></strong>: <strong>神器中的神器</strong>。
<ul>
<li><em>试一下：</em> 按 <code>s</code>，然后输入屏幕上任意两个字符，你会发现屏幕上出现了很多标签字母，按下对应字母就能瞬间“飞”过去。比 <code>f</code> 和 <code>/</code> 都要快。</li>
</ul>
</li>
</ul>
<h4 id="3-还没有加载的-lazy-loaded">3. 还没有加载的 (Lazy Loaded)</h4>
<p>这些插件是“懒加载”的，只有当你真正用到它们时才会启动，为了让你的启动速度保持在极速（你看你的启动才几十毫秒）。</p>
<ul>
<li><strong><code>nvim-lspconfig</code></strong>: 等你打开 Python/Go/Lua 文件开始写代码时，它才会启动。</li>
<li><strong><code>gitsigns.nvim</code></strong>: 等你进入一个 Git 仓库目录时，它才会启动（显示左侧的修改条）。</li>
</ul>
<h3 id="️-关键警告-请务必阅读">️ 关键警告 (请务必阅读)</h3>
<p>既然确认了你用的是 <strong>LazyVim</strong>，<strong>请忘掉我之前教你的“从零手写 <code>lsp.lua</code> 和 <code>cmp</code> 配置”</strong>。</p>
<p>LazyVim 已经帮你把 LSP（语法提示）和 CMP（自动补全）配置得非常完美了。</p>
<ul>
<li>如果你手动去加 <code>lua/plugins/lsp.lua</code> 并写入 <code>nvim-cmp</code> 的配置，<strong>会和 LazyVim 自带的 <code>blink.cmp</code> 发生惨烈冲突</strong>。</li>
</ul>
<h3 id="你现在的正确姿势">你现在的正确姿势</h3>
<p>你现在不需要写代码来“安装”功能了，只需要<strong>开启</strong>功能。</p>
<p>比如，你想写 <strong>Python</strong>，不需要去配 LSP，只需要告诉 LazyVim “我要开启 Python 支持”。</p>
<p><strong>想试一下吗。我教你用 LazyVim 官方推荐的方式一键开启 Python 或 C++ 环境。</strong></p>
<h3 id="排查场景-5-errlines有没有">排查场景 5. errlines有没有</h3>
<ul>
<li>场景：errlines有没有</li>
<li>处理要点：<br>
你说的 “errlines” 通常是指两种需求之一：</li>
</ul>
<ol>
<li><strong>把报错信息显示在代码行的“下方”</strong>（而不是挤在行尾），这样能看清长长的报错。
<ul>
<li>对应的插件是：<code>lsp_lines.nvim</code></li>
</ul>
</li>
<li><strong>显示一个所有报错的“列表”</strong>，点击可以跳转。
<ul>
<li>对应的插件是：<code>trouble.nvim</code> (LazyVim 默认自带且已装好)</li>
</ul>
</li>
</ol>
<p>我们一个个来：</p>
<h3 id="1-想要报错信息换行显示-lsp_lines">1. 想要报错信息“换行显示” (lsp_lines)</h3>
<p>默认情况下，Neovim 的报错是显示在行尾的（Virtual Text），如果报错太长会被截断，还得把光标移过去看浮窗，很累。</p>
<p><strong><code>lsp_lines.nvim</code></strong> 可以把报错渲染成代码行下方的“虚拟行”，像这样：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def my_function():</span></span>
<span class="line"><span>    print(undeclared_variable)</span></span>
<span class="line"><span>    ↳  Error: Undefined variable 'undeclared_variable'  (直接显示在下方)</span></span></code></pre>
<p><strong>安装方法：</strong></p>
<p>在 <code>lua/plugins/</code> 下新建一个文件，比如 <code>lua/plugins/lsp_lines.lua</code>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "https://git.sr.ht/~whynothugo/lsp_lines.nvim",</span></span>
<span class="line"><span>    config = function()</span></span>
<span class="line"><span>      require("lsp_lines").setup()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      -- 配置诊断显示方式</span></span>
<span class="line"><span>      vim.diagnostic.config({</span></span>
<span class="line"><span>        virtual_text = false, -- 关掉行尾原本的提示，不然太乱</span></span>
<span class="line"><span>        virtual_lines = true, -- 开启下方的虚拟行提示</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>      </span></span>
<span class="line"><span>      -- 可选：按 &#x3C;leader>l 切换开关（有时候报错太多想清静一下）</span></span>
<span class="line"><span>      vim.keymap.set(</span></span>
<span class="line"><span>        "",</span></span>
<span class="line"><span>        "&#x3C;leader>l",</span></span>
<span class="line"><span>        require("lsp_lines").toggle,</span></span>
<span class="line"><span>        { desc = "Toggle LSP Lines" }</span></span>
<span class="line"><span>      )</span></span>
<span class="line"><span>    end,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre>
<p>保存重启，你的报错就会变得非常清晰直观。</p>
<h3 id="2-想要报错列表-trouble">2. 想要“报错列表” (Trouble)</h3>
<p>LazyVim 默认已经装了 <strong>Trouble.nvim</strong>，这是一个非常强大的诊断面板。</p>
<p><strong>怎么用。</strong></p>
<ul>
<li>按下 <strong><code>&#x3C;leader>xx</code></strong> (也就是 空格 + x + x)。</li>
<li>底部会弹出一个窗口，列出当前项目所有的 Error, Warning, Info。</li>
<li>按 <code>j/k</code> 选择，按回车跳转。</li>
</ul>
<p><strong>其他常用快捷键：</strong></p>
<ul>
<li><strong><code>&#x3C;leader>xX</code></strong> (大写 X): 查看当前文件的报错（而不是整个项目）。</li>
<li><strong><code>&#x3C;leader>cs</code></strong> (Code Symbols): 查看当前文件的符号大纲（函数、类列表），也是 Trouble 提供的功能。</li>
</ul>
<h3 id="3-还有一个很帅的选择tiny-inline-diagnostic">3. 还有一个很帅的选择：Tiny Inline Diagnostic</h3>
<p>如果你觉得 <code>lsp_lines</code> 占据太多垂直空间，最近有个很火的插件叫 <code>tiny-inline-diagnostic.nvim</code>。</p>
<p>它只在你的<strong>光标移动到报错行</strong>时，在报错旁边优雅地显示完整信息，其他时候保持干净。</p>
<p><strong>安装配置 (<code>lua/plugins/tiny-diagnostic.lua</code>)：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "rachartier/tiny-inline-diagnostic.nvim",</span></span>
<span class="line"><span>    event = "VeryLazy",</span></span>
<span class="line"><span>    config = function()</span></span>
<span class="line"><span>      require("tiny-inline-diagnostic").setup()</span></span>
<span class="line"><span>      vim.diagnostic.config({ virtual_text = false }) -- 同样关掉默认的</span></span>
<span class="line"><span>    end,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre>
<p><strong>我的建议：</strong> 先试一下 <code>&#x3C;leader>xx</code> (Trouble)，因为你已经有了。 如果觉得不够直观，再装 <code>lsp_lines.lua</code>。这是 CS 学生读长报错（比如 C++ Template 报错或者 Python Traceback）的神器。</p>
<h3 id="主题-5-md预览怎么用">主题 5. md预览怎么用</h3>
<p>要使用 <code>markdown-preview.nvim</code> 预览 Markdown 文件，主要有 <strong>“命令行启动”</strong> 和 <strong>“快捷键启动”</strong> 两种方式。</p>
<p>前提：你需要确保当前打开的是一个后缀为 <code>.md</code> 的 Markdown 文件。</p>
<h3 id="1-基础用法-命令行">1. 基础用法 (命令行)</h3>
<p>在 Neovim 中打开你的 <code>README.md</code> 或其他 markdown 文件，然后输入以下命令：</p>
<ul>
<li><strong>启动预览：</strong></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    :MarkdownPreview</span></span></code></pre>
<p><em>(输入 <code>:Ma</code> 然后按 Tab 补全即可)</em> 这会自动打开你的默认浏览器（Chrome/Edge/Safari），并实时同步显示你的文档内容。</p>
<ul>
<li><strong>关闭预览：</strong></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    :MarkdownPreviewStop</span></span></code></pre>
<ul>
<li><strong>切换开关 (最常用)：</strong></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    :MarkdownPreviewToggle</span></span></code></pre>
<h3 id="2-快捷键用法-推荐">2. 快捷键用法 (推荐)</h3>
<p>如果你是直接复制了我上一条回复中的配置代码，我已经帮你配好了一个快捷键：</p>
<ul>
<li><strong>快捷键：</strong> <strong><code>&#x3C;leader>cp</code></strong> (即：空格 + c + p)
<ul>
<li>含义：<strong>C</strong>ode <strong>P</strong>review</li>
</ul>
</li>
</ul>
<h3 id="3--救命报错了怎么办-常见坑">3.  救命，报错了怎么办。 (常见坑)</h3>
<p>如果你输入 <code>:MarkdownPreview</code> 提示 <strong>“Not an editor command” (找不到命令)</strong>，或者按快捷键没反应，通常是因为 <strong>Node.js 依赖没装好</strong>。</p>
<p><code>markdown-preview.nvim</code> 是一个基于 Web 的插件，它需要先编译一个小的服务器程序才能运行。</p>
<p><strong>解决方法：</strong></p>
<ol>
<li><strong>手动触发安装：</strong> 在 Neovim 里输入以下命令并回车：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    :call mkdp#util#install()</span></span></code></pre>
<p>等待它显示 “Installed” 或类似完成的提示。<br>
2.  <strong>如果还是不行 (终极手段)：</strong> 打开你的终端，手动进入插件目录去安装：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    # 进入插件目录 (LazyVim 的默认路径)</span></span>
<span class="line"><span>    cd ~/.local/share/nvim/lazy/markdown-preview.nvim/app</span></span>
<span class="line"><span>    # 手动安装依赖</span></span>
<span class="line"><span>    npm install</span></span></code></pre>
<p><em>(注意：你的系统里必须先安装了 <code>node</code> 和 <code>npm</code>。在 Ubuntu/WSL 下可以用 <code>sudo apt install nodejs npm</code> 安装)</em></p>
<h3 id="4-另一种选择直接在-neovim-里渲染-更帅">4. 另一种选择：直接在 Neovim 里渲染 (更帅)</h3>
<p>如果你觉得还要跳出到浏览器看太麻烦，想要直接在 Neovim 编辑器里看到 <strong>加粗</strong>、<em>斜体</em>、表格甚至是 LaTeX 公式的渲染效果，可以使用 LazyVim 官方推荐的 <strong>Render Markdown</strong>。</p>
<p><strong>操作方法：</strong> 修改 <code>~/.config/nvim/lua/config/lazy.lua</code>，加入这一行 Extra：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>{ import = "lazyvim.plugins.extras.lang.markdown" },</span></span></code></pre>
<p><strong>效果：</strong> 重启后，你编辑器里的 Markdown 标题会变大、表格会对齐、分割线会变实线，直接实现了“所见即所得”，不再需要浏览器预览了。</p>
<h3 id="排查场景-6-error-running-markdownlint-cli2-eno">排查场景 6. Error running markdownlint-cli2: ENO…</h3>
<ul>
<li>场景：Error running markdownlint-cli2: ENO…</li>
<li>处理要点：<br>
这个错误 <code>ENOENT: no such file or directory</code> 的意思是：<strong>系统找不到 <code>markdownlint-cli2</code> 这个可执行文件</strong>。</li>
</ul>
<p>虽然 LazyVim 的 <code>lang.markdown</code> 扩展包想帮你自动配置 Markdown 的语法检查（Linter），但它依赖的底层工具 <code>markdownlint-cli2</code> 没有成功安装。</p>
<p>通常是因为你的系统里缺少了 <strong>Node.js</strong> 环境，或者 Mason（Neovim 的包管理器）下载失败了。</p>
<p>请按以下步骤修复：</p>
<h3 id="第一步检查-nodejs-最常见原因">第一步：检查 Node.js (最常见原因)</h3>
<p><code>markdownlint-cli2</code> 是一个 npm 包，它<strong>必须</strong>依赖 Node.js 和 npm 才能运行。</p>
<p>在终端（Terminal）里运行：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>node -v</span></span>
<span class="line"><span>npm -v</span></span></code></pre>
<ul>
<li><strong>如果有版本号</strong>：跳到第二步。</li>
<li><strong>如果提示 <code>command not found</code></strong>：你需要先安装 Node.js。
<ul>
<li><strong>Ubuntu/WSL:</strong></li>
</ul>
</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>        sudo apt update</span></span>
<span class="line"><span>        sudo apt install nodejs npm</span></span></code></pre>
<h3 id="第二步使用-mason-手动安装-最快修复">第二步：使用 Mason 手动安装 (最快修复)</h3>
<p>既然环境有了，我们让 Neovim 重新下载这个工具。</p>
<ol>
<li>在 Neovim 中输入命令打开 Mason 面板：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    :Mason</span></span></code></pre>
<ol start="2">
<li>在面板中按下 <code>/</code> 键（搜索），输入：</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    markdownlint-cli2</span></span></code></pre>
<ol start="3">
<li>你会看到它应该显示在列表中。
<ul>
<li>如果它旁边没有版本号（未安装），按下 <strong><code>i</code></strong> 键进行安装。</li>
<li>如果它已经在装了但报错，按下 <strong><code>X</code></strong> (大写) 卸载，再按 <strong><code>i</code></strong> 重装。</li>
</ul>
</li>
<li>等待安装完成（显示绿色）。</li>
</ol>
<h3 id="第三步验证">第三步：验证</h3>
<p>关闭并重新打开你的 <code>.md</code> 文件。错误提示应该消失了，而且当你故意写错 Markdown 语法（比如标题层级跳跃）时，应该能在左侧看到黄色或红色的提示图标。</p>
<h3 id="进阶一劳永逸的配置">进阶：一劳永逸的配置</h3>
<p>为了防止以后换电脑或者重装时又忘了该事项，你可以强制 LazyVim 自动安装它。</p>
<p>修改 <code>~/.config/nvim/lua/config/lazy.lua</code>，在 <code>spec</code> 部分确认你启用了 markdown 扩展（你之前应该加过了）：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>-- 这一行会自动帮你配置好 linter，并尝试通过 Mason 安装 markdownlint-cli2</span></span>
<span class="line"><span>{ import = "lazyvim.plugins.extras.lang.markdown" },</span></span></code></pre>
<p>如果你想手动控制 Mason 安装列表，可以加一个插件配置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>-- lua/plugins/mason-ensure.lua</span></span>
<span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "williamboman/mason.nvim",</span></span>
<span class="line"><span>    opts = function(_, opts)</span></span>
<span class="line"><span>      opts.ensure_installed = opts.ensure_installed or {}</span></span>
<span class="line"><span>      vim.list_extend(opts.ensure_installed, {</span></span>
<span class="line"><span>        "markdownlint-cli2", -- 强制 Mason 安装这个</span></span>
<span class="line"><span>        "markuplint",        -- HTML 检查</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>    end,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre>
<h3 id="主题-6-这是什么路径">主题 6. 这是什么路径</h3>
<p>这不是一个文件路径，而是一个 <strong>Shell 函数 (Function)</strong>。</p>
<p>当你运行 <code>which nvm</code> 时，如果输出的是一段代码（<code>nvm () { ... }</code>），说明 <code>nvm</code> 并没有作为一个独立的程序文件存在于硬盘的某个角落（比如 <code>/usr/bin/nvm</code>），而是直接加载到了你的 Zsh 内存中。</p>
<h3 id="为什么会这样">为什么会这样。</h3>
<ol>
<li><strong>来源</strong>：这是你之前在 <code>.zshrc</code> 里通过 <code>zplug "lukechilds/zsh-nvm"</code> 安装的插件生成的。</li>
<li><strong>原理</strong>：NVM (Node Version Manager) 的工作原理是动态修改你的环境变量（<code>PATH</code>），从而让你切换 Node 版本。普通的二进制程序很难修改父 Shell 的环境变量，所以 <strong>NVM 必须以 Shell 函数的形式运行</strong>。</li>
</ol>
<h3 id="这对-neovim-有什么影响">这对 Neovim 有什么影响。</h3>
<p>Neovim (Mason) 并不直接调用 <code>nvm</code>，它需要的是 <code>npm</code> 和 <code>node</code> 命令。</p>
<p>因为 <code>nvm</code> 只是个函数，如果你没有通过它“激活”某个 Node 版本，Mason 就找不到 <code>npm</code>，就会报你刚才遇到的 <code>markdownlint-cli2</code> 错误。</p>
<h3 id="你现在需要做这-2-步检查">你现在需要做这 2 步检查</h3>
<p>请在终端里依次执行：</p>
<h4 id="1-检查-node-是否已就位">1. 检查 Node 是否已就位</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>which node</span></span></code></pre>
<ul>
<li><strong>如果不显示路径</strong>（或者提示 <code>not found</code>）：说明你虽然有 nvm，但没安装/选中任何 Node 版本。</li>
<li><strong>如果显示路径</strong>（例如 <code>/home/wayne/.nvm/versions/node/v20.x/bin/node</code>）：说明 Node 正常。</li>
</ul>
<h4 id="2-解决办法如果没有-node">2. 解决办法（如果没有 Node）</h4>
<p>如果上面没显示路径，你需要安装一个长期支持版（LTS）并设为默认：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># 1. 安装最新的 LTS 版本</span></span>
<span class="line"><span>nvm install --lts</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 2. 设为默认 (这样每次打开终端和 Neovim 都能自动找到)</span></span>
<span class="line"><span>nvm alias default lts/*</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 3. 验证</span></span>
<span class="line"><span>node -v</span></span>
<span class="line"><span>npm -v</span></span></code></pre>
<p>只要 <code>npm -v</code> 能输出版本号，回到 Neovim 里再次运行 <code>:Mason</code> 安装 <code>markdownlint-cli2</code> 就一定会成功了。</p>
<h3 id="主题-7-能展示数学公式吗">主题 7. 能展示数学公式吗</h3>
<p>当然可以。对于计算机研究生来说，写算法分析、论文笔记时，数学公式支持是必须的。</p>
<p>在 Neovim 中展示数学公式主要有两种流派：<strong>“所见即所得” (编辑器内渲染)</strong> 和 <strong>“浏览器预览” (完美排版)</strong>。</p>
<h3 id="动手测试">动手测试</h3>
<p>请直接复制下面的 Markdown 代码段粘贴到你的 <code>test.md</code> 文件里，我们来看看效果：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span># Math Test</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**行内公式 (Inline):**</span></span>
<span class="line"><span>算法的时间复杂度是 $O(n \log n)$，其中 $\alpha = \frac{1}{\sqrt{2\pi\sigma^2}}$。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**块级公式 (Block):**</span></span>
<span class="line"><span>这里是梯度下降的核心更新规则：</span></span>
<span class="line"><span>$$</span></span>
<span class="line"><span>\theta_j := \theta_j - \alpha \frac{\partial}{\partial \theta_j} J(\theta_0, \theta_1)</span></span>
<span class="line"><span>$$</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**复杂矩阵:**</span></span>
<span class="line"><span>$$</span></span>
<span class="line"><span>\begin{pmatrix}</span></span>
<span class="line"><span>a &#x26; b \\</span></span>
<span class="line"><span>c &#x26; d</span></span>
<span class="line"><span>\end{pmatrix}^{-1} = \frac{1}{ad-bc}</span></span>
<span class="line"><span>\begin{pmatrix}</span></span>
<span class="line"><span>d &#x26; -b \\</span></span>
<span class="line"><span>-c &#x26; a</span></span>
<span class="line"><span>\end{pmatrix}</span></span>
<span class="line"><span>$$</span></span></code></pre>
<h3 id="方案一在编辑器里直接看-render-markdown">方案一：在编辑器里直接看 (Render Markdown)</h3>
<p>如果你之前启用了 <code>lazyvim.plugins.extras.lang.markdown</code>，并且安装了推荐的插件 <strong><code>render-markdown.nvim</code></strong>（通常包含在那个 Extra 里），你会发现神奇的一幕：</p>
<ul>
<li>不需要打开浏览器。</li>
<li>你输入的 <code>$ \alpha $</code> 在编辑器里会直接变成希腊字母 <strong>α</strong>。</li>
<li><code>\frac</code> 分数线可能会以一种简化的方式显示。</li>
</ul>
<p><strong>这依赖于你的 Nerd Font 字体支持</strong>。它虽然不能做到像 LaTeX PDF 那样完美，但足够让你在写代码时看懂公式了。</p>
<h3 id="方案二在浏览器里完美渲染-markdown-preview">方案二：在浏览器里完美渲染 (Markdown Preview)</h3>
<p>这是写论文级别的渲染。当你使用我们之前配置的 <strong><code>&#x3C;leader>cp</code></strong> (或 <code>:MarkdownPreview</code>) 打开浏览器预览时：</p>
<ul>
<li>它会调用 <strong>KaTeX</strong> 或 <strong>MathJax</strong> 引擎。</li>
<li>上面的公式会渲染得和 PDF 一样精美。</li>
</ul>
<h3 id="如果浏览器里公式没显示">如果浏览器里公式没显示。</h3>
<p>如果在浏览器里看到了 <code>$$</code> 源码而不是渲染后的公式，说明 <code>markdown-preview.nvim</code> 的数学选项没开。</p>
<p>请修改 <code>lua/plugins/markdown.lua</code> (如果在这个文件配置的话)，或者直接确保你的配置包含 <code>math</code> 选项。不过通常默认是开启的。</p>
<p>你可以强制开启 MathJax 支持：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "iamcco/markdown-preview.nvim",</span></span>
<span class="line"><span>    cmd = { "MarkdownPreviewToggle", "MarkdownPreview", "MarkdownPreviewStop" },</span></span>
<span class="line"><span>    build = "cd app &#x26;&#x26; npm install",</span></span>
<span class="line"><span>    init = function()</span></span>
<span class="line"><span>      vim.g.mkdp_filetypes = { "markdown" }</span></span>
<span class="line"><span>      -- 强制开启数学公式支持</span></span>
<span class="line"><span>      vim.g.mkdp_preview_options = {</span></span>
<span class="line"><span>        mkit = {},</span></span>
<span class="line"><span>        katex = {},</span></span>
<span class="line"><span>        uml = {},</span></span>
<span class="line"><span>        maid = {},</span></span>
<span class="line"><span>        disable_sync_scroll = 0,</span></span>
<span class="line"><span>        sync_scroll_type = "middle",</span></span>
<span class="line"><span>        hide_yaml_meta = 1,</span></span>
<span class="line"><span>        sequence_diagrams = {},</span></span>
<span class="line"><span>        flowchart_diagrams = {},</span></span>
<span class="line"><span>        content_editable = false,</span></span>
<span class="line"><span>        disable_filename = 0,</span></span>
<span class="line"><span>        toc = {},</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    end,</span></span>
<span class="line"><span>    -- ... keys 等配置</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre>
<p><strong>你现在的编辑器里，复制进去的那段公式变样了吗。</strong></p>
<h3 id="主题-8-没有实时渲染但是浏览器可以看">主题 8. 没有实时渲染，但是浏览器可以看</h3>
<p>在 Neovim（终端）里实现“实时渲染”和浏览器里那种“画出来”的效果是不一样的。</p>
<ul>
<li><strong>浏览器 (Browser):</strong> 使用图形引擎，能画出完美的积分符号、分式横线。</li>
<li><strong>终端 (Neovim):</strong> 本质是显示字符。要实现“渲染感”，通常是用 <strong>Unicode 符号</strong> 替换 <strong>文本代码</strong>（比如把 <code>\alpha</code> 替换成 <code>α</code>，把 <code>###</code> 标题变颜色加粗）。</li>
</ul>
<p>既然浏览器能看，说明你的环境没问题。如果你想在 <strong>Neovim 编辑器内部</strong> 也看到漂亮的数学符号（而不是枯燥的代码），你需要安装 <strong><code>render-markdown.nvim</code></strong> 并开启 <strong>Conceal（隐藏源码）</strong> 特性。</p>
<h3 id="方案让-neovim-里的公式变身">方案：让 Neovim 里的公式“变身”</h3>
<p>请在 <code>lua/plugins/</code> 下新建一个文件，比如 <code>lua/plugins/markdown-render.lua</code>，填入以下配置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>return {</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    "MeanderingProgrammer/render-markdown.nvim",</span></span>
<span class="line"><span>    -- 只有打开 markdown 文件时才加载</span></span>
<span class="line"><span>    ft = { "markdown", "quarto" },</span></span>
<span class="line"><span>    opts = {</span></span>
<span class="line"><span>      code = {</span></span>
<span class="line"><span>        sign = false,</span></span>
<span class="line"><span>        width = "block",</span></span>
<span class="line"><span>        right_pad = 1,</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      heading = {</span></span>
<span class="line"><span>        sign = false,</span></span>
<span class="line"><span>        icons = { "󰲡 ", "󰲣 ", "󰲥 ", "󰲧 ", "󰲩 ", "󰲫 " }, -- 漂亮的标题图标</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      -- 开启 LaTeX 数学公式渲染</span></span>
<span class="line"><span>      latex = {</span></span>
<span class="line"><span>        enabled = true,</span></span>
<span class="line"><span>        converter = "latex2text", -- 将 latex 转换为近似的 unicode 符号</span></span>
<span class="line"><span>        highlight = "RenderMarkdownMath",</span></span>
<span class="line"><span>        top_pad = 0,</span></span>
<span class="line"><span>        bottom_pad = 0,</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    -- 关键：确保 conceallevel 被设置，否则你看不到渲染效果，只能看到源码</span></span>
<span class="line"><span>    config = function(_, opts)</span></span>
<span class="line"><span>      require("render-markdown").setup(opts)</span></span>
<span class="line"><span>      vim.api.nvim_create_autocmd("FileType", {</span></span>
<span class="line"><span>        pattern = "markdown",</span></span>
<span class="line"><span>        callback = function()</span></span>
<span class="line"><span>          vim.opt_local.conceallevel = 2 -- 隐藏源码，显示渲染符号</span></span>
<span class="line"><span>        end,</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>    end,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre>
<h3 id="生效后的效果">生效后的效果</h3>
<p>保存并重启 Neovim，再次打开那个包含公式的 <code>md</code> 文件：</p>
<ol>
<li><strong>行内公式</strong>: 你输入的 <code>$\alpha$</code> 会直接显示为 <strong>α</strong>（不再显示 <code>$</code> 符号）。</li>
<li><strong>箭头</strong>: <code>\rightarrow</code> 会变成 <strong>→</strong>。</li>
<li><strong>标题</strong>: <code>## Title</code> 前面的 <code>##</code> 会被隐藏，变成一个图标，并且整行背景色可能会变（取决于你的配色主题）。</li>
<li><strong>表格</strong>: 管道符 <code>|</code> 会对齐得更整齐。</li>
</ol>
<h3 id="️-重要限制心里预期管理">️ 重要限制（心里预期管理）</h3>
<p>终端毕竟是终端，它<strong>无法</strong>在行与行之间画出“图片”。</p>
<ul>
<li>它<strong>不能</strong>渲染复杂的矩阵（Matrix）或大括号换行，这些在终端里依然会显示为源码，或者显示得比较简陋。</li>
<li>它<strong>只能</strong>把常见的数学符号变成 Unicode 字符。</li>
</ul>
<p><strong>如果你在 Neovim 里看到的是源码，但想要“所见即所得”的体验，按一下 <code>:RenderMarkdown toggle</code> 可能能解决问题。</strong></p>
<p>但如果你追求的是<strong>在终端里直接看到像 PDF 一样的数学公式图片</strong>，那需要折腾更高级的 <code>image.nvim</code> + <code>UEBERZUG</code>，配置极其复杂且不稳定，<strong>对于刚上手的用户，我强烈不建议现在去折腾那个。</strong> 浏览器预览是目前最完美的方案。</p>
<h2 id="实施与验证清单">实施与验证清单</h2>
<ol>
<li>执行前先确认环境、版本和依赖与文中前置条件一致。</li>
<li>涉及系统级变更时，先备份关键配置或创建快照。</li>
<li>完成操作后按验证步骤确认结果，再执行清理或覆盖动作。</li>
</ol>  </div> <footer class="article-footer" data-astro-cid-bvzihdzo> <div class="share-section" data-astro-cid-bvzihdzo> <div class="share-buttons" data-astro-cid-zllr3mxm> <span class="share-label" data-astro-cid-zllr3mxm>Share:</span> <a href="https://twitter.com/intent/tweet?text=Neovim%20%E6%A0%B8%E5%BF%83%E6%8A%80%E5%B7%A7%E4%B8%8E%E7%8E%B0%E4%BB%A3%E9%85%8D%E7%BD%AE&url=https%3A%2F%2Fblog.liweijun.com%2Fblog%2Flinux%2Fneovim-%25E6%25A0%25B8%25E5%25BF%2583%25E6%258A%2580%25E5%25B7%25A7%25E4%25B8%258E%25E7%258E%25B0%25E4%25BB%25A3%25E9%2585%258D%25E7%25BD%25AE%2F" target="_blank" rel="noopener noreferrer" class="share-btn twitter" title="Share on X" data-astro-cid-zllr3mxm> <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18" data-astro-cid-zllr3mxm> <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" data-astro-cid-zllr3mxm></path> </svg> <span data-astro-cid-zllr3mxm>Post on X</span> </a> <button class="share-btn copy-link" id="copyLinkBtn" data-url="https://blog.liweijun.com/blog/linux/neovim-%E6%A0%B8%E5%BF%83%E6%8A%80%E5%B7%A7%E4%B8%8E%E7%8E%B0%E4%BB%A3%E9%85%8D%E7%BD%AE/" data-astro-cid-zllr3mxm> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18" data-astro-cid-zllr3mxm> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" data-astro-cid-zllr3mxm></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" data-astro-cid-zllr3mxm></path> </svg> <span class="copy-text" data-astro-cid-zllr3mxm>Copy Link</span> </button> </div>  <script type="module">const t=document.getElementById("copyLinkBtn"),e=t?.querySelector(".copy-text");t?.addEventListener("click",async()=>{const o=t.dataset.url||window.location.href;try{await navigator.clipboard.writeText(o),t.classList.add("copied"),e&&(e.textContent="Copied!"),setTimeout(()=>{t.classList.remove("copied"),e&&(e.textContent="Copy Link")},2e3)}catch(c){console.error("Failed to copy:",c)}});</script> </div> <section class="related-posts" data-astro-cid-dpgbfi7r><h3 class="related-title" data-astro-cid-dpgbfi7r><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="20" height="20" data-astro-cid-dpgbfi7r><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" data-astro-cid-dpgbfi7r></path></svg>
Related Posts
</h3><div class="related-grid" data-astro-cid-dpgbfi7r><a href="/blog/linux/arch-linux-安装最新版-neovim/" class="related-card" data-astro-cid-dpgbfi7r><h4 class="related-card-title" data-astro-cid-dpgbfi7r>Arch Linux 安装最新版 Neovim</h4><p class="related-card-desc" data-astro-cid-dpgbfi7r>安装剪贴板支持： (X11) 或 (Wayland)。</p></a><a href="/blog/linux/arch-linux-f12-键功能切换指南/" class="related-card" data-astro-cid-dpgbfi7r><h4 class="related-card-title" data-astro-cid-dpgbfi7r>Arch Linux F12 键功能切换指南</h4><p class="related-card-desc" data-astro-cid-dpgbfi7r>快捷键组合： 尝试按下 +。如果 Esc 键上有一个小锁图标，这通常能反转 F 键的行为。</p></a><a href="/blog/linux/arch-输入法窗口切换问题/" class="related-card" data-astro-cid-dpgbfi7r><h4 class="related-card-title" data-astro-cid-dpgbfi7r>Arch 输入法窗口切换问题</h4><p class="related-card-desc" data-astro-cid-dpgbfi7r>解决 Arch 切换窗口后输入法自动回中文的问题，重点配置 Fcitx5 的共享状态与默认布局。</p></a></div></section> <section class="comments-section" id="comments" data-astro-cid-jvxsf75u> <h3 class="comments-title" data-astro-cid-jvxsf75u> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="22" height="22" data-astro-cid-jvxsf75u> <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" data-astro-cid-jvxsf75u></path> </svg>
Comments
</h3> <div class="giscus-wrapper" data-astro-cid-jvxsf75u> <script src="https://giscus.app/client.js" data-repo="LosFurina/LosFurina.github.io" data-repo-id="R_kgDOQ_gmWQ" data-category="General" data-category-id="DIC_kwDOQ_gmWc4C2A9-" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script> </div> </section>  <script type="module">function s(){const e=document.documentElement.getAttribute("data-theme"),t=document.querySelector("iframe.giscus-frame");if(t){const i=e==="dark"?"dark":"light";t.contentWindow?.postMessage({giscus:{setConfig:{theme:i}}},"https://giscus.app")}}const n=new MutationObserver(e=>{e.forEach(t=>{t.attributeName==="data-theme"&&s()})});n.observe(document.documentElement,{attributes:!0});window.addEventListener("message",e=>{e.origin==="https://giscus.app"&&s()});</script> </footer> </article> </main> <aside class="right-sidebar" data-astro-cid-bvzihdzo> <!-- Future content --> </aside> </div> <footer data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <p class="copyright" data-astro-cid-sz7xmlte>
&copy; 2026 Wayne Li. All rights reserved.
</p> <div class="social-links" data-astro-cid-sz7xmlte> <a href="https://github.com/LosFurina" target="_blank" rel="noopener" title="GitHub" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path> </svg> </a> <a href="https://x.com/MicroNahida" target="_blank" rel="noopener" title="X (Twitter)" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>X (Twitter)</span> <svg viewBox="0 0 24 24" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" data-astro-cid-sz7xmlte></path> </svg> </a> <a href="mailto:me@liweijun.com" title="Email" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Email</span> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-astro-cid-sz7xmlte></path> <polyline points="22,6 12,13 2,6" data-astro-cid-sz7xmlte></polyline> </svg> </a> <a href="/rss.xml" title="RSS Feed" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>RSS Feed</span> <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="24" height="24" data-astro-cid-sz7xmlte> <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z" data-astro-cid-sz7xmlte></path> </svg> </a> </div> <p class="footer-note" data-astro-cid-sz7xmlte>
Built with <a href="https://astro.build" target="_blank" rel="noopener" data-astro-cid-sz7xmlte>Astro</a> </p> </div> </footer>  </body></html>